!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesUI=e()}}(function(){return function e(t,r,i){function n(a,l){if(!r[a]){if(!t[a]){var o="function"==typeof require&&require;if(!l&&o)return o(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return n(r||e)},c,c.exports,e,t,r,i)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/namespace"),u=l(o),c=e("../core/layer"),h=l(c),f=e("../utils/scales"),d=l(f),p=function(e){function t(e,r){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",[],r),this._generator=e}return n(t,e),s(t,[{key:"_generateData",value:function(){var e=this._generator(this.timeContext);e.unshift(0,this.data[0].length),Array.prototype.splice.apply(this.data[0],e)}},{key:"_updateRenderingContext",value:function(){var e=-this.timeContext.offset;this._renderingContext.timeToPixel=d.default.linear().domain([e,e+1]).range([0,this.timeContext.timeToPixel(1)]),this._renderingContext.minX=0,this._renderingContext.visibleWidth=this.timeContext.visibleWidth,this._renderingContext.width=this._renderingContext.visibleWidth,this._renderingContext.maxX=this._renderingContext.visibleWidth,this._renderingContext.height=this.params.height,this._renderingContext.valueToPixel=this._valueToPixel}},{key:"update",value:function(){this._generateData(),i(Object.getPrototypeOf(t.prototype),"update",this).call(this)}},{key:"_renderContainer",value:function(){this.$el=document.createElementNS(u.default,"g"),null!==this.params.className&&this.$el.classList.add("layer",this.params.className),this.$maingroup=document.createElementNS(u.default,"g"),this.$maingroup.classList.add("maingroup","items"),this.$background=document.createElementNS(u.default,"rect"),this.$background.setAttributeNS(null,"height","100%"),this.$background.classList.add("background"),this.$background.style.fillOpacity=0,this.$background.style.pointerEvents="none",this.$el.appendChild(this.$maingroup),this.$maingroup.appendChild(this.$background)}},{key:"_updateContainer",value:function(){this._updateRenderingContext();var e=this.params.top,t=this.params.height,r="matrix(1, 0, 0, -1, 0, "+(e+t)+")";this.$el.setAttributeNS(null,"transform",r),this.$background.setAttributeNS(null,"width",t)}},{key:"stretchRatio",set:function(e){},get:function(){}},{key:"offset",set:function(e){},get:function(){}},{key:"start",set:function(e){},get:function(){}},{key:"duration",set:function(e){},get:function(){}},{key:"generator",set:function(e){this._generator=e},get:function(){return this._generator}}]),t}(h.default);r.default=p,t.exports=r.default},{"../core/layer":11,"../core/namespace":12,"../utils/scales":70,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],2:[function(e,t,r){"use strict";function i(e,t){var r=e/60,i=(parseInt(t.split("/")[1],10),parseInt(t.split("/")[0],10));return function(e){for(var t=e.visibleDuration,n=e.offset,s=[],a=-n,l=t-n,o=e.computedPixelsPerSecond,u=1/r,c=a%u,h=(a-c)/u,f=u*h,d=h%i,p=o/r,b=f;b<l;b+=u){var m=d++%i==0;p<=5&&!m||s.push({time:b,focused:m})}return s}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i,t.exports=r.default},{}],3:[function(e,t,r){"use strict";function i(){return function(e){var t=e.visibleDuration,r=e.offset,i=[],s=-r,a=t-r,l=e.computedPixelsPerSecond,o=void 0,u=void 0,c=void 0,h=void 0;4*l>7&&(o=1,u=0,c=60,h=5),2*l>7&&(o=1,u=0,c=30,h=1),l>7&&(o=1,u=0,c=10,h=1),l/10>7&&(o=.1,u=1,c=10,h=1),l/100>7&&(o=.01,u=2,c=10,h=1),l/1e3>7&&(o=.001,u=3,c=10,h=1),l/1e4>7&&(o=1e-4,u=4,c=10,h=1);for(var f=s;f<a;f+=o){var d=f.toFixed(u);if(Math.round(d/o)%h==0){var p=Math.round(d/o)%c==0,b={time:d,focused:p};if(!0===p){var m=new Date(1e3*d),v=(0,n.padLeft)(m.getMinutes(),0,2),y=(0,n.padLeft)(m.getSeconds(),0,2),g=(0,n.padLeft)(m.getMilliseconds(),0,3),x=v+":"+y+":"+g;b.label=x}i.push(b)}}return i}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var n=e("../utils/format");t.exports=r.default},{"../utils/format":63}],4:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default,s=e("babel-runtime/helpers/to-consumable-array").default,a=e("babel-runtime/core-js/set").default;Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function e(){n(this,e),this._selectedItems=new a,this._selectedClass=null,this._layer=null}return i(e,[{key:"initialize",value:function(e){this._layer=e,this._selectedClass=e.params.selectedClassName}},{key:"destroy",value:function(){this._selectedItems.clear()}},{key:"select",value:function(e,t){e.classList.add(this.selectedClass),this._selectedItems.add(e)}},{key:"unselect",value:function(e,t){e.classList.remove(this.selectedClass),this._selectedItems.delete(e)}},{key:"toggleSelection",value:function(e,t){this[this._selectedItems.has(e)?"unselect":"select"](e)}},{key:"edit",value:function(e,t,r,i,n,s){}},{key:"selectedClass",set:function(e){this._selectedClass=e},get:function(){return this._selectedClass}},{key:"selectedItems",get:function(){return[].concat(s(this._selectedItems))}}]),e}();r.default=l,t.exports=r.default},{"babel-runtime/core-js/set":84,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/to-consumable-array":93}],5:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"edit",value:function(e,t,r,i,n,s){var a=this._layer.data,l=e.height,o=e.timeToPixel(t.cx(r)),u=e.valueToPixel(t.cy(r)),c=o+i,h=u-n;if(a.length>2){var f=a.map(function(r){return e.timeToPixel(t.cx(r))});f.sort(function(e,t){return e<t?-1:1});var d=f.indexOf(o);(c<f[d-1]||c>f[d+1])&&(c=o)}h<0?h=0:h>l&&(h=l),t.cx(r,e.timeToPixel.invert(c)),t.cy(r,e.valueToPixel.invert(h))}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],6:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"edit",value:function(e,t,r,i,n,s){var a=e.timeToPixel(t.x(r)),l=a+i>0?a+i:0;t.x(r,e.timeToPixel.invert(l))}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],7:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"edit",value:function(e,t,r,i,n,s){var a=s.classList,l="move";a.contains("handler")&&a.contains("left")?l="resizeLeft":a.contains("handler")&&a.contains("right")&&(l="resizeRight"),this["_"+l](e,t,r,i,n,s)}},{key:"_move",value:function(e,t,r,i,n,s){var a=e.height,l=e.timeToPixel(t.x(r)),o=e.valueToPixel(t.y(r)),u=e.valueToPixel(t.height(r)),c=Math.max(l+i,0),h=o-n;h<0?h=0:h+u>a&&(h=a-u),t.x(r,e.timeToPixel.invert(c)),t.y(r,e.valueToPixel.invert(h))}},{key:"_resizeLeft",value:function(e,t,r,i,n,s){var a=e.timeToPixel(t.x(r)),l=e.timeToPixel(t.width(r)),o=a+l,u=a+i<o?Math.max(a+i,0):a,c=0!==u?Math.max(l-i,1):l;t.x(r,e.timeToPixel.invert(u)),t.width(r,e.timeToPixel.invert(c))}},{key:"_resizeRight",value:function(e,t,r,i,n,s){var a=e.timeToPixel(t.width(r)),l=Math.max(a+i,1);t.width(r,e.timeToPixel.invert(l))}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],8:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default;Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(){n(this,e)}return i(e,[{key:"edit",value:function(e,t,r,i){var n=e.timeContext;i.classList.contains("handler")&&i.classList.contains("left")?this._editLeft(n,t):i.classList.contains("handler")&&i.classList.contains("right")?this._editRight(n,t):i.classList.contains("segment")&&this._move(n,t)}},{key:"_editLeft",value:function(e,t){var r=e.parent.timeToPixel(e.start),i=e.timeToPixel(e.offset),n=e.timeToPixel(e.duration),s=r+t,a=i-t,l=Math.max(n-t,1);e.start=e.parent.timeToPixel.invert(s),e.offset=e.timeToPixel.invert(a),e.duration=e.timeToPixel.invert(l)}},{key:"_editRight",value:function(e,t){var r=e.timeToPixel(e.duration),i=Math.max(r+t,1);e.duration=e.timeToPixel.invert(i)}},{key:"_move",value:function(e,t){var r=e.parent.timeToPixel(e.start),i=Math.max(r+t,0);e.start=e.parent.timeToPixel.invert(i)}},{key:"stretch",value:function(e,t,r,i){var n=e.timeContext,s=n.duration,a=n.offset;this.edit(e,t,r,i);var l=n.duration,o=l/s;n.stretchRatio*=o,n.offset=a,n.duration=s}}]),e}();r.default=s,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88}],9:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"edit",value:function(e,t,r,i,n,s){s.classList.contains("min")?this._editRange(e,t,r,i,n,"min"):s.classList.contains("max")?this._editRange(e,t,r,i,n,"max"):this._editMean(e,t,r,i,n)}},{key:"_editMean",value:function(e,t,r,i,n){var s=e.timeToPixel(t.x(r)),a=e.valueToPixel(t.mean(r)),l=s+i,o=a-n;t.x(r,e.timeToPixel.invert(l)),t.mean(r,e.valueToPixel.invert(o))}},{key:"_editRange",value:function(e,t,r,i,n,s){var a=e.valueToPixel(t.range(r)),l="min"===s?a+2*n:a-2*n;l=Math.max(l,0),t.range(r,e.valueToPixel.invert(l))}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],10:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default,s=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var a=e("../utils/scales"),l=s(a),o=function(){function e(t){if(n(this,e),!t)throw new Error("LayerTimeContext must have a parent");this.parent=t,this._timeToPixel=null,this._start=0,this._duration=t.visibleDuration,this._offset=0,this._stretchRatio=1,this.parent._children.push(this)}return i(e,[{key:"clone",value:function(){var e=new this;return e.parent=this.parent,e.start=this.start,e.duration=this.duration,e.offset=this.offset,e.stretchRatio=this.stretchRatio,e}},{key:"pixelToTime",value:function(e){return this._timeToPixel?this._timeToPixel.invert(e):this.parent.timeToPixel.invert(e)}},{key:"start",get:function(){return this._start},set:function(e){this._start=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"stretchRatio",get:function(){return this._stretchRatio},set:function(e){if(1===e)return void(this._timeToPixel=null);var t=this._timeToPixel?this._timeToPixel:l.default.linear().domain([0,1]);t.range([0,this.parent.computedPixelsPerSecond*e]),this._timeToPixel=t,this._stretchRatio=e}},{key:"timeToPixel",get:function(){return this._timeToPixel?this._timeToPixel:this.parent.timeToPixel}}]),e}();r.default=o,t.exports=r.default},{"../utils/scales":70,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/interop-require-default":91}],11:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/sliced-to-array").default,o=e("babel-runtime/core-js/object/assign").default,u=e("babel-runtime/core-js/map").default,c=e("babel-runtime/core-js/get-iterator").default,h=e("babel-runtime/core-js/array/from").default,f=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var d=e("events"),p=f(d),b=e("./namespace"),m=f(b),v=e("../utils/scales"),y=f(v),g=e("../shapes/segment"),x=f(g),$=e("../behaviors/time-context-behavior"),_=f($),k=null,w=_.default,j=function(e){function t(e,r){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var s={height:100,top:0,opacity:1,yDomain:[0,1],className:null,selectedClassName:"selected",contextHandlerWidth:2,hittable:!0,id:"",overflow:"hidden",describer:null};this.params=o({},s,n),this.dataType=e,this.timeContext=null,this.$el=null,this.$background=null,this.$boundingBox=null,this.$maingroup=null,this.$interactions=null,this.contextShape=null,this._shapeConfiguration=null,this._commonShapeConfiguration=null,this._$itemShapeMap=new u,this._$itemDataMap=new u,this._$itemCommonShapeMap=new u,this._isContextEditable=!1,this._behavior=null,this.data=r,this._valueToPixel=y.default.linear().domain(this.params.yDomain).range([0,this.params.height]),this._renderContainer(),null===k&&(k=new w)}return n(t,e),s(t,[{key:"destroy",value:function(){"entity"==this.dataType&&void 0!==this.data.dispose&&this.data.dispose(),this.timeContext=null,this.data=null,this.params=null,this._behavior=null,this._$itemShapeMap.clear(),this._$itemDataMap.clear(),this._$itemCommonShapeMap.clear(),this.removeAllListeners()}},{key:"_renderContainer",value:function(){this.$el=document.createElementNS(m.default,"g"),this.$el.classList.add("layer"),null!==this.params.className&&this.$el.classList.add(this.params.className),this.$boundingBox=document.createElementNS(m.default,"svg"),this.$boundingBox.classList.add("bounding-box"),this.$boundingBox.style.overflow=this.params.overflow,this.$maingroup=document.createElementNS(m.default,"g"),this.$maingroup.classList.add("maingroup","items"),this.$background=document.createElementNS(m.default,"rect"),this.$background.setAttributeNS(null,"height","100%"),this.$background.setAttributeNS(null,"width","100%"),this.$background.classList.add("background"),this.$background.style.fillOpacity=0,this.$background.style.pointerEvents="none",this.$el.appendChild(this.$boundingBox),this.$boundingBox.appendChild(this.$maingroup),this.$maingroup.appendChild(this.$background),this._isContextEditable&&this._addInteractionsElements()}},{key:"_addInteractionsElements",value:function(){var e=this;if(null===this.$interactions){this.$interactions=document.createElementNS(m.default,"g"),this.$interactions.classList.add("interactions");var t=this._isContextEditable?"block":"none";this.$interactions.style.display=t,this.contextShape=new x.default,this.contextShape.install({opacity:function(){return.1},color:function(){return"#787878"},width:function(){return e.timeContext.duration},height:function(){return e._renderingContext.valueToPixel.domain()[1]},y:function(){return e._renderingContext.valueToPixel.domain()[0]}}),this.$interactions.appendChild(this.contextShape.render()),this.$boundingBox.appendChild(this.$interactions)}}},{key:"setTimeContext",value:function(e){this.timeContext=e,this._renderingContext={},this._updateRenderingContext()}},{key:"configureShape",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._shapeConfiguration={ctor:e,accessors:t,options:r}}},{key:"configureCommonShape",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._commonShapeConfiguration={ctor:e,accessors:t,options:r}}},{key:"setBehavior",value:function(e){e.initialize(this),this._behavior=e}},{key:"_updateRenderingContext",value:function(){var e=this.timeContext.start,t=this.timeContext.offset,r=this.timeContext.parent.offset,i=r+e,n=-i-t;this._renderingContext.timeToPixel=y.default.linear().domain([n,n+1]).range([0,this.timeContext.timeToPixel(1)]),this._renderingContext.minX=0,this._renderingContext.visibleWidth=this.timeContext.parent.visibleWidth,this._renderingContext.width=this._renderingContext.visibleWidth,this._renderingContext.maxX=this._renderingContext.visibleWidth,this._renderingContext.height=this.params.height,this._renderingContext.valueToPixel=this._valueToPixel}},{key:"select",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var i=!0,n=!1,s=void 0;try{for(var a,l=c(t);!(i=(a=l.next()).done);i=!0){var o=a.value,u=this._$itemDataMap.get(o);this._behavior.select(o,u),this._toFront(o)}}catch(e){n=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}}}},{key:"unselect",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var i=!0,n=!1,s=void 0;try{for(var a,l=c(t);!(i=(a=l.next()).done);i=!0){var o=a.value,u=this._$itemDataMap.get(o);this._behavior.unselect(o,u)}}catch(e){n=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}}}},{key:"toggleSelection",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var i=!0,n=!1,s=void 0;try{for(var a,l=c(t);!(i=(a=l.next()).done);i=!0){var o=a.value,u=this._$itemDataMap.get(o);this._behavior.toggleSelection(o,u)}}catch(e){n=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}}}},{key:"edit",value:function(e,t,r,i){if(this._behavior){e=Array.isArray(e)?e:[e];var n=!0,s=!1,a=void 0;try{for(var l,o=c(e);!(n=(l=o.next()).done);n=!0){var u=l.value,h=this._$itemShapeMap.get(u),f=this._$itemDataMap.get(u);this._behavior.edit(this._renderingContext,h,f,t,r,i),this.emit("edit",h,f)}}catch(e){s=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}}}},{key:"setContextEditable",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this._isContextEditable=e,null===this.$interactions)this._addInteractionsElements();else{var t=e?"block":"none";this.$interactions.style.display=t}}},{key:"editContext",value:function(e,t,r){k.edit(this,e,t,r)}},{key:"stretchContext",value:function(e,t,r){k.stretch(this,e,t,r)}},{key:"getItemFromDOMElement",value:function(e){var t=void 0;do{if(e.classList&&e.classList.contains("item")){t=e;break}e=e.parentNode}while(null!==e);return this.hasItem(t)?t:null}},{key:"getDatumFromItem",value:function(e){var t=this._$itemDataMap.get(e);return t||null}},{key:"getDatumFromDOMElement",value:function(e){var t=this.getItemFromDOMElement(e);return null===t?null:this.getDatumFromItem(t)}},{key:"hasItem",value:function(e){return this._$itemDataMap.has(e)}},{key:"hasElement",value:function(e){do{if(e===this.$el)return!0;e=e.parentNode}while(null!==e);return!1}},{key:"getItemsInArea",value:function(e){var t=e.left,r=e.left+e.width,i=this.params.height-(e.top+e.height),n=this.params.height-e.top;i+=this.params.top,n+=this.params.top;var s=[],a=!0,o=!1,u=void 0;try{for(var h,f=c(this._$itemDataMap.entries());!(a=(h=f.next()).done);a=!0){var d=l(h.value,2),p=d[0],b=d[1];this._$itemShapeMap.get(p).inArea(this._renderingContext,b,t,i,r,n)&&s.push(p)}}catch(e){o=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw u}}return s}},{key:"_toFront",value:function(e){this.$maingroup.appendChild(e)}},{key:"render",value:function(){var e=this,t=performance.now();if(null!==this._commonShapeConfiguration&&0===this._$itemCommonShapeMap.size){var r=this._commonShapeConfiguration,i=r.ctor,n=r.accessors,s=r.options,a=document.createElementNS(m.default,"g"),o=new i(s);o.install(n),a.appendChild(o.render()),a.classList.add("item","common",o.getClassName()),this._$itemCommonShapeMap.set(a,o),this.$maingroup.appendChild(a)}var u=document.createDocumentFragment(),h=this._$itemDataMap.values();null!==this._shapeConfiguration&&(this.data.forEach(function(t){var r=!0,i=!1,n=void 0;try{for(var s,a=c(h);!(r=(s=a.next()).done);r=!0){if(s.value===t)return}}catch(e){i=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw n}}var l=e._shapeConfiguration,o=l.ctor,f=l.accessors,d=l.options,p=new o(d);p.install(f);var b=p.render(e._renderingContext);b.classList.add("item",p.getClassName()),e._$itemShapeMap.set(b,p),e._$itemDataMap.set(b,t),u.appendChild(b)}),this.$maingroup.appendChild(u));var f=!0,d=!1,p=void 0;try{for(var b,v=c(this._$itemDataMap.entries());!(f=(b=v.next()).done);f=!0){var y=l(b.value,2),g=y[0],x=y[1];if(-1===this.data.indexOf(x)){var o=this._$itemShapeMap.get(g);this.$maingroup.removeChild(g),o.destroy(),this._behavior&&this._behavior.unselect(g,x),this._$itemDataMap.delete(g),this._$itemShapeMap.delete(g)}}}catch(e){d=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}var $=performance.now();console.log("layer render time = "+Math.round($-t))}},{key:"update",value:function(){this._updateContainer(),this._updateShapes()}},{key:"_updateContainer",value:function(){this._updateRenderingContext();var e=(this.timeContext,this._renderingContext.timeToPixel(this.timeContext.duration));e>this._renderingContext.visibleWidth&&(e=this._renderingContext.visibleWidth);var t=this.params.top,r=this.params.height,i="matrix(1, 0, 0, -1, 0, "+(t+r)+")";this.$el.setAttributeNS(null,"transform",i),this.$boundingBox.setAttributeNS(null,"width",e),this.$boundingBox.setAttributeNS(null,"height",r),this.$boundingBox.style.opacity=this.params.opacity,null!==this.contextShape&&this.contextShape.update(this._renderingContext,this.timeContext,0)}},{key:"_encacheEntity",value:function(){if("entity"===this.dataType&&!this._cached&&this._data!==[]){var e=this._data[0],t=!0,r=!1,i=void 0;try{for(var n,s=c(this._$itemDataMap.entries());!(t=(n=s.next()).done);t=!0){var a=l(n.value,2),o=a[0],u=a[1];if(u===e){var h=this._$itemShapeMap.get(o),f=h.encache(u);f&&(this._$itemDataMap.set(o,f),void 0!==e.dispose&&e.dispose(),this.data=f)}}}catch(e){r=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}this._cached=!0}}},{key:"_updateShapes",value:function(){var e=this,t=performance.now();this._updateRenderingContext(),this._encacheEntity(),this._$itemCommonShapeMap.forEach(function(t,r){t.update(e._renderingContext,e.data)});var r=!0,i=!1,n=void 0;try{for(var s,a=c(this._$itemDataMap.entries());!(r=(s=a.next()).done);r=!0){var o=l(s.value,2),u=o[0],h=o[1];this._$itemShapeMap.get(u).update(this._renderingContext,h)}}catch(e){i=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw n}}var f=performance.now();console.log("layer update time = "+Math.round(f-t))}},{key:"describe",value:function(e){var t=performance.now();if(void 0!==this.describer&&null!==this.describer)return this.describer(e-this.start);var r=null,i=0,n=!0,s=!1,a=void 0;try{for(var o,u=c(this._$itemDataMap.entries());!(n=(o=u.next()).done);n=!0){var h=l(o.value,2),f=h[0],d=h[1];if(r=this._$itemShapeMap.get(f).describe(d,e-this.start),i++,null!==r&&r.length>0)break}}catch(e){s=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(s)throw a}}console.log("layer describe: inspected "+i+" of "+this._$itemDataMap.size+" shape(s)");var p=performance.now();return console.log("layer describe time = "+Math.round(p-t)),r}},{key:"start",get:function(){return this.timeContext.start},set:function(e){this.timeContext.start=e}},{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"duration",get:function(){return this.timeContext.duration},set:function(e){this.timeContext.duration=e}},{key:"stretchRatio",get:function(){return this.timeContext.stretchRatio},set:function(e){this.timeContext.stretchRatio=e}},{key:"yDomain",set:function(e){this.params.yDomain=e,this._valueToPixel.domain(e)},get:function(){return this.params.yDomain}},{key:"opacity",set:function(e){this.params.opacity=e},get:function(){return this.params.opacity}},{key:"timeToPixel",get:function(){return this.timeContext.timeToPixel}},{key:"valueToPixel",get:function(){return this._valueToPixel}},{key:"items",get:function(){return h(this._$itemDataMap.keys())}},{key:"data",get:function(){return this._data},set:function(e){switch(this.dataType){case"entity":this._data?this._data[0]=e:this._data=[e];break;case"collection":this._data=e}this._cached=!1}},{key:"selectedItems",get:function(){return this._behavior?this._behavior.selectedItems:[]}}],[{key:"configureTimeContextBehavior",value:function(e){w=e}}]),t}(p.default.EventEmitter);r.default=j,t.exports=r.default},{"../behaviors/time-context-behavior":8,"../shapes/segment":49,"../utils/scales":70,"./namespace":12,"babel-runtime/core-js/array/from":72,"babel-runtime/core-js/get-iterator":73,"babel-runtime/core-js/map":75,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91,"babel-runtime/helpers/sliced-to-array":92,events:187}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="http://www.w3.org/2000/svg",t.exports=r.default},{}],13:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default,s=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var a=e("../utils/scales"),l=s(a),o=function(){function e(t,r){n(this,e),this._children=[],this._timeToPixel=null,this._offset=0,this._zoom=1,this._computedPixelsPerSecond=t,this._visibleWidth=r,this._maintainVisibleDuration=!1;var i=l.default.linear().domain([0,1]).range([0,t]);this._timeToPixel=i,this._originalPixelsPerSecond=this._computedPixelsPerSecond}return i(e,[{key:"_updateTimeToPixelRange",value:function(){this.timeToPixel.range([0,this._computedPixelsPerSecond])}},{key:"pixelsPerSecond",get:function(){return this._originalPixelsPerSecond},set:function(e){this._computedPixelsPerSecond=e*this.zoom,this._originalPixelsPerSecond=e,this._updateTimeToPixelRange(),this._children.forEach(function(e){1!==e.stretchRatio&&(e.stretchRatio=e.stretchRatio)})}},{key:"computedPixelsPerSecond",get:function(){return this._computedPixelsPerSecond}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=e/this._zoom;this._zoom=e,this._computedPixelsPerSecond=this._originalPixelsPerSecond*e,this._updateTimeToPixelRange(),this._children.forEach(function(e){1!==e.stretchRatio&&(e.stretchRatio=e.stretchRatio*t)})}},{key:"visibleWidth",get:function(){return this._visibleWidth},set:function(e){var t=e/this.visibleWidth;this._visibleWidth=e,this.maintainVisibleDuration&&(this.pixelsPerSecond=this._computedPixelsPerSecond*t)}},{key:"visibleDuration",get:function(){return this.visibleWidth/this._computedPixelsPerSecond}},{key:"maintainVisibleDuration",get:function(){return this._maintainVisibleDuration},set:function(e){this._maintainVisibleDuration=e}},{key:"timeToPixel",get:function(){return this._timeToPixel}}]),e}();r.default=o,t.exports=r.default},{"../utils/scales":70,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/interop-require-default":91}],14:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/core-js/symbol/iterator").default,o=e("babel-runtime/regenerator").default,u=e("babel-runtime/core-js/get-iterator").default,c=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var h=e("events"),f=c(h),d=e("../interactions/keyboard"),p=c(d),b=e("./layer-time-context"),m=c(b),v=e("../interactions/surface"),y=c(v),g=e("./timeline-time-context"),x=c(g),$=e("./track"),_=c($),k=e("./track-collection"),w=c(k),j=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?100:arguments[0],r=arguments.length<=1||void 0===arguments[1]?1e3:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=n.registerKeyboard,l=void 0===s||s;a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._tracks=new w.default(this),this._state=null,this._surfaceCtor=y.default,l&&this.createInteraction(p.default,document),this._trackById={},this._groupedLayers={},this.timeContext=new x.default(e,r)}return n(t,e),s(t,[{key:"configureSurface",value:function(e){this._surfaceCtor=e}},{key:"createInteraction",value:function(e,t){var r=this;new e(t,arguments.length<=2||void 0===arguments[2]?{}:arguments[2]).on("event",function(e){return r._handleEvent(e)})}},{key:"getHitLayers",value:function(e){var t=e.originalEvent.clientX,r=e.originalEvent.clientY,i=[];return this.layers.forEach(function(e){if(e.params.hittable){var n=e.$el.getBoundingClientRect();t>n.left&&t<n.right&&r>n.top&&r<n.bottom&&i.push(e)}}),i}},{key:"_handleEvent",value:function(e){var t="surface"===e.source?this.getHitLayers(e):null;this.emit("event",e,t),
this._state&&this._state.handleEvent(e,t)}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(-1!==this.tracks.indexOf(e))throw new Error("track already added to the timeline");this._registerTrackId(e,t),e.configure(this.timeContext),this.tracks.push(e),this.createInteraction(this._surfaceCtor,e.$el)}},{key:"remove",value:function(e){}},{key:"createTrack",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=new _.default(e,t);return this.add(i,r),i.render(),i.update(),i}},{key:"_registerTrackId",value:function(e,t){if(null!==t){if(void 0!==this._trackById[t])throw new Error('trackId: "'+t+'" is already used');this._trackById[t]=e}}},{key:"addLayer",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"default":arguments[2],i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],n=t;if("string"==typeof t&&(n=this.getTrackById(t)),!e.timeContext){var s=i?this.timeContext:new m.default(this.timeContext);e.setTimeContext(s)}n.add(e),this._groupedLayers[r]||(this._groupedLayers[r]=[]),this._groupedLayers[r].push(e),e.render(),e.update()}},{key:"removeLayer",value:function(e){this.tracks.forEach(function(t){-1!==t.layers.indexOf(e)&&t.remove(e)});for(var t in this._groupedLayers){var r=this._groupedLayers[t];-1!==r.indexOf(e)&&r.splice(e,1),r.length||delete this._groupedLayers[t]}}},{key:"getTrackById",value:function(e){return this._trackById[e]}},{key:"getTrackFromDOMElement",value:function(e){var t=null,r=null;do{e.classList.contains("track")&&(t=e),e=e.parentNode}while(null===t);return this.tracks.forEach(function(e){e.$svg===t&&(r=e)}),r}},{key:"getLayersByGroup",value:function(e){return this._groupedLayers[e]}},{key:l,value:o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(u(this.tracks),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"zoom",get:function(){return this.timeContext.zoom},set:function(e){this.timeContext.zoom=e}},{key:"pixelsPerSecond",get:function(){return this.timeContext.pixelsPerSecond},set:function(e){this.timeContext.pixelsPerSecond=e}},{key:"visibleWidth",get:function(){return this.timeContext.visibleWidth},set:function(e){this.timeContext.visibleWidth=e}},{key:"timeToPixel",get:function(){return this.timeContext.timeToPixel}},{key:"visibleDuration",get:function(){return this.timeContext.visibleDuration}},{key:"maintainVisibleDuration",set:function(e){this.timeContext.maintainVisibleDuration=e},get:function(){return this.timeContext.maintainVisibleDuration}},{key:"groupedLayers",get:function(){return this._groupedLayers}},{key:"state",set:function(e){this._state&&this._state.exit(),this._state=e,this._state&&this._state.enter()},get:function(){return this._state}},{key:"tracks",get:function(){return this._tracks}},{key:"layers",get:function(){return this._tracks.layers}}]),t}(f.default.EventEmitter);r.default=j,t.exports=r.default},{"../interactions/keyboard":35,"../interactions/surface":36,"./layer-time-context":10,"./timeline-time-context":13,"./track":16,"./track-collection":15,"babel-runtime/core-js/get-iterator":73,"babel-runtime/core-js/symbol/iterator":86,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91,"babel-runtime/regenerator":94,events:187}],15:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./layer"),u=l(o),c=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._timeline=e}return n(t,e),s(t,[{key:"_getLayersOrGroups",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return"string"==typeof e?this._timeline.groupedLayers[e]:e instanceof u.default?[e]:this.layers}},{key:"render",value:function(){this.forEach(function(e){return e.render()}),this._timeline.emit("render")}},{key:"update",value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.update(t)}),this._timeline.emit("update",t)}},{key:"updateLayers",value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.updateLayers(t)}),this._timeline.emit("update:layers",t)}},{key:"layers",get:function(){var e=[];return this.forEach(function(t){return e=e.concat(t.layers)}),e}}]),t}(Array);r.default=c,t.exports=r.default},{"./layer":11,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],16:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default,s=e("babel-runtime/core-js/get-iterator").default,a=e("babel-runtime/core-js/symbol/iterator").default,l=e("babel-runtime/regenerator").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var u=e("./namespace"),c=o(u),h=function(){function e(t){var r=arguments.length<=1||void 0===arguments[1]?100:arguments[1];n(this,e),this._height=r,this.$el=t,this.$interactions=null,this.$layout=null,this.$svg=null,this.$background=null,this.layers=[],this.renderingContext=null,this._createContainer()}return i(e,[{key:"configure",value:function(e){this.renderingContext=e}},{key:"destroy",value:function(){var e=this;this.$el.removeChild(this.$svg),this.layers.forEach(function(t){return e.$layout.removeChild(t.$el)}),this.$el=null,this.renderingContext=null,this.layers.length=0}},{key:"_createContainer",value:function(){var e=document.createElementNS(c.default,"svg");e.setAttributeNS(null,"shape-rendering","optimizeSpeed"),e.setAttributeNS(null,"height",this.height),e.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml"),e.classList.add("track");var t=document.createElementNS(c.default,"rect");t.setAttributeNS(null,"height","100%"),t.setAttributeNS(null,"width","100%"),t.style.fillOpacity=0;var r=document.createElementNS(c.default,"defs"),i=document.createElementNS(c.default,"g");i.classList.add("layout");var n=document.createElementNS(c.default,"g");n.classList.add("interactions"),e.appendChild(r),e.appendChild(t),e.appendChild(i),e.appendChild(n),this.$el.appendChild(e),this.$el.style.fontSize=0,this.$el.style.transform="translateZ(0)",this.$layout=i,this.$interactions=n,this.$svg=e,this.$background=t}},{key:"add",value:function(e){console.log(e),this.layers.push(e),this.$layout.appendChild(e.$el)}},{key:"remove",value:function(e){this.layers.splice(this.layers.indexOf(e),1),this.$layout.removeChild(e.$el)}},{key:"hasElement",value:function(e){do{if(e===this.$el)return!0;e=e.parentNode}while(null!==e);return!1}},{key:"render",value:function(){var e=!0,t=!1,r=void 0;try{for(var i,n=s(this);!(e=(i=n.next()).done);e=!0){i.value.render()}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];this._updateContainer(),this.updateLayers(e)}},{key:"_updateContainer",value:function(){var e=this.$svg,t=this.renderingContext,r=this.height,i=Math.round(t.visibleWidth);e.setAttributeNS(null,"height",r),e.setAttributeNS(null,"width",i),e.setAttributeNS(null,"viewbox","0 0 "+i+" "+r)}},{key:"updateLayers",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null===t?this.layers.forEach(function(e){e.update()}):t.forEach(function(t){-1!==e.layers.indexOf(t)&&t.update()})}},{key:a,value:l.mark(function e(){return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(s(this.layers),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),e}();r.default=h,t.exports=r.default},{"./namespace":12,"babel-runtime/core-js/get-iterator":73,"babel-runtime/core-js/symbol/iterator":86,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/interop-require-default":91,"babel-runtime/regenerator":94}],17:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var l=e("../shapes/annotated-marker"),o=a(l),u=e("../core/layer"),c=a(u),h=e("../behaviors/marker-behavior"),f=a(h),d=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),this.configureShape(o.default),this.setBehavior(new f.default)}return n(t,e),t}(c.default);r.default=d,t.exports=r.default},{"../behaviors/marker-behavior":6,"../core/layer":11,"../shapes/annotated-marker":38,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],18:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/annotated-segment"),h=l(c),f=e("../behaviors/segment-behavior"),d=l(f),p=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),r=a({displayHandlers:!0,opacity:.6},r),this.configureShape(h.default,n,{displayHandlers:r.displayHandlers,opacity:r.opacity}),this.setBehavior(new d.default)}return n(t,e),t}(u.default);r.default=p,t.exports=r.default},{"../behaviors/segment-behavior":7,"../core/layer":11,"../shapes/annotated-segment":39,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],19:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var l=e("../behaviors/breakpoint-behavior"),o=a(l),u=e("../shapes/dot"),c=a(u),h=e("../core/layer"),f=a(h),d=e("../shapes/line"),p=a(d),b=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r);var a=r.color,l={};a&&(n.color=function(){return a},l.color=a),this.configureCommonShape(p.default,n,l),this.configureShape(c.default,n,{}),this.setBehavior(new o.default)}return n(t,e),t}(f.default);r.default=b,t.exports=r.default},{"../behaviors/breakpoint-behavior":5,"../core/layer":11,"../shapes/dot":44,"../shapes/line":45,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],20:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/core-js/object/assign").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/layer"),c=o(u),h=e("../shapes/cursor"),f=o(h),d=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t);var r={color:"red",hittable:!1},n={currentPosition:0};e=l(r,e),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",n,e),this.configureShape(f.default,{x:function(e){return e.currentPosition}},{color:e.color})}return n(t,e),s(t,[{key:"currentPosition",set:function(e){this.data[0].currentPosition=e},get:function(){return this.data[0].currentPosition}}]),t}(c.default);r.default=d,t.exports=r.default},{"../core/layer":11,"../shapes/cursor":42,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],21:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/discrete-scale"),h=l(c),f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,t);var r={background:"#ffffff",tickColor:"red",textColor:"red",hittable:!1},n={};e=a(r,e),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",n,e),this.configureShape(h.default,{},{background:e.background,tickColor:e.tickColor,textColor:e.textColor,binNames:e.binNames})}return n(t,e),t}(u.default);r.default=f,t.exports=r.default},{"../core/layer":11,"../shapes/discrete-scale":43,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],22:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../axis/axis-layer"),u=l(o),c=e("../shapes/ticks"),h=l(c),f=e("../axis/grid-axis-generator"),d=l(f),p=function(e){function t(e){s(this,t),e=a({color:"steelblue",bpm:60,signature:"4/4"},e),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(0,d.default)(e.bpm,e.signature),e),this.configureShape(h.default,{},{color:e.color})}return n(t,e),t}(u.default);r.default=p,t.exports=r.default},{"../axis/axis-layer":1,"../axis/grid-axis-generator":2,"../shapes/ticks":50,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],23:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/core-js/object/assign").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/layer"),c=o(u),h=e("../shapes/crosshairs"),f=o(h),d=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,t);var n=Array.isArray(e)?e:[e],s={color:"red",labelOffset:0,hittable:!1,unit:""},o={currentPosition:0,describing:n,lastDescribedObject:null,lastDescribedPosition:0,lastDescription:null,_isInRangeFor:function(e,t){var r=void 0!==t.start,i=void 0!==t.duration;if(console.log("start? "+r),r){if(console.log("_isInRangeFor("+e+"): start = "+t.start),t.start>e)return!1;if(i&&(console.log("_isInRangeFor("+e+"): duration = "+t.duration),t.start+t.duration<e))return!1}return console.log("_isInRangeFor("+e+"): yes, or maybe"),!0},_locate:function(e){if(console.log("_locate: have "+this.describing.length+" describing objects"),null!==this.lastDescribedObject&&this._isInRangeFor(e,this.lastDescribedObject))return console.log("in range for lastDescribedObject, reusing it"),this.lastDescribedObject;for(var t=0;t<this.describing.length;++t)if(this._isInRangeFor(e,this.describing[t]))return console.log("in range for object "+t+", using that"),this.describing[t];return console.log("all objects out of range"),null},describe:function(){if(0===this.describing.length)return[];var e=this.currentPosition;if(e===this.lastDescribedPosition&&null!==this.lastDescription)return this.lastDescription;var t=this._locate(e);return this.lastDescribedObject=t,this.lastDescribedPosition=e,this.lastDescription=null!==t?t.describe(e):[],this.lastDescription}};r=l(s,r),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",o,r),this.configureShape(f.default,{visible:function(e){return e.describe().length>0},cx:function(e){return e.currentPosition},cy:function(e){var t=e.describe();return t.length>0?t[0].cy:0},unit:function(e){return r.unit}},{color:r.color,opacity:r.opacity,labelOffset:r.labelOffset})}return n(t,e),s(t,[{key:"currentPosition",set:function(e){this.data[0].currentPosition=e},get:function(){return this.data[0].currentPosition}}]),t}(c.default);r.default=d,t.exports=r.default},{"../core/layer":11,"../shapes/crosshairs":41,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],24:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var l=e("../shapes/dot"),o=(a(l),e("../core/layer")),u=a(o),c=e("../shapes/line"),h=a(c),f=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e,r);var a=r.color,l={};a&&(n.color=function(){return a},l.color=a),this.configureShape(h.default,n,l)}return n(t,e),t}(u.default);r.default=f,t.exports=r.default},{"../core/layer":11,"../shapes/dot":44,"../shapes/line":45,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],25:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/marker"),h=l(c),f=e("../behaviors/marker-behavior"),d=l(f),p=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),r=a({displayHandlers:!0},r);var l=r.color;l&&(n.color=function(){return l}),this.configureShape(h.default,n,{displayHandlers:r.displayHandlers}),this.setBehavior(new d.default)}return n(t,e),t}(u.default);r.default=p,t.exports=r.default},{"../behaviors/marker-behavior":6,"../core/layer":11,"../shapes/marker":46,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],26:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/matrix"),h=l(c),f={normalise:"none",gain:1,channel:0},d=function(e){function t(e,r){s(this,t),r=a({},f,r),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e,r),this.configureShape(h.default,{},r)}return n(t,e),t}(u.default);r.default=d,t.exports=r.default},{"../core/layer":11,"../shapes/matrix":47,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],27:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/segment"),h=l(c),f=e("../behaviors/segment-behavior"),d=l(f),p=e("../utils/find"),b=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t);r=a({displayHandlers:!1,opacity:1,yDomain:[0,127],color:"#000000"},r);var l=e.map(function(e){var t=0;return void 0!==e.velocity&&(t=256-2*e.velocity),{x:e.time,y:e.pitch,width:e.duration,height:1,color:"rgb("+t+","+t+","+t+")"}}),o=function(t){if(!e.length)return[];var r=(0,p.findWithin)(e,t,function(e){return e.time});return e[r].time<t&&e[r].time+e[r].duration>t?[{cx:e[r].time,cy:e[r].pitch}]:[]};i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",l,r),this.describer=o,this.configureShape(h.default,n,{displayHandlers:r.displayHandlers,opacity:r.opacity}),this.setBehavior(new d.default)}return n(t,e),t}(u.default);r.default=b,t.exports=r.default},{"../behaviors/segment-behavior":7,"../core/layer":11,"../shapes/segment":49,"../utils/find":62,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],28:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/scale"),h=l(c),f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,t);var r={background:"#ffffff",tickColor:"red",textColor:"red",hittable:!1},n={};e=a(r,e),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",n,e),this.configureShape(h.default,{},{background:e.background,tickColor:e.tickColor,textColor:e.textColor})}return n(t,e),t}(u.default);r.default=f,t.exports=r.default},{"../core/layer":11,"../shapes/scale":48,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],29:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/segment"),h=l(c),f=e("../behaviors/segment-behavior"),d=l(f),p=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),r=a({displayHandlers:!0,opacity:.6},r),this.configureShape(h.default,n,{displayHandlers:r.displayHandlers,opacity:r.opacity}),this.setBehavior(new d.default)}return n(t,e),t}(u.default);r.default=p,t.exports=r.default},{"../behaviors/segment-behavior":7,"../core/layer":11,"../shapes/segment":49,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],30:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/ticks"),h=l(c),f=function(e){function t(e,r,n){s(this,t),r=a({},r),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e,r),this.configureShape(h.default,n,r)}return n(t,e),t}(u.default);r.default=f,t.exports=r.default},{"../core/layer":11,"../shapes/ticks":50,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],31:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../axis/axis-layer"),u=l(o),c=e("../shapes/ticks"),h=l(c),f=e("../axis/time-axis-generator"),d=l(f),p=function(e){function t(e){s(this,t),e=a({color:"steelblue"},e),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(0,d.default)(),e),this.configureShape(h.default,{},{color:e.color,unconstrained:!0})}return n(t,e),t}(u.default);r.default=p,t.exports=r.default},{"../axis/axis-layer":1,"../axis/time-axis-generator":3,"../shapes/ticks":50,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],32:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/trace-path"),h=l(c),f=e("../shapes/trace-dots"),d=l(f),p=e("../behaviors/trace-behavior"),b=l(p),m=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),r=a({displayDots:!0},r),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r.displayDots?"collection":"entity",e,r);var l={};void 0!==r.meanColor&&(l.meanColor=r.meanColor),void 0!==r.rangeColor&&(l.rangeColor=r.rangeColor),void 0!==r.displayMean&&(l.displayMean=r.displayMean),r.displayDots?(this.configureCommonShape(h.default,n,l),this.configureShape(d.default,n,l)):this.configureShape(h.default,n,l),this.setBehavior(new b.default)}return n(t,e),t}(u.default);r.default=m,t.exports=r.default},{"../behaviors/trace-behavior":9,"../core/layer":11,"../shapes/trace-dots":51,"../shapes/trace-path":52,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],33:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/class-call-check").default,a=e("babel-runtime/core-js/object/assign").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/waveform"),h=l(c),f={yDomain:[-1,1],channel:0,color:"steelblue",renderingStrategy:"svg"},d=function(e){function t(e,r){s(this,t),r=a({},f,r),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e.getChannelData(r.channel),r),this.configureShape(h.default,{},{sampleRate:e.sampleRate,color:r.color,renderingStrategy:r.renderingStrategy})}return n(t,e),t}(u.default);r.default=d,t.exports=r.default},{"../core/layer":11,"../shapes/waveform":53,"babel-runtime/core-js/object/assign":77,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],34:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("events"),u=l(o),c=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.$el=e,this._bindEvents()}return n(t,e),s(t,[{key:"_createEvent",value:function(e,t){}},{key:"_bindEvents",value:function(){}}]),t}(u.default.EventEmitter);r.default=c,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91,events:187}],35:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./event-source"),u=l(o),c=e("./wave-event"),h=l(c),f=function(e){function t(e){if(a(this,t),t._instance)return t._instance;i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sourceName="keyboard",t._instance=this}return n(t,e),s(t,[{key:"_createEvent",value:function(e,t){var r=new h.default(this.sourceName,e,t);return r.shiftKey=t.shiftKey,r.ctrlKey=t.ctrlKey,r.altKey=t.altKey,r.metaKey=t.metaKey,r.char=String.fromCharCode(t.keyCode),r}},{key:"_bindEvents",value:function(){var e=this,t=function(t){var r=e._createEvent("keydown",t);e.emit("event",r)},r=function(t){var r=e._createEvent("keyup",t);e.emit("event",r)};this.$el.addEventListener("keydown",t,!1),this.$el.addEventListener("keyup",r,!1)}}]),t}(u.default);r.default=f,t.exports=r.default},{"./event-source":34,"./wave-event":37,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],36:[function(e,t,r){"use strict"
;var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./event-source"),u=l(o),c=e("./wave-event"),h=l(c),f=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sourceName="surface",this._mouseDownEvent=null,this._lastEvent=null}return n(t,e),s(t,[{key:"_createEvent",value:function(e,t){var r=new h.default(this.sourceName,e,t),i=this._getRelativePosition(t);return r.x=i.x,r.y=i.y,r}},{key:"_getRelativePosition",value:function(e){var t=0,r=0,i=this.$el.getBoundingClientRect(),n=document.body.scrollLeft+document.documentElement.scrollLeft,s=document.body.scrollTop+document.documentElement.scrollTop;return e.pageX||e.pageY?(t=e.pageX,r=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+n,r=e.clientY+s),t-=i.left+n,r-=i.top+s,{x:t,y:r}}},{key:"_defineArea",value:function(e,t,r){if(t&&r){e.dx=e.x-r.x,e.dy=e.y-r.y;var i=t.x<e.x?t.x:e.x,n=t.y<e.y?t.y:e.y,s=Math.abs(Math.round(e.x-t.x)),a=Math.abs(Math.round(e.y-t.y));e.area={left:i,top:n,width:s,height:a}}}},{key:"_bindEvents",value:function(){var e=this,t=function(t){window.getSelection().removeAllRanges();var n=e._createEvent("mousedown",t);e._mouseDownEvent=n,e._lastEvent=n,window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",i,!1),e.emit("event",n)},r=function(t){var r=e._createEvent("mousemove",t);e._defineArea(r,e._mouseDownEvent,e._lastEvent),e._lastEvent=r,e.emit("event",r)},i=function t(i){var n=e._createEvent("mouseup",i);e._defineArea(n,e._mouseDownEvent,e._lastEvent),e._mouseDownEvent=null,e._lastEvent=null,window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",t),e.emit("event",n)},n=function(t){var r=e._createEvent("click",t);e.emit("event",r)},s=function(t){var r=e._createEvent("dblclick",t);e.emit("event",r)},a=function(t){var r=e._createEvent("mouseover",t);e.emit("event",r)},l=function(t){var r=e._createEvent("mouseout",t);e.emit("event",r)};this.$el.addEventListener("mousedown",t,!1),this.$el.addEventListener("click",n,!1),this.$el.addEventListener("dblclick",s,!1),this.$el.addEventListener("mouseover",a,!1),this.$el.addEventListener("mouseout",l,!1)}}]),t}(u.default);r.default=f,t.exports=r.default},{"./event-source":34,"./wave-event":37,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],37:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/class-call-check").default;Object.defineProperty(r,"__esModule",{value:!0});var n=function e(t,r,n){i(this,e),this.source=t,this.type=r,this.originalEvent=n,this.target=n.target,this.currentTarget=n.currentTarget};r.default=n,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87}],38:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./marker"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"annotated-marker"}},{key:"_getAccessorList",value:function(){var e=i(Object.getPrototypeOf(t.prototype),"_getAccessorList",this).call(this);return e.text="default",e}},{key:"render",value:function(e){this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var r=e.height;return this.$label=document.createElementNS(this.ns,"text"),this.$label.setAttributeNS(null,"x",8),this.$label.setAttributeNS(null,"y",8),this.$label.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, 0, "+r+")"),this.$label.style.fontSize="10px",this.$label.style.fontFamily="monospace",this.$label.style.color="#242424",this.$label.style.mozUserSelect="none",this.$label.style.webkitUserSelect="none",this.$label.style.userSelect="none",this.$el.appendChild(this.$label),this.$el}},{key:"update",value:function(e,r){i(Object.getPrototypeOf(t.prototype),"update",this).call(this,e,r),this.$label.firstChild&&this.$label.removeChild(this.$label.firstChild);var n=document.createTextNode(this.text(r));this.$label.appendChild(n)}}]),t}(u.default);r.default=c,t.exports=r.default},{"./marker":46,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],39:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./segment"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"annotated-segment"}},{key:"_getAccessorList",value:function(){var e=i(Object.getPrototypeOf(t.prototype),"_getAccessorList",this).call(this);return e.text="default",e}},{key:"render",value:function(e){this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var r=e.height;return this.$label=document.createElementNS(this.ns,"text"),this.$label.setAttributeNS(null,"y",11),this.$label.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, 0, "+r+")"),this.$label.style.fontSize="10px",this.$label.style.fontFamily="monospace",this.$label.style.color="#242424",this.$label.style.mozUserSelect="none",this.$label.style.webkitUserSelect="none",this.$label.style.userSelect="none",this.$el.appendChild(this.$label),this.$el}},{key:"update",value:function(e,r){i(Object.getPrototypeOf(t.prototype),"update",this).call(this,e,r);var n=e.timeToPixel(this.x(r));if(this.$label.setAttributeNS(null,"x",n+3),!(n>=e.minX&&n<=e.maxX))return void this.$label.setAttributeNS(null,"visibility","hidden");this.$label.setAttributeNS(null,"visibility","visible"),this.$label.firstChild&&this.$label.removeChild(this.$label.firstChild);var s=document.createTextNode(this.text(r));this.$label.appendChild(s)}}]),t}(u.default);r.default=c,t.exports=r.default},{"./segment":49,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],40:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default,s=e("babel-runtime/core-js/object/assign").default,a=e("babel-runtime/core-js/object/keys").default,l=e("babel-runtime/core-js/object/define-property").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/namespace"),c=o(u),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.$el=null,this.ns=c.default,this.params=s({},this._getDefaults(),t);var r=this._getAccessorList();this._createAccessors(r),this._setDefaultAccessors(r)}return i(e,[{key:"destroy",value:function(){this.$el=null}},{key:"getClassName",value:function(){return"shape"}},{key:"_getDefaults",value:function(){return{}}},{key:"_getAccessorList",value:function(){return{}}},{key:"install",value:function(e){for(var t in e)this[t]=e[t]}},{key:"_createAccessors",value:function(e){this._accessors={};var t=Object.getPrototypeOf(this);a(e).forEach(function(e){t.hasOwnProperty(e)||l(t,e,{get:function(){return this._accessors[e]},set:function(t){this._accessors[e]=t}})})}},{key:"_setDefaultAccessors",value:function(e){var t=this;a(e).forEach(function(r){var i=e[r],n=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null===t)return e[r]||i;e[r]=t};t[r]=n})}},{key:"render",value:function(e){}},{key:"encache",value:function(e){return null}},{key:"update",value:function(e,t){}},{key:"inArea",value:function(e,t,r,i,n,s){}},{key:"describe",value:function(e,t){return[]}}]),e}();r.default=h,t.exports=r.default},{"../core/namespace":12,"babel-runtime/core-js/object/assign":77,"babel-runtime/core-js/object/define-property":79,"babel-runtime/core-js/object/keys":81,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/interop-require-default":91}],41:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=e("../core/namespace"),h=l(c),f=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"crosshairs"}},{key:"_getAccessorList",value:function(){return{visible:!0,cx:0,cy:0,unit:""}}},{key:"_getDefaults",value:function(){return{color:"#000000",labelOffset:0,opacity:1}}},{key:"render",value:function(e){if(this.$el)return this.$el;this.$el=document.createElementNS(this.ns,"g"),this.$path=document.createElementNS(h.default,"path"),this.$path.setAttributeNS(null,"shape-rendering","geometricPrecision"),this.$path.setAttributeNS(null,"stroke-width","1.5"),this.$path.style.opacity=this.params.opacity,this.$path.style.stroke=this.params.color,this.$el.appendChild(this.$path),this.$labels=[document.createElementNS(this.ns,"text"),document.createElementNS(this.ns,"text")];for(var t=0;t<this.$labels.length;++t){var r=this.$labels[t];r.classList.add("label"),r.style.fontSize="10px",r.style.lineHeight="10px",r.style.fontFamily="monospace",r.style.color="#676767",r.style.opacity=.9,r.style.mozUserSelect="none",r.style.webkitUserSelect="none",r.style.userSelect="none",this.$el.appendChild(r)}return this.$el}},{key:"update",value:function(e,t){console.log("crosshairs update: datum = "+t);var r=this.cx(t),i=this.cy(t),n=this.visible(t),s=this.unit(t);if(""!==s&&(s=" "+s),!n)return void this.$el.setAttributeNS(null,"visibility","hidden");this.$el.setAttributeNS(null,"visibility","visible");var a=Math.floor(e.minX),l=Math.ceil(e.maxX),o=e.height,u=Math.round(e.timeToPixel(r))+.5,c=Math.round(e.valueToPixel(i))+.5;console.log("x = "+u+", y = "+c+", minX = "+a+", maxX = "+l+", h = "+o),this.$path.setAttributeNS(null,"d","M"+u+",0L"+u+","+o+"M"+a+","+c+"L"+l+","+c);for(var h=i.toPrecision(4),f=9*(h.length+s.length),d=0;d<this.$labels.length;++d){for(var p=this.$labels[d];p.firstChild;)p.removeChild(p.firstChild);var b=document.createTextNode(h+s);p.appendChild(b);var m=a+2;1==d&&(m=l-f-2),m+=this.params.labelOffset,p.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, "+m+", "+o+")");var v=o-c-5;v<10&&(v=o-c+15),p.setAttributeNS(null,"y",v)}}},{key:"inArea",value:function(){return!1}}]),t}(u.default);r.default=f,t.exports=r.default},{"../core/namespace":12,"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],42:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=e("../core/namespace"),h=l(c),f=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"cursor"}},{key:"_getAccessorList",value:function(){return{x:0}}},{key:"_getDefaults",value:function(){return{color:"#000000",opacity:1}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(h.default,"line"),this.$el.setAttributeNS(null,"x",0),this.$el.setAttributeNS(null,"y1",0),this.$el.setAttributeNS(null,"y2",e.height),this.$el.setAttributeNS(null,"shape-rendering","geometricPrecision"),this.$el.setAttributeNS(null,"stroke-width","2"),this.$el.style.stroke=this.params.color,this.$el)}},{key:"update",value:function(e,t){var r=Math.round(e.timeToPixel(this.x(t)))+.5;this.$el.setAttributeNS(null,"transform","translate("+r+", 0)")}},{key:"inArea",value:function(){return!1}}]),t}(u.default);r.default=f,t.exports=r.default},{"../core/namespace":12,"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],43:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=e("../core/namespace"),h=l(c),f=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"scale"}},{key:"_getDefaults",value:function(){return{background:"#ffffff",tickColor:"#000000",textColor:"#000000",opacity:1,binNames:[]}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$bg=document.createElementNS(h.default,"rect"),this.$bg.setAttributeNS(null,"fill",this.params.background),this.$bg.setAttributeNS(null,"x",0),this.$bg.setAttributeNS(null,"y",0),this.$el.appendChild(this.$bg),this.$path=document.createElementNS(h.default,"path"),this.$path.setAttributeNS(null,"shape-rendering","geometricPrecision"),this.$path.setAttributeNS(null,"stroke-width","0.7"),this.$path.style.opacity=this.params.opacity,this.$path.style.stroke=this.params.tickColor,this.$el.appendChild(this.$path),this.$labels=[],this.$el)}},{key:"update",value:function(e,t){var r=this;console.log("discrete scale update");var i=e.height;if(void 0===this.lastH||this.lastH!==i){this.lastH=i;var n=this.params.binNames;if(!n||0===n.length)return void console.log("no bin names provided!");for(var s=0;s<this.$labels.length;++s)this.$el.removeChild(this.$labels[s]);this.$labels=[];var a=n.length,l=n.reduce(function(e,t){return Math.max(e,t.length)},0),o=6.5*l+12;this.$bg.setAttributeNS(null,"width",o),this.$bg.setAttributeNS(null,"height",i);for(var u="M"+o+",0L"+o+","+i,c=0,h=i+12,s=0;s<a;++s){var f=s*i/a,d=i-f-3,p=""!==n[s];p&&(d<6||d>h-12)&&(p=!1),f>c+1&&(u=u+"M"+(o-5)+","+f+"L"+o+","+f,c=f),p&&(!function(e,t,n){var s=document.createElementNS(r.ns,"text");s.classList.add("label"),s.style.fontSize="10px",s.style.lineHeight="10px",s.style.fontFamily="monospace",s.style.fill=r.params.textColor,s.style.opacity=r.params.opacity,s.style.mozUserSelect="none",s.style.webkitUserSelect="none",s.style.userSelect="none",s.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, "+t+", "+i+")"),s.setAttributeNS(null,"y",n);var a=document.createTextNode(e);s.appendChild(a),r.$labels.push(s),r.$el.appendChild(s)}(n[s],3,d),h=d)}this.$path.setAttributeNS(null,"d",u)}}},{key:"inArea",value:function(){return!1}}]),t}(u.default);r.default=f,t.exports=r.default},{"../core/namespace":12,"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],44:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"dot"}},{key:"_getAccessorList",value:function(){return{cx:0,cy:0,r:3,color:"#000000"}}},{key:"render",value:function(){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"circle"),this.$el)}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.cx(t)),i=e.valueToPixel(this.cy(t)),n=this.r(t),s=this.color(t);if(!(r+n>=e.minX&&r-n<=e.maxX))return void this.$el.setAttributeNS(null,"visibility","hidden");this.$el.setAttributeNS(null,"visibility","visible"),this.$el.setAttributeNS(null,"transform","translate("+r+", "+i+")"),this.$el.setAttributeNS(null,"r",n),this.$el.style.fill=s}},{key:"inArea",value:function(e,t,r,i,n,s){var a=e.timeToPixel(this.cx(t)),l=e.valueToPixel(this.cy(t));return a>r&&a<n&&l>i&&l<s}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],45:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=e("../utils/find"),h=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"line"}},{key:"_getAccessorList",value:function(){return{cx:0,cy:0}}},{key:"_getDefaults",value:function(){return{color:"#000000"}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"path"),this.$el.setAttributeNS(null,"shape-rendering","geometricPrecision"),this.$el)}},{key:"encache",value:function(e){var t=this;return e=e.slice(0),e.sort(function(e,r){return t.cx(e)<t.cx(r)?-1:1}),e}},{key:"update",value:function(e,t){var r=performance.now(),i=Math.floor(e.minX),n=Math.ceil(e.maxX);if(t===[]||e.timeToPixel(this.cx(t[0]))>n||e.timeToPixel(this.cx(t[t.length-1]))<i)return void this.$el.setAttributeNS(null,"visibility","hidden");this.$el.setAttributeNS(null,"visibility","visible");for(var s=[],a=t.length,l=e.timeToPixel.invert(i),o=(0,c.findWithin)(t,l,this.cx),u=e.timeToPixel(this.cx(t[o])),h=o;h<a;++h){var f=u;h+1<a&&(u=e.timeToPixel(this.cx(t[h+1])));var d=e.valueToPixel(this.cy(t[h]))-.5;if(s.push(f+","+d),f>n)break}var p="M"+s.join("L");this.$el.setAttributeNS(null,"d",p),this.$el.style.stroke=this.params.color,this.$el.style.strokeWidth=2,this.$el.style.fill="none";var b=performance.now();console.log("line update time = "+Math.round(b-r)),t=null}},{key:"describe",value:function(e,t){if(!e.length)return[];var r=(0,c.findWithin)(e,t,this.cx),i=this.cx(e[r]),n=this.cy(e[r]),s="";return void 0!==e[r].unit&&(s=e[r].unit),[{cx:i,cy:n,unit:s}]}}]),t}(u.default);r.default=h,t.exports=r.default},{"../utils/find":62,"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],46:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"marker"}},{key:"_getAccessorList",value:function(){return{x:0,color:"#ff0000"}}},{key:"_getDefaults",value:function(){return{handlerWidth:7,handlerHeight:10,displayHandlers:!0,opacity:1,color:"red"}}},{key:"render",value:function(e){if(this.$el)return this.$el;console.log("marker render");var t=e.height;return this.$el=document.createElementNS(this.ns,"g"),this.$line=document.createElementNS(this.ns,"line"),this.$line.setAttributeNS(null,"x",0),this.$line.setAttributeNS(null,"y1",0),this.$line.setAttributeNS(null,"y2",t),this.$line.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$line),this.params.displayHandlers&&(this.$handler=document.createElementNS(this.ns,"rect"),this.$handler.setAttributeNS(null,"x",-this.params.handlerWidth/2),this.$handler.setAttributeNS(null,"y",e.height-this.params.handlerHeight),this.$handler.setAttributeNS(null,"width",this.params.handlerWidth),this.$handler.setAttributeNS(null,"height",this.params.handlerHeight),this.$handler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$handler)),this.$el.style.opacity=this.params.opacity,this.$el}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.x(t))-.5;if(!(r>=e.minX&&r<=e.maxX))return void this.$el.setAttributeNS(null,"visibility","hidden");this.$el.setAttributeNS(null,"visibility","visible");var i=this.color(t);this.$el.setAttributeNS(null,"transform","translate("+r+", 0)"),this.$line.style.stroke=i,this.params.displayHandlers&&(this.$handler.style.fill=i);performance.now()}},{key:"inArea",value:function(e,t,r,i,n,s){var a=e.timeToPixel(this.x(t)),l=a-(this.params.handlerWidth-1)/2,o=l+this.params.handlerWidth,u=e.height-this.params.handlerHeight,c=e.height;return Math.max(0,Math.min(n,o)-Math.max(r,l))*Math.max(0,Math.min(s,c)-Math.max(i,u))>0}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],47:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/sliced-to-array").default,o=e("babel-runtime/core-js/math/log10").default,u=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var c=e("./base-shape"),h=u(c),f=e("../core/timeline-time-context"),d=(u(f),e("../core/layer-time-context")),p=(u(d),e("../utils/png.js")),b=u(p),m=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"matrix"}},{key:"_getAccessorList",value:function(){return{}}},{key:"_getDefaults",value:function(){return{normalise:"none",mapper:function(e){var t=1-e;return[t,t,t]},gain:1,smoothing:!1,maxDataUriLength:32767}}},{key:"render",value:function(e){return console.log("matrix render called"),this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.params.smoothing||this.$el.setAttributeNS(null,"image-rendering","pixelated"),console.log("matrix render returning"),this.$el)}},{key:"_hybridNormalise",value:function(e){return function(t){for(var r=0,i=0;i<t.length;++i){var n=Math.abs(t[i]);n>r&&(r=n)}var s=e;r>0&&(s*=o(r+1)/r);for(var a=[],i=0;i<t.length;++i){var n=t[i];a.push(n*s)}return a}}},{key:"_columnNormalise",value:function(e){return function(t){for(var r=0,i=0;i<t.length;++i){var n=Math.abs(t[i]);n>r&&(r=n)}var s=e;r>0&&(s*=1/r);for(var a=[],i=0;i<t.length;++i){var n=t[i];a.push(n*s)}return a}}},{key:"_noNormalise",value:function(e){return function(t){for(var r=[],i=0;i<t.length;++i){var n=t[i];r.push(n*e)}return r}}},{key:"encache",value:function(e){var t=performance.now();console.log("matrix cache called");var r=e.getColumnHeight(),i=e.getColumnCount(),n=Math.floor(3*this.params.maxDataUriLength/4-1530),s=Math.floor(n/r);s<1&&(console.log("WARNING: Matrix shape tile width of "+s+" calculated for height "+r+", using 1 instead: this may exceed maxDataUriLength of "+this.params.maxDataUriLength),s=1),console.log("totalWidth = "+i+", tileWidth = "+s);var a=[],o=[],u=null;switch(this.params.normalise){case"hybrid":u=this._hybridNormalise(this.params.gain);break;case"column":u=this._columnNormalise(this.params.gain);break;default:u=this._noNormalise(this.params.gain)}for(var c=s,h=new b.default(c,r,256),f=0;f<i;f+=s){var d=s;i-f<s&&(d=i-f);for(var p=d===s?h:new b.default(d,r,256),m=0;m<d;++m){var v=f+m,y=e.getColumn(v);y=u(function(e){for(var t=[],r=0;r<e.length;++r)e[r]===1/0||isNaN(e[r])?t.push(0):t.push(e[r]);return t}(y));for(var g=0;g<r;++g){var x=y[g];x<0&&(x=0),x>1&&(x=1),x=Math.round(255*x)/255;var $=this.params.mapper(x),_=l($,3),k=_[0],w=_[1],j=_[2];k<0&&(k=0),k>1&&(k=1),w<0&&(w=0),w>1&&(w=1),j<0&&(j=0),j>1&&(j=1);var S=p.color(Math.round(255*k),Math.round(255*w),Math.round(255*j),255),P=p.index(m,g);p.buffer[P]=S}}var M="data:image/png;base64,"+p.getBase64();a.push(M),o.push(d),console.log("image "+a.length+": length "+M.length+" (dimensions "+d+" x "+r+")")}console.log("drawing complete");var C=performance.now();return console.log("matrix cache time = "+Math.round(C-t)),{resources:a,tileWidths:o,totalWidth:i,height:r,startTime:e.getStartTime(),stepDuration:e.getStepDuration(),elements:[]}}},{key:"update",value:function(e,t){var r=performance.now();if(console.log("matrix update called"),!(t.totalWidth&&t.height&&e.width&&e.height))return void console.log("nothing to update");if(0===t.elements.length){console.log("About to add "+t.resources.length+" image resources to SVG...");for(var i=0;i<t.resources.length;++i){var n=t.resources[i],s=document.createElementNS(this.ns,"image");s.setAttributeNS("http://www.w3.org/1999/xlink","href",n),s.setAttributeNS(null,"preserveAspectRatio","none"),this.params.smoothing||s.setAttributeNS(null,"image-rendering","optimizeSpeed"),s.addEventListener("dragstart",function(e){e.preventDefault()},!1),this.$el.appendChild(s),t.elements.push(s)}console.log("Done that")}console.log("Render width = "+e.width);var a=e.timeToPixel(t.startTime),l=e.width-a,o=l/t.totalWidth;if(t.stepDuration>0){var u=t.stepDuration*t.totalWidth;o=(e.timeToPixel(t.startTime+u)-a)/t.totalWidth}for(var c=0,i=0;i<t.elements.length;++i){var s=t.elements[i],h=t.tileWidths[i],f=a+c*o,d=h*o;f+d>0&&f<e.maxX?(s.setAttributeNS(null,"x",Math.floor(f)),s.setAttributeNS(null,"width",Math.ceil(f+d)-Math.floor(f)),s.setAttributeNS(null,"y",0),s.setAttributeNS(null,"height",e.height),s.setAttributeNS(null,"visibility","visible")):s.setAttributeNS(null,"visibility","hidden"),c+=h}var p=performance.now();console.log("matrix update time = "+Math.round(p-r))}}]),t}(h.default);r.default=m,t.exports=r.default},{"../core/layer-time-context":10,"../core/timeline-time-context":13,"../utils/png.js":67,"./base-shape":40,"babel-runtime/core-js/math/log10":76,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91,"babel-runtime/helpers/sliced-to-array":92}],48:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=e("../core/namespace"),h=l(c),f=e("../utils/scale-tick-intervals"),d=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"scale"}},{key:"_getDefaults",value:function(){return{background:"#ffffff",tickColor:"#000000",textColor:"#000000",opacity:1}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$bg=document.createElementNS(h.default,"rect"),this.$bg.setAttributeNS(null,"fill",this.params.background),this.$bg.setAttributeNS(null,"x",0),this.$bg.setAttributeNS(null,"y",0),this.$el.appendChild(this.$bg),this.$path=document.createElementNS(h.default,"path"),this.$path.setAttributeNS(null,"shape-rendering","geometricPrecision"),this.$path.setAttributeNS(null,"stroke-width","0.7"),this.$path.style.opacity=this.params.opacity,this.$path.style.stroke=this.params.tickColor,this.$el.appendChild(this.$path),this.$labels=[],this.$el)}},{key:"update",value:function(e,t){var r=this;console.log("scale update");var i=e.height,n=e.valueToPixel.domain()[0],s=e.valueToPixel.domain()[1];if(void 0===this.lastCy0||this.lastCy0!==n||this.lastCy1!==s||this.lastH!==i){this.lastCy0=n,this.lastCy1=s,this.lastH=i,console.log("cy0 = "+n),console.log("cy1 = "+s);for(var a=0;a<this.$labels.length;++a)this.$el.removeChild(this.$labels[a]);this.$labels=[];var l=(0,f.linear)(n,s,10),o=l.reduce(function(e,t){return Math.max(e,t.label.length)},0),u=6.5*o+12;this.$bg.setAttributeNS(null,"width",u),this.$bg.setAttributeNS(null,"height",i);for(var c="M"+u+",0L"+u+","+i,h=i+14,a=0;a<l.length;++a){var d=e.valueToPixel(l[a].value),p=i-d+3,b=!0;(p>i-8||p<8||p>h-20)&&(b=!1),b?(c=c+"M"+(u-8)+","+d+"L"+u+","+d,h=p,function(e,t,n){var s=document.createElementNS(r.ns,"text");s.classList.add("label"),s.style.fontSize="10px",s.style.lineHeight="10px",s.style.fontFamily="monospace",s.style.fill=r.params.textColor,s.style.opacity=r.params.opacity,s.style.mozUserSelect="none",s.style.webkitUserSelect="none",s.style.userSelect="none",s.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, "+t+", "+i+")"),s.setAttributeNS(null,"y",n);var a=document.createTextNode(e);s.appendChild(a),r.$labels.push(s),r.$el.appendChild(s)}(l[a].label,2,p)):c=c+"M"+(u-5)+","+d+"L"+u+","+d}this.$path.setAttributeNS(null,"d",c)}}},{key:"inArea",value:function(){return!1}}]),t}(u.default);r.default=d,t.exports=r.default},{"../core/namespace":12,"../utils/scale-tick-intervals":69,"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],49:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"segment"}},{key:"_getAccessorList",value:function(){return{x:0,y:0,width:0,height:1,color:"#000000",opacity:1}}},{key:"_getDefaults",value:function(){return{displayHandlers:!0,handlerWidth:2,handlerOpacity:.8,opacity:.6}}},{key:"render",value:function(e){
return this.$el?this.$el:(this.$segment=document.createElementNS(this.ns,"rect"),this.$segment.classList.add("segment"),this.$segment.style.opacity=this.params.opacity,this.$segment.setAttributeNS(null,"shape-rendering","geometricPrecision"),"segment"!=this.getClassName()||this.params.displayHandlers?(this.$el=document.createElementNS(this.ns,"g"),this.$el.appendChild(this.$segment),this.params.displayHandlers&&(this.$leftHandler=document.createElementNS(this.ns,"rect"),this.$leftHandler.classList.add("left","handler"),this.$leftHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$leftHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$leftHandler.style.opacity=this.params.handlerOpacity,this.$leftHandler.style.cursor="ew-resize",this.$rightHandler=document.createElementNS(this.ns,"rect"),this.$rightHandler.classList.add("right","handler"),this.$rightHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$rightHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$rightHandler.style.opacity=this.params.handlerOpacity,this.$rightHandler.style.cursor="ew-resize",this.$el.appendChild(this.$leftHandler),this.$el.appendChild(this.$rightHandler))):this.$el=this.$segment,this.$el)}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.x(t)),i=e.valueToPixel(this.y(t)),n=e.timeToPixel(this.x(t)+this.width(t))-r,s=e.valueToPixel(this.y(t)+this.height(t))-i;if(this.$segment.setAttributeNS(null,"x",r),this.$segment.setAttributeNS(null,"y",i-s/2),this.$segment.setAttributeNS(null,"width",Math.max(n,0)),this.$segment.setAttributeNS(null,"height",s),!(r+n>=e.minX&&r<=e.maxX))return void this.$el.setAttributeNS(null,"visibility","hidden");this.$el.setAttributeNS(null,"visibility","visible");var a=this.color(t),l=this.opacity(t);this.$el.style.opacity=l,this.$segment.style.fill=a,this.params.displayHandlers&&(this.$leftHandler.setAttributeNS(null,"x",r),this.$leftHandler.setAttributeNS(null,"y",0),this.$leftHandler.setAttributeNS(null,"height",s),this.$leftHandler.style.fill=a,this.$rightHandler.setAttributeNS(null,"x",r+n-this.params.handlerWidth),this.$rightHandler.setAttributeNS(null,"y",0),this.$rightHandler.setAttributeNS(null,"height",s),this.$rightHandler.style.fill=a)}},{key:"inArea",value:function(e,t,r,i,n,s){var a=e.timeToPixel(this.x(t)),l=e.timeToPixel(this.x(t)+this.width(t)),o=e.valueToPixel(this.y(t)),u=e.valueToPixel(this.y(t)+this.height(t));return Math.max(0,Math.min(n,l)-Math.max(r,a))*Math.max(0,Math.min(s,u)-Math.max(i,o))>0}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],50:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"_getClassName",value:function(){return"tick"}},{key:"_getAccessorList",value:function(){return{time:0,focused:!0,label:""}}},{key:"_getDefaults",value:function(){return{color:"steelblue",focusedOpacity:.8,defaultOpacity:.3,labelPosition:"top",shadeSegments:!1,unconstrained:!1}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$el)}},{key:"update",value:function(e,t){for(var r=performance.now();this.$el.firstChild;)this.$el.removeChild(this.$el.firstChild);var i=document.createElementNS(this.ns,"path");i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"shape-rendering","crispEdges"),i.setAttributeNS(null,"stroke",this.params.color),i.setAttributeNS(null,"stroke-width",2),i.style.opacity=this.params.opacity,this.$el.appendChild(i);var n=e.height,s=[],a=t.length;if(a>0)for(var l=e.timeToPixel(this.time(t[0])),o=!1,u=!0,c=function(e){return e?.1:.05},h=0;h<a;++h){var f=t[h],d=l,p=h+1>=a;if(o=!o,p||(l=e.timeToPixel(this.time(t[h+1]))),!this.params.unconstrained){if(d<e.minX)continue;if(!p&&Math.floor(l)===Math.floor(d))continue}this.focused(f)?this.params.focusedOpacity:this.params.defaultOpacity;if(s.push("M"+d+",0L"+d+","+n),this.params.shadeSegments){if(u&&d>e.minX){var b=document.createElementNS(this.ns,"rect");b.setAttributeNS(null,"width",d-e.minX),b.setAttributeNS(null,"height",n),b.setAttributeNS(null,"fill",this.params.color),b.setAttributeNS(null,"opacity",c(!o)),b.setAttributeNS(null,"transform","translate("+e.minX+", 0)"),this.$el.appendChild(b)}if(p||l>d+1){var b=document.createElementNS(this.ns,"rect");b.setAttributeNS(null,"width",p?"100%":l-d),b.setAttributeNS(null,"height",n),b.setAttributeNS(null,"fill",this.params.color),b.setAttributeNS(null,"opacity",c(o)),b.setAttributeNS(null,"transform","translate("+d+", 0)"),this.$el.appendChild(b)}}var m=this.label(f);if(m&&""!==m){for(var v=d-1,y=h+1;y<a;++y){var g=this.label(t[y]);if(g&&""!==g){v=e.timeToPixel(this.time(t[y]));break}}var x=6*m.length,$=v<d||d+x<v;if($){var _=document.createElementNS(this.ns,"text");_.classList.add("label");var k=document.createTextNode(m);_.appendChild(k),_.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, "+(d+2)+", "+(n+2)+")"),"bottom"===this.params.labelPosition?_.setAttributeNS(null,"y",n):_.setAttributeNS(null,"y","10"),_.style.fontSize="10px",_.style.lineHeight="10px",_.style.fontFamily="monospace",_.style.color="#676767",_.style.opacity=.9,_.style.mozUserSelect="none",_.style.webkitUserSelect="none",_.style.userSelect="none",this.$el.appendChild(_)}}if(!this.params.unconstrained&&l>e.maxX)break;u=!1}var w=s.join("");i.setAttributeNS(null,"d",w);var j=performance.now();console.log("ticks update time = "+Math.round(j-r)+"ms")}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],51:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"trace-dots"}},{key:"_getAccessorList",value:function(){return{x:0,mean:0,range:0}}},{key:"_getDefaults",value:function(){return{meanRadius:3,rangeRadius:3,meanColor:"#232323",rangeColor:"steelblue"}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$mean=document.createElementNS(this.ns,"circle"),this.$mean.setAttributeNS(null,"r",this.params.meanRadius),this.$mean.setAttributeNS(null,"stroke",this.params.meanColor),this.$mean.setAttributeNS(null,"fill","transparent"),this.$mean.classList.add("mean"),this.$max=document.createElementNS(this.ns,"circle"),this.$max.setAttributeNS(null,"r",this.params.meanRadius),this.$max.setAttributeNS(null,"stroke",this.params.rangeColor),this.$max.setAttributeNS(null,"fill","transparent"),this.$max.classList.add("max"),this.$min=document.createElementNS(this.ns,"circle"),this.$min.setAttributeNS(null,"r",this.params.meanRadius),this.$min.setAttributeNS(null,"stroke",this.params.rangeColor),this.$min.setAttributeNS(null,"fill","transparent"),this.$min.classList.add("min"),this.$el.appendChild(this.$mean),this.$el.appendChild(this.$max),this.$el.appendChild(this.$min),this.$el)}},{key:"update",value:function(e,t){var r=this.mean(t),i=this.range(t),n=this.x(t),s=""+e.valueToPixel(r);this.$mean.setAttributeNS(null,"transform","translate(0, "+s+")");var a=i/2,l=e.valueToPixel(r+a),o=e.valueToPixel(r-a),u=e.timeToPixel(n);this.$max.setAttributeNS(null,"transform","translate(0, "+l+")"),this.$min.setAttributeNS(null,"transform","translate(0, "+o+")"),this.$el.setAttributeNS(null,"transform","translate("+u+", 0)")}},{key:"inArea",value:function(e,t,r,i,n,s){var a=e.timeToPixel(this.x(t)),l=e.valueToPixel(this.mean(t)),o=e.valueToPixel(this.range(t)),u=l-o/2,c=l+o/2;return a>r&&a<n&&(u>i||c<s)}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],52:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"trace-common"}},{key:"_getAccessorList",value:function(){return{x:0,mean:0,range:0}}},{key:"_getDefaults",value:function(){return{rangeColor:"steelblue",meanColor:"#232323",displayMean:!0}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$range=document.createElementNS(this.ns,"path"),this.$el.appendChild(this.$range),this.params.displayMean&&(this.$mean=document.createElementNS(this.ns,"path"),this.$el.appendChild(this.$mean)),this.$el)}},{key:"update",value:function(e,t){var r=this;t=t.slice(0),t.sort(function(e,t){return r.x(e)<r.x(t)?-1:1}),this.params.displayMean&&(this.$mean.setAttributeNS(null,"d",this._buildMeanLine(e,t)),this.$mean.setAttributeNS(null,"stroke",this.params.meanColor),this.$mean.setAttributeNS(null,"fill","none")),this.$range.setAttributeNS(null,"d",this._buildRangeZone(e,t)),this.$range.setAttributeNS(null,"stroke","none"),this.$range.setAttributeNS(null,"fill",this.params.rangeColor),this.$range.setAttributeNS(null,"opacity","0.4"),t=null}},{key:"_buildMeanLine",value:function(e,t){var r=this;return"M"+t.map(function(t,i){return e.timeToPixel(r.x(t))+","+e.valueToPixel(r.mean(t))}).join("L")}},{key:"_buildRangeZone",value:function(e,t){for(var r=t.length,i="",n="",s=0;s<r;s++){var a=t[s],l=this.mean(a),o=this.range(a)/2,u=e.timeToPixel(this.x(a)),c=e.valueToPixel(l+o),h=e.valueToPixel(l-o),f=u+","+c,d=u+","+h;i=""===i?f:i+"L"+f,n=""===n?d:d+"L"+n}return"M"+i+"L"+n+"Z"}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],53:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/sliced-to-array").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-shape"),c=o(u),h=e("../utils/oversample"),f=o(h),d=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),s(t,[{key:"getClassName",value:function(){return"waveform"}},{key:"_getAccessorList",value:function(){return{}}},{key:"_getDefaults",value:function(){return{sampleRate:44100,color:"#000000",opacity:1,peakCacheBlockSize:32}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"path"),this.$el.setAttributeNS(null,"fill","none"),this.$el.setAttributeNS(null,"stroke",this.params.color),this.$el.style.opacity=this.params.opacity,this.factor=8,this.oversampler=new f.default(this.factor),this.$el)}},{key:"encache",value:function(e){var t=(performance.now(),this.params.peakCacheBlockSize),r=function(e,t){for(var r=[],i=[],n=e.length,s=0;s<n;s+=t){for(var a=e[s],l=e[s],o=0;o<t;o++){var u=e[s+o];u<a&&(a=u),u>l&&(l=u)}r.push(l),i.push(a)}return[r,i]}(e,t),i=l(r,2);return{samples:e,peakCaches:[{blockSize:t,max:i[0],min:i[1]}]}}},{key:"summarise",value:function(e,t,r,i){var n=performance.now(),s=e.samples,a=Math.floor(t),l=Math.floor(r),o=null,u=0;if(e&&e.peakCaches.length>0)for(var c=i(a+1)-i(a),h=0;h<e.peakCaches.length;++h){var f=e.peakCaches[h].blockSize;f>u&&f<=c/2&&(o=e.peakCaches[h],u=o.blockSize)}for(var d=(this.params.sampleRate,[]),p=a;p<l;p++){var b=i(p);if(!(b<0)){if(b>=s.length)break;var m=i(p+1);if(m>=s.length&&(m=s.length),!(m<0)){var v=s[b],y=v,g=b;if(o&&u>0){for(;g<m&&g%u!=0;){var x=s[g];x<v&&(v=x),x>y&&(y=x),++g}for(var $=g/u,_=o.max,k=o.min;g+u<=m;)_[$]>y&&(y=_[$]),k[$]<v&&(v=k[$]),++$,g+=u}for(;g<m;){var x=s[g];x<v&&(v=x),x>y&&(y=x),++g}d.push([p,v,y])}}}var w=performance.now();return console.log("waveform summarisation time = "+Math.round(w-n)),d}},{key:"_updateSummarising",value:function(e,t,r){var i=e.minX,n=e.maxX,s=this.summarise(t,i,n,r);if(s.length){var a=s.map(function(t){var r=l(t,3),i=r[0],n=r[1],s=r[2];return i+","+Math.round(e.valueToPixel(n))+"L"+i+","+Math.round(e.valueToPixel(s))}),o="M"+a.join("L");this.$el.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.setAttributeNS(null,"stroke-width",1),this.$el.setAttributeNS(null,"d",o)}}},{key:"_updateInterpolating",value:function(e,t,r,i){for(var n=e.minX,s=e.maxX,a=r(n),l=r(s)+1,o=t.samples,u=o.length,c=[],h=a;h<l&&h<u;++h)if(!(h<0)){var f=i(h),d=e.valueToPixel(o[h]);c.push("M"+(f-1)+","+(d-1)+"h2v2h-2v-2")}for(var p=this.factor,b=this.oversampler.oversample(o,a,l-a),h=0;h<b.length;++h){var f=i(a+h/p),d=e.valueToPixel(b[h]);0===h?c.push("M"+f+","+d):c.push("L"+f+","+d)}var m=c.join("");this.$el.setAttributeNS(null,"shape-rendering","geometricPrecision"),this.$el.setAttributeNS(null,"stroke-width",.6),this.$el.setAttributeNS(null,"d",m)}},{key:"update",value:function(e,t){var r=this,i=performance.now(),n=this.params.sampleRate,s=e.minX,a=n*(e.timeToPixel.invert(s+1)-e.timeToPixel.invert(s)),l=a>=2*this.params.peakCacheBlockSize,o=function(t){return r.params.peakCacheBlockSize*Math.floor(n*e.timeToPixel.invert(t)/r.params.peakCacheBlockSize)},u=function(t){return Math.floor(n*e.timeToPixel.invert(t))},c=l?o:u,h=function(t){return e.timeToPixel(t/n)};a>1?this._updateSummarising(e,t,c):this._updateInterpolating(e,t,c,h);var f=performance.now();console.log("waveform update time = "+Math.round(f-i))}}]),t}(c.default);r.default=d,t.exports=r.default},{"../utils/oversample":66,"./base-shape":40,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91,"babel-runtime/helpers/sliced-to-array":92}],54:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default;Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(t){n(this,e),this.timeline=t}return i(e,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e,t){}},{key:"tracks",get:function(){return this.timeline.tracks}},{key:"layers",get:function(){return this.timeline.tracks.layers}}]),e}();r.default=s,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88}],55:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=function(e){function t(e,r){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.datumGenerator=r,this.currentEditedLayer=null,this.currentTarget=null}return n(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e,t){switch(e.type){case"mousedown":this.onMouseDown(e,t);break;case"mousemove":this.onMouseMove(e,t);break;case"mouseup":this.onMouseUp(e,t)}}},{key:"onMouseDown",value:function(e,t){var r=this;this.mouseDown=!0,this.currentTarget=e.target;var i=null;t.forEach(function(t){t.unselect();var n=t.getItemFromDOMElement(e.target);if(null===n){var s=t.timeToPixel.invert(e.x)-r.timeline.offset,a=t.valueToPixel.invert(t.params.height-e.y),l=r.datumGenerator(s,a);t.data.push(l),i=t}else if(e.originalEvent.shiftKey){var o=t.data,l=t.getDatumFromItem(n);o.splice(o.indexOf(l),1),i=t}else r.currentEditedLayer=t,t.select(n)}),i&&(this.timeline.tracks.render(i),this.timeline.tracks.update(i))}},{key:"onMouseMove",value:function(e){var t=this;if(this.mouseDown&&this.currentEditedLayer){var r=this.currentEditedLayer,i=r.selectedItems;i.forEach(function(i){r.edit(i,e.dx,e.dy,t.currentTarget)}),r.update(i)}}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null,this.mouseDown=!1}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-state":54,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],56:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/namespace"),u=l(o),c=e("./base-state"),h=l(c),f=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return n(t,e),s(t,[{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e);break;case"keydown":this.onKeyDown(e)}}},{key:"onMouseDown",value:function(e){var t=this;this.brushes=[],this.startX=e.x,this.tracks.forEach(function(e){var r=e.$interactions,i=document.createElementNS(u.default,"rect");i.setAttributeNS(null,"height",e.height),i.setAttributeNS(null,"y",0),i.style.fill="#787878",i.style.opacity=.2,r.appendChild(i),t.brushes.push(i)})}},{key:"onMouseMove",value:function(e){var t=Math.abs(e.x-this.startX),r=Math.min(e.x,this.startX);this.brushes.forEach(function(e){e.setAttributeNS(null,"width",t),e.setAttributeNS(null,"x",r)})}},{key:"onMouseUp",value:function(e){this.brushes.forEach(function(e){e.parentNode.removeChild(e)});var t=this.startX,r=e.x;if(!(Math.abs(t-r)<1)){var i=Math.max(0,Math.min(t,r)),n=Math.max(t,r),s=this.timeline.timeToPixel.invert(i),a=this.timeline.timeToPixel.invert(n),l=a-s,o=this.timeline.visibleDuration/l;this.timeline.offset-=s,this.timeline.zoom*=o,this.tracks.update()}}},{key:"onKeyDown",value:function(e){32===e.originalEvent.keyCode&&(this.timeline.offset=0,this.timeline.zoom=1,this.tracks.update())}}]),t}(h.default);r.default=f,t.exports=r.default},{"../core/namespace":12,"./base-state":54,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],57:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("../utils/scales"),u=l(o),c=e("./base-state"),h=l(c),f=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentLayer=null,this.maxZoom=705600/this.timeline.timeContext.pixelsPerSecond,this.minZoom=1e4/3600/this.timeline.timeContext.pixelsPerSecond}return n(t,e),s(t,[{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){this.initialX=e.x,this.initialOffset=this.timeline.timeContext.offset,this.initialCenterTime=this.timeline.timeContext.timeToPixel.invert(e.x)-this.initialOffset,this.initialY=e.y,this.initialZoom=this.timeline.timeContext.zoom,this.dragMode="unresolved",this._pixelToExponent=u.default.linear().domain([0,100]).range([0,1])}},{key:"updateDragMode",value:function(e){if("free"!==this.dragMode){var t=Math.abs(e.x-this.initialX),r=Math.abs(e.y-this.initialY);"unresolved"===this.dragMode&&(r>10&&r>2*t?this.dragMode="vertical":t>10&&t>2*r?this.dragMode="horizontal":t>10&&r>10&&(this.dragMode="free")),"vertical"===this.dragMode&&t>50&&(this.dragMode="free"),"horizontal"===this.dragMode&&r>50&&(this.dragMode="free")}}},{key:"onMouseMove",value:function(e){e.originalEvent.preventDefault(),this.updateDragMode(e);var t=this.timeline.timeContext,r=!1;if("vertical"===this.dragMode||"free"===this.dragMode){var i=this._pixelToExponent(e.y-this.initialY),n=this.initialZoom*Math.pow(2,i),s=Math.min(Math.max(n,this.minZoom),this.maxZoom);t.zoom!==s&&(t.zoom=s,r=!0)}var a=t.timeToPixel(this.initialCenterTime+t.offset),l=e.x-a,o=t.timeToPixel.invert(l);0!==o&&(t.offset+=o,r=!0),console.log("mouse move: time context offset is now "+t.offset),r&&this.timeline.tracks.update()}},{key:"onMouseUp",value:function(e){this.dragMode="unresolved"}}]),t}(h.default);r.default=f,t.exports=r.default},{"../utils/scales":70,"./base-state":54,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],58:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=e("../behaviors/time-context-behavior"),h=(l(c),function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return n(t,e),s(t,[{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){this.mouseDown=!0,this.currentTarget=e.target;for(var t=0,r=this.layers.length;t<r;t++){var i=this.layers[t];if(i.hasElement(e.target)){this.currentLayer=i;break}}}},{key:"onMouseMove",value:function(e){if(this.mouseDown&&this.currentLayer){var t=this.currentLayer,r=this.currentTarget;e.originalEvent.shiftKey?t.stretchContext(e.dx,e.dy,r):t.editContext(e.dx,e.dy,r),this.timeline.tracks.update(t)}}},{key:"onMouseUp",value:function(e){this.mouseDown=!1,this.currentTarget=null,this.currentLayer=null}}]),t}(u.default));r.default=h,t.exports=r.default},{"../behaviors/time-context-behavior":8,"./base-state":54,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],59:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentEditedLayer=null,this.currentTarget=null}return n(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){this.currentTarget=e.target}},{key:"onMouseMove",value:function(e){var t=this;this.layers.forEach(function(r){var i=r.selectedItems;r.edit(i,e.dx,e.dy,t.currentTarget),r.update(i)})}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null,this.mouseDown=!1}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-state":54,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],60:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/core-js/map").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-state"),c=o(u),h=e("../core/namespace"),f=o(h),d=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentLayer=null,this.selectedItems=null,this.mouseDown=!1,this.shiftKey=!1,this._layerSelectedItemsMap=new l}return n(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){var e=this.timeline.containers;for(var t in e)this._removeBrush(e[t])}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e);break;case"click":this.onClick(e);break;case"keydown":case"keyup":this.onKey(e)}}},{key:"_addBrush",value:function(e){if(!e.$brush){var t=document.createElementNS(f.default,"rect");t.style.fill="#686868",t.style.opacity=.2,e.$interactions.appendChild(t),e.$brush=t}}},{key:"_removeBrush",value:function(e){null!==e.$brush&&(this._resetBrush(e),e.$interactions.removeChild(e.$brush),delete e.$brush)}},{key:"_resetBrush",value:function(e){var t=e.$brush;t.setAttributeNS(null,"transform","translate(0, 0)"),t.setAttributeNS(null,"width",0),t.setAttributeNS(null,"height",0)}},{key:"_updateBrush",value:function(e,t){var r=t.$brush,i="translate("+e.area.left+", "+e.area.top+")";r.setAttributeNS(null,"transform",i),r.setAttributeNS(null,"width",e.area.width),r.setAttributeNS(null,"height",e.area.height)}},{key:"onKey",value:function(e){this.shiftKey=e.shiftKey}},{key:"onMouseDown",value:function(e){var t=this;this._currentTrack=this.timeline.getTrackFromDOMElement(e.target),this._currentTrack&&(this._addBrush(this._currentTrack),this._layerSelectedItemsMap=new l,this._currentTrack.layers.forEach(function(e){t._layerSelectedItemsMap.set(e,e.selectedItems.slice(0))}))}},{key:"onMouseMove",value:function(e){var t=this;this._updateBrush(e,this._currentTrack),this._currentTrack.layers.forEach(function(r){var i=r.selectedItems,n=r.getItemsInArea(e.area);e.originalEvent.shiftKey?function(){var e=[],s=[],a=t._layerSelectedItemsMap.get(r);n.forEach(function(t){-1===a.indexOf(t)?e.push(t):s.push(t)}),i.forEach(function(e){-1===n.indexOf(e)&&-1===a.indexOf(e)&&s.push(e)}),r.unselect(s),r.select(e)}():(r.unselect(i),r.select(n))})}},{key:"onMouseUp",value:function(e){this._removeBrush(this._currentTrack)}},{key:"onClick",value:function(e){this._currentTrack&&this._currentTrack.layers.forEach(function(t){var r=t.getItemFromDOMElement(e.target);e.originalEvent.shiftKey||t.unselect(),r&&t.toggleSelection(r)})}}]),t}(c.default);r.default=d,t.exports=r.default},{"../core/namespace":12,"./base-state":54,"babel-runtime/core-js/map":75,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],61:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentEditedLayer=null,this.currentTarget=null}return n(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){var t=this;this.currentTarget=e.target,this.layers.forEach(function(r){if(r.hasElement(t.currentTarget)){e.originalEvent.shiftKey||r.unselect();var i=r.getItemFromDOMElement(t.currentTarget);null!==i&&(t.currentEditedLayer=r,requestAnimationFrame(function(){r.select(i)}))}})}},{key:"onMouseMove",value:function(e){if(this.currentEditedLayer){var t=this.currentEditedLayer,r=t.selectedItems;t.edit(r,e.dx,e.dy,this.currentTarget),requestAnimationFrame(function(){t.update(r)})}}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null}}]),t}(u.default);r.default=c,t.exports=r.default},{"./base-state":54,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],62:[function(e,t,r){"use strict";function i(e,t,r){for(var i=0,n=e.length-1;i<=n;){var s=i+(n-i>>1),a=r(e[s]);if(a<t)i=s+1;else{if(!(a>t))return s;n=s-1}}return n<0?0:n}Object.defineProperty(r,"__esModule",{value:!0}),r.findWithin=i},{}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={padLeft:function(e,t,r){for(e+="";e.length<r;)e=t+e;return e}},t.exports=r.default},{}],64:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default;Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(){n(this,e)}return i(e,[{key:"getColumnCount",value:function(){return 0}},{key:"getColumnHeight",value:function(){return 0}},{key:"getColumn",value:function(e){return[]}},{key:"getStepDuration",value:function(){return 0}},{key:"getStartTime",value:function(){return 0}},{key:"dispose",value:function(){}}]),e}();r.default=s,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88}],65:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default,s=e("babel-runtime/core-js/object/keys").default;Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(){n(this,e),this._cols=null,this._rows=null}return i(e,[{key:"_checkConsistency",value:function(){var e=null;for(var t in this._cols){var r=this._cols[t],i=r.length;if(null!==e&&e!==i)throw new Error(this.prototype.constructor.name+": inconsistent data");null===e&&(e=i)}}},{key:"updateFromCols",value:function(){var e=this
;s(this._cols).forEach(function(t,r){e._cols[t].forEach(function(r,i){void 0===e._rows[i]&&(e._rows[i]={}),e._rows[i][t]=r})}),this._checkConsistency()}},{key:"updateFromRows",value:function(){var e=this;this._rows.forEach(function(t,r){for(var i in t)0===r&&(e._cols[i]=[]),e._cols[i].push(t[i])}),this._checkConsistency()}},{key:"cols",set:function(e){this._cols=e,this._rows=[],this.updateFromCols()},get:function(){return this._cols}},{key:"rows",set:function(e){this._rows=e,this._cols={},this.updateFromRows()},get:function(){return this._rows}}]),e}();r.default=a,t.exports=r.default},{"babel-runtime/core-js/object/keys":81,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88}],66:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default;Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(t){if(n(this,e),8!==t)throw"Only oversampling factor currently supported is 8";this.factor=t,this.filter=[.00020171043153063023,.0002887198196326776,.0003410439309101285,.00034267123819805857,.0002843462511901066,.00016636986363946504,-4.5940658605786285e-18,-.00019299665002484582,-.00038279951732549946,-.0005357990649609105,-.0006201170748425957,-.000611531555444137,-.0004987822892899791,-.0002872272251922189,-7.822991648518709e-19,.00032382854144162815,.0006341027017666046,.0008769331519465396,.001003535186382615,.0009791732608026272,.0007906678783612421,.00045101220009813206,-3.039648514978356e-18,-.0004996532051508215,-.0009704877518513666,-.0013318083550190923,-.0015128911871247466,-.0014658111457301016,-.0011756800671747431,-.0006663214707558645,1.0713650598357415e-17,.0007292959363289514,.0014084768982220279,.0019222969998680237,.0021721723797956524,.0020938999751673173,.0016712330766289326,.0009427050283841188,-5.656965938821965e-18,-.0010225643654040554,-.001966437013513757,-.002672722670880038,-.00300806671037164,-.00288843624179131,-.0022967244980623574,-.0012908081494665458,-5.1499690577098e-18,.0013904094522721,.0026648961861419334,.0036103002009868065,.004050469159316014,.0038774554290217484,.0030739396559265075,.001722603817632299,-9.130030250503607e-18,-.0018451873718735516,-.0035270571169279162,-.004765847116110058,-.0053332982334767624,-.005092831604550132,-.00402770012894082,-.0022517645624319594,3.2752446397299053e-17,.0024010765839506923,.004579613038976446,.006174912111845945,.00689578873526276,.006571541332393174,.005186887306036285,.002894248521447605,-1.336645565990815e-17,-.0030747336558684963,-.0058540294958507235,-.007879546416595632,-.008784519668338507,-.008357645279493864,-.006586046547485615,-.003669217725935383,-1.9348975378752276e-17,.0038863208094135626,.007388553022623823,.009931080628244226,.011056594746806033,.010505398026651453,.008267906564613223,.00460048159140493,-1.816145184081109e-17,-.004861124757802925,-.009231379891669668,-.012394511669674028,-.01378467517229709,-.013084177592430083,-.010287380585427207,-.00571879407588959,7.520535431851951e-17,.006032144534828161,.011445734103106982,.015355551390625357,.017065088242935025,.016186450815185452,.012718051439340603,.0070655888687995785,-2.3209664144996714e-17,-.007444328311482942,-.01411821163125819,-.018932253281654043,-.02103125585328301,-.019941019333653123,-.015663002335303704,-.008699245445932525,2.5712475624993567e-17,.009161748270723635,.0173729814451255,.023294901939595228,.02587678878709242,.02453592568963366,.01927365323131565,.010706050935569809,-2.8133472199037193e-17,-.011280308241551094,-.02139710071477064,-.02870170641615764,-.031897218249350504,-.030260140480986304,-.023784294156618507,-.013220449772289724,3.042099156841831e-17,.013951594368737923,.0264884258371512,.03556693609945249,.03957036852169639,.0375845888664677,.029579845398822833,.016465167405787955,-3.2524514488155654e-17,-.017431115375410273,-.03315356952091943,-.04460179422099746,-.0497244634100025,-.04733366619358394,-.037341081614037944,-.020838316594689998,3.439626695384943e-17,.022185914535618936,.04232958202159685,.05713801867687856,.06393033000280622,.06109191933191721,.04839482380906132,.027127167584840003,-3.5992766927138734e-17,-.029168755716052385,-.055960213335110184,-.07598693477350407,-.08556575102599769,-.08233350786406181,-.06571046000158454,-.03713224848702707,3.727625511036616e-17,.04066438975848791,.07882920057770397,.10826166115536123,.12343378955977465,.12040455825217859,.09755344650130694,.056053367635801106,-3.8215953158245473e-17,-.0638435745677513,-.12667849902789644,-.17861887575594584,-.20985333136704623,-.21188193950868073,-.17867464086818077,-.10760048593620072,3.8789099095340224e-17,.13868670259490817,.29927055936918734,.46961864377510765,.6358321371992203,.7836674214332147,.9000377382311825,.9744199685311685,1.0000000000000004,.9744199685311685,.9000377382311825,.7836674214332147,.6358321371992203,.46961864377510765,.29927055936918734,.13868670259490817,3.8789099095340224e-17,-.10760048593620072,-.17867464086818077,-.21188193950868073,-.20985333136704623,-.17861887575594584,-.12667849902789644,-.0638435745677513,-3.8215953158245473e-17,.056053367635801106,.09755344650130694,.12040455825217859,.12343378955977465,.10826166115536123,.07882920057770397,.04066438975848791,3.727625511036616e-17,-.03713224848702707,-.06571046000158454,-.08233350786406181,-.08556575102599769,-.07598693477350407,-.055960213335110184,-.029168755716052385,-3.5992766927138734e-17,.027127167584840003,.04839482380906132,.06109191933191721,.06393033000280622,.05713801867687856,.04232958202159685,.022185914535618936,3.439626695384943e-17,-.020838316594689998,-.037341081614037944,-.04733366619358394,-.0497244634100025,-.04460179422099746,-.03315356952091943,-.017431115375410273,-3.2524514488155654e-17,.016465167405787955,.029579845398822833,.0375845888664677,.03957036852169639,.03556693609945249,.0264884258371512,.013951594368737923,3.042099156841831e-17,-.013220449772289724,-.023784294156618507,-.030260140480986304,-.031897218249350504,-.02870170641615764,-.02139710071477064,-.011280308241551094,-2.8133472199037193e-17,.010706050935569809,.01927365323131565,.02453592568963366,.02587678878709242,.023294901939595228,.0173729814451255,.009161748270723635,2.5712475624993567e-17,-.008699245445932525,-.015663002335303704,-.019941019333653123,-.02103125585328301,-.018932253281654043,-.01411821163125819,-.007444328311482942,-2.3209664144996714e-17,.0070655888687995785,.012718051439340603,.016186450815185452,.017065088242935025,.015355551390625357,.011445734103106982,.006032144534828161,7.520535431851951e-17,-.00571879407588959,-.010287380585427207,-.013084177592430083,-.01378467517229709,-.012394511669674028,-.009231379891669668,-.004861124757802925,-1.816145184081109e-17,.00460048159140493,.008267906564613223,.010505398026651453,.011056594746806033,.009931080628244226,.007388553022623823,.0038863208094135626,-1.9348975378752276e-17,-.003669217725935383,-.006586046547485615,-.008357645279493864,-.008784519668338507,-.007879546416595632,-.0058540294958507235,-.0030747336558684963,-1.336645565990815e-17,.002894248521447605,.005186887306036285,.006571541332393174,.00689578873526276,.006174912111845945,.004579613038976446,.0024010765839506923,3.2752446397299053e-17,-.0022517645624319594,-.00402770012894082,-.005092831604550132,-.0053332982334767624,-.004765847116110058,-.0035270571169279162,-.0018451873718735516,-9.130030250503607e-18,.001722603817632299,.0030739396559265075,.0038774554290217484,.004050469159316014,.0036103002009868065,.0026648961861419334,.0013904094522721,-5.1499690577098e-18,-.0012908081494665458,-.0022967244980623574,-.00288843624179131,-.00300806671037164,-.002672722670880038,-.001966437013513757,-.0010225643654040554,-5.656965938821965e-18,.0009427050283841188,.0016712330766289326,.0020938999751673173,.0021721723797956524,.0019222969998680237,.0014084768982220279,.0007292959363289514,1.0713650598357415e-17,-.0006663214707558645,-.0011756800671747431,-.0014658111457301016,-.0015128911871247466,-.0013318083550190923,-.0009704877518513666,-.0004996532051508215,-3.039648514978356e-18,.00045101220009813206,.0007906678783612421,.0009791732608026272,.001003535186382615,.0008769331519465396,.0006341027017666046,.00032382854144162815,-7.822991648518709e-19,-.0002872272251922189,-.0004987822892899791,-.000611531555444137,-.0006201170748425957,-.0005357990649609105,-.00038279951732549946,-.00019299665002484582,-4.5940658605786285e-18,.00016636986363946504,.0002843462511901066,.00034267123819805857,.0003410439309101285,.0002887198196326776,.00020171043153063023]}return i(e,[{key:"oversample",value:function(e,t,r){var i=performance.now(),n=r*this.factor,s=this.filter.length,a=Math.round((s-1)/2),l=new Float32Array(n),o=t-Math.floor(a/this.factor);o<0&&(o=0);var u=t+r+Math.floor(a/this.factor);u>e.length&&(u=e.length);for(var c=o;c<u;++c)for(var h=e[c],f=(c-t)*this.factor-a,d=0;d<s;++d){var p=f+d;p<0||p>=n||(l[p]+=h*this.filter[d])}return console.log("oversample: "+(u-o)+" samples in, "+n+" out in "+(performance.now()-i)+" ms"),l}}]),e}();r.default=s,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88}],67:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/create-class").default,n=e("babel-runtime/helpers/class-call-check").default;Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(t,r,i){n(this,e),this.width=t,this.height=r,this.depth=i,this.pix_size=r*(t+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*i+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+i+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=[],this.palette={},this.pindex=0;var s,a=[];for(s=0;s<this.buffer_size;s++)this.buffer[s]="\0";e._write(this.buffer,this.ihdr_offs,e._byte4(this.ihdr_size-12),"IHDR",e._byte4(t),e._byte4(r),"\b"),e._write(this.buffer,this.plte_offs,e._byte4(this.plte_size-12),"PLTE"),e._write(this.buffer,this.trns_offs,e._byte4(this.trns_size-12),"tRNS"),e._write(this.buffer,this.idat_offs,e._byte4(this.idat_size-12),"IDAT"),e._write(this.buffer,this.iend_offs,e._byte4(this.iend_size-12),"IEND");var l=30912;for(l+=31-l%31,e._write(this.buffer,this.idat_offs+8,e._byte2(l)),s=0;(s<<16)-1<this.pix_size;s++){var o,u;s+65535<this.pix_size?(o=65535,u="\0"):(o=this.pix_size-(s<<16)-s,u=""),e._write(this.buffer,this.idat_offs+8+2+(s<<16)+(s<<2),u,e._byte2lsb(o),e._byte2lsb(~o))}for(s=0;s<256;s++){for(var c=s,h=0;h<8;h++)c=1&c?-306674912^c>>1&2147483647:c>>1&2147483647;a[s]=c}this._crc32=a}return i(e,[{key:"index",value:function(e,t){var r=t*(this.width+1)+e+1;return this.idat_offs+8+2+5*Math.floor(r/65535+1)+r}},{key:"color",value:function(e,t,r,i){i=i>=0?i:255;var n=((i<<8|e)<<8|t)<<8|r;if(void 0===this.palette[n]){if(this.pindex==this.depth)return"\0";var s=this.plte_offs+8+3*this.pindex;this.buffer[s+0]=String.fromCharCode(e),this.buffer[s+1]=String.fromCharCode(t),this.buffer[s+2]=String.fromCharCode(r),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(i),this.palette[n]=String.fromCharCode(this.pindex++)}return this.palette[n]}},{key:"getBase64",value:function(){var e=this.getDump();if(void 0!==window.btoa&&null!==window.btoa)return window.btoa(e);var t,r,i,n,s,a,l,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=e.length,c=0,h="";do{t=e.charCodeAt(c),n=t>>2,r=e.charCodeAt(c+1),s=(3&t)<<4|r>>4,i=e.charCodeAt(c+2),a=u<c+2?64:(15&r)<<2|i>>6,l=u<c+3?64:63&i,h+=o.charAt(n)+o.charAt(s)+o.charAt(a)+o.charAt(l)}while((c+=3)<u);return h}},{key:"getDump",value:function(){function t(t,r,i,n){for(var s=-1,a=4;a<i-4;a+=1)s=n[255&(s^t[r+a].charCodeAt(0))]^s>>8&16777215;e._write(t,r+i-4,e._byte4(-1^s))}for(var r=1,i=0,n=5552,s=0;s<this.height;s++)for(var a=-1;a<this.width;a++)r+=this.buffer[this.index(a,s)].charCodeAt(0),i+=r,0==(n-=1)&&(r%=65521,i%=65521,n=5552);return r%=65521,i%=65521,e._write(this.buffer,this.idat_offs+this.idat_size-8,e._byte4(i<<16|r)),t(this.buffer,this.ihdr_offs,this.ihdr_size,this._crc32),t(this.buffer,this.plte_offs,this.plte_size,this._crc32),t(this.buffer,this.trns_offs,this.trns_size,this._crc32),t(this.buffer,this.idat_offs,this.idat_size,this._crc32),t(this.buffer,this.iend_offs,this.iend_size,this._crc32),"PNG\r\n\n"+this.buffer.join("")}}],[{key:"_write",value:function(e,t){for(var r=2;r<arguments.length;r++)for(var i=0;i<arguments[r].length;i++)e[t++]=arguments[r].charAt(i)}},{key:"_byte2",value:function(e){return String.fromCharCode(e>>8&255,255&e)}},{key:"_byte4",value:function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}},{key:"_byte2lsb",value:function(e){return String.fromCharCode(255&e,e>>8&255)}}]),e}();r.default=s,t.exports=r.default},{"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88}],68:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/get").default,n=e("babel-runtime/helpers/inherits").default,s=e("babel-runtime/helpers/create-class").default,a=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var o=e("./matrix-entity.js"),u=l(o),c=function(e){function t(e,r,n){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.data=e,this.stepDuration=0,this.startTime=0,void 0!==r&&(this.startTime=r),void 0!==n&&(this.stepDuration=n)}return n(t,e),s(t,[{key:"getColumnCount",value:function(){return this.data.length}},{key:"getColumnHeight",value:function(){return this.data.length>0?this.data[0].length:0}},{key:"getColumn",value:function(e){return this.data[e]}},{key:"getStepDuration",value:function(){return this.stepDuration}},{key:"getStartTime",value:function(){return this.startTime}},{key:"dispose",value:function(){this.data=[]}}]),t}(u.default);r.default=c,t.exports=r.default},{"./matrix-entity.js":64,"babel-runtime/helpers/class-call-check":87,"babel-runtime/helpers/create-class":88,"babel-runtime/helpers/get":89,"babel-runtime/helpers/inherits":90,"babel-runtime/helpers/interop-require-default":91}],69:[function(e,t,r){"use strict";function i(e,t,r){return a(n(e,t,r))}function n(e,t,r){for(var i=!0;i;){var n=e,s=t,a=r;i=!1;var o="auto";{if(!(s<n)){if(a<1||s===n)return{initial:n,limit:n,spacing:1,roundTo:n,display:o,precision:1,logUnmap:!1};if(n!==n||s!==s)return console.log("ScaleTickIntervals: WARNING: min = "+n+", max = "+s),[];var u=(s-n)/a,c=l(u),h=l(Math.abs(s)),f=l(Math.abs(n)),d=Math.floor(c),p=Math.pow(10,d);o=d>-4&&d<4?"fixed":h>=-2&&h<=3&&f>=-3&&f<=3?"fixed":"scientific";var b=Math.ceil(h-c),m=1;m="fixed"===o?c<0?-d:0:b;var v=n;if(0!==p&&(u=Math.round(u/p)*p,u<p&&(u=p),(v=Math.ceil(v/p)*p)>s&&(v=s)),"scientific"===o&&0!==v){var y=l(Math.abs(v));y<c&&(m=Math.ceil(h-y))}return{initial:v,limit:s,spacing:u,roundTo:p,display:o,precision:m,logUnmap:!1}}e=s,t=n,r=a,i=!0,o=void 0}}}function s(e,t,r){return"scientific"===e?{value:r,label:r.toExponential(t)}:"fixed"===e?{value:r,label:r.toFixed(t)}:{value:r,label:r.toPrecision(t)}}function a(e){if(0===e.spacing)return[];var t=1e-7;e.spacing<10*t&&(t=e.spacing/10);for(var r=e.limit,i=0,n=[];;){var a=e.initial+i*e.spacing;if(a>=r+t)break;e.logUnmap&&(a=Math.pow(10,a)),0!==e.roundTo&&(a=e.roundTo*Math.round(a/e.roundTo)),n.push(s(e.display,e.precision,a)),++i}return n}var l=e("babel-runtime/core-js/math/log10").default;Object.defineProperty(r,"__esModule",{value:!0}),r.linear=i},{"babel-runtime/core-js/math/log10":76}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={linear:function(){function e(){n=(i[1]-i[0])/(r[1]-r[0]),s=i[0]-n*r[0]}function t(e){return n*e+s}var r=[0,1],i=[0,1],n=1,s=0;return t.invert=function(e){return(e-s)/n},t.domain=function(){var i=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===i?r:(r=i,e(),t)},t.range=function(){var r=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===r?i:(i=r,e(),t)},t}},t.exports=r.default},{}],71:[function(e,t,r){"use strict";var i=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(r,"__esModule",{value:!0});var n=e("./core/layer-time-context"),s=i(n),a=e("./core/layer"),l=i(a),o=e("./core/namespace"),u=i(o),c=e("./core/timeline-time-context"),h=i(c),f=e("./core/timeline"),d=i(f),p=e("./core/track-collection"),b=i(p),m=e("./core/track"),v=i(m),y=e("./shapes/annotated-marker"),g=i(y),x=e("./shapes/annotated-segment"),$=i(x),_=e("./shapes/base-shape"),k=i(_),w=e("./shapes/crosshairs"),j=i(w),S=e("./shapes/cursor"),P=i(S),M=e("./shapes/discrete-scale"),C=i(M),N=e("./shapes/dot"),O=i(N),E=e("./shapes/line"),A=i(E),T=e("./shapes/marker"),L=i(T),D=e("./shapes/matrix"),q=i(D),z=e("./shapes/scale"),I=i(z),R=e("./shapes/segment"),F=i(R),H=e("./shapes/ticks"),B=i(H),W=e("./shapes/trace-path"),U=i(W),X=e("./shapes/trace-dots"),K=i(X),G=e("./shapes/waveform"),Y=i(G),Z=e("./behaviors/base-behavior"),V=i(Z),J=e("./behaviors/breakpoint-behavior"),Q=i(J),ee=e("./behaviors/marker-behavior"),te=i(ee),re=e("./behaviors/segment-behavior"),ie=i(re),ne=e("./behaviors/time-context-behavior"),se=i(ne),ae=e("./behaviors/trace-behavior"),le=i(ae),oe=e("./interactions/event-source"),ue=i(oe),ce=e("./interactions/keyboard"),he=i(ce),fe=e("./interactions/surface"),de=i(fe),pe=e("./interactions/wave-event"),be=i(pe),me=e("./states/base-state"),ve=i(me),ye=e("./states/breakpoint-state"),ge=i(ye),xe=e("./states/brush-zoom-state"),$e=i(xe),_e=e("./states/centered-zoom-state"),ke=i(_e),we=e("./states/context-edition-state"),je=i(we),Se=e("./states/edition-state"),Pe=i(Se),Me=e("./states/selection-state"),Ce=i(Me),Ne=e("./states/simple-edition-state"),Oe=i(Ne),Ee=e("./helpers/annotated-marker-layer"),Ae=i(Ee),Te=e("./helpers/annotated-segment-layer"),Le=i(Te),De=e("./helpers/breakpoint-layer"),qe=i(De),ze=e("./helpers/cursor-layer"),Ie=i(ze),Re=e("./helpers/discrete-scale-layer"),Fe=i(Re),He=e("./helpers/grid-axis-layer"),Be=i(He),We=e("./helpers/highlight-layer"),Ue=i(We),Xe=e("./helpers/line-layer"),Ke=i(Xe),Ge=e("./helpers/marker-layer"),Ye=i(Ge),Ze=e("./helpers/matrix-layer"),Ve=i(Ze),Je=e("./helpers/pianoroll-layer"),Qe=i(Je),et=e("./helpers/scale-layer"),tt=i(et),rt=e("./helpers/segment-layer"),it=i(rt),nt=e("./helpers/tick-layer"),st=i(nt),at=e("./helpers/time-axis-layer"),lt=i(at),ot=e("./helpers/trace-layer"),ut=i(ot),ct=e("./helpers/waveform-layer"),ht=i(ct),ft=e("./axis/axis-layer"),dt=i(ft),pt=e("./axis/time-axis-generator"),bt=i(pt),mt=e("./axis/grid-axis-generator"),vt=i(mt),yt=e("./utils/format"),gt=i(yt),xt=e("./utils/matrix-entity"),$t=i(xt),_t=e("./utils/orthogonal-data"),kt=i(_t),wt=e("./utils/prefilled-matrix-entity"),jt=i(wt),St=e("./utils/scales"),Pt=i(St);r.default={core:{LayerTimeContext:s.default,Layer:l.default,namespace:u.default,TimelineTimeContext:h.default,Timeline:d.default,TrackCollection:b.default,Track:v.default},shapes:{AnnotatedMarker:g.default,AnnotatedSegment:$.default,BaseShape:k.default,Crosshairs:j.default,Cursor:P.default,DiscreteScale:C.default,Dot:O.default,Line:A.default,Marker:L.default,Matrix:q.default,Scale:I.default,Segment:F.default,Ticks:B.default,TracePath:U.default,TraceDots:K.default,Waveform:Y.default},behaviors:{BaseBehavior:V.default,BreakpointBehavior:Q.default,MarkerBehavior:te.default,SegmentBehavior:ie.default,TimeContextBehavior:se.default,TraceBehavior:le.default},interactions:{EventSource:ue.default,Keyboard:he.default,Surface:de.default,WaveEvent:be.default},states:{BaseState:ve.default,BreakpointState:ge.default,BrushZoomState:$e.default,CenteredZoomState:ke.default,ContextEditionState:je.default,EditionState:Pe.default,SelectionState:Ce.default,SimpleEditionState:Oe.default},helpers:{AnnotatedMarkerLayer:Ae.default,AnnotatedSegmentLayer:Le.default,BreakpointLayer:qe.default,CursorLayer:Ie.default,DiscreteScaleLayer:Fe.default,GridAxisLayer:Be.default,HighlightLayer:Ue.default,LineLayer:Ke.default,MarkerLayer:Ye.default,MatrixLayer:Ve.default,PianoRollLayer:Qe.default,ScaleLayer:tt.default,SegmentLayer:it.default,TickLayer:st.default,TimeAxisLayer:lt.default,TraceLayer:ut.default,WaveformLayer:ht.default},axis:{AxisLayer:dt.default,timeAxisGenerator:bt.default,gridAxisGenerator:vt.default},utils:{format:gt.default,MatrixEntity:$t.default,OrthogonalData:kt.default,PrefilledMatrixEntity:jt.default,scales:Pt.default}},t.exports=r.default},{"./axis/axis-layer":1,"./axis/grid-axis-generator":2,"./axis/time-axis-generator":3,"./behaviors/base-behavior":4,"./behaviors/breakpoint-behavior":5,"./behaviors/marker-behavior":6,"./behaviors/segment-behavior":7,"./behaviors/time-context-behavior":8,"./behaviors/trace-behavior":9,"./core/layer":11,"./core/layer-time-context":10,"./core/namespace":12,"./core/timeline":14,"./core/timeline-time-context":13,"./core/track":16,"./core/track-collection":15,"./helpers/annotated-marker-layer":17,"./helpers/annotated-segment-layer":18,"./helpers/breakpoint-layer":19,"./helpers/cursor-layer":20,"./helpers/discrete-scale-layer":21,"./helpers/grid-axis-layer":22,"./helpers/highlight-layer":23,"./helpers/line-layer":24,"./helpers/marker-layer":25,"./helpers/matrix-layer":26,"./helpers/pianoroll-layer":27,"./helpers/scale-layer":28,"./helpers/segment-layer":29,"./helpers/tick-layer":30,"./helpers/time-axis-layer":31,"./helpers/trace-layer":32,"./helpers/waveform-layer":33,"./interactions/event-source":34,"./interactions/keyboard":35,"./interactions/surface":36,"./interactions/wave-event":37,"./shapes/annotated-marker":38,"./shapes/annotated-segment":39,"./shapes/base-shape":40,"./shapes/crosshairs":41,"./shapes/cursor":42,"./shapes/discrete-scale":43,"./shapes/dot":44,"./shapes/line":45,"./shapes/marker":46,"./shapes/matrix":47,"./shapes/scale":48,"./shapes/segment":49,"./shapes/ticks":50,"./shapes/trace-dots":51,"./shapes/trace-path":52,"./shapes/waveform":53,"./states/base-state":54,"./states/breakpoint-state":55,"./states/brush-zoom-state":56,"./states/centered-zoom-state":57,"./states/context-edition-state":58,"./states/edition-state":59,"./states/selection-state":60,"./states/simple-edition-state":61,"./utils/format":63,"./utils/matrix-entity":64,"./utils/orthogonal-data":65,"./utils/prefilled-matrix-entity":68,"./utils/scales":70,"babel-runtime/helpers/interop-require-default":91}],72:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":96}],73:[function(e,t,r){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":97}],74:[function(e,t,r){t.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":98}],75:[function(e,t,r){t.exports={default:e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":99}],76:[function(e,t,r){t.exports={default:e("core-js/library/fn/math/log10"),__esModule:!0}},{"core-js/library/fn/math/log10":100}],77:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":101}],78:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":102}],79:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":103}],80:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":104}],81:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":105}],82:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":106}],83:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":107}],84:[function(e,t,r){t.exports={default:e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":108}],85:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":109}],86:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":110}],87:[function(e,t,r){"use strict";r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],88:[function(e,t,r){"use strict";var i=e("babel-runtime/core-js/object/define-property").default;r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),i(e,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":79}],89:[function(e,t,r){"use strict";var i=e("babel-runtime/core-js/object/get-own-property-descriptor").default;r.default=function(e,t,r){for(var n=!0;n;){var s=e,a=t,l=r;n=!1,null===s&&(s=Function.prototype);var o=i(s,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(l)}var c=Object.getPrototypeOf(s);if(null===c)return;e=c,t=a,r=l,n=!0,o=c=void 0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":80}],90:[function(e,t,r){"use strict";var i=e("babel-runtime/core-js/object/create").default,n=e("babel-runtime/core-js/object/set-prototype-of").default;r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=i(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n?n(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":78,"babel-runtime/core-js/object/set-prototype-of":82}],91:[function(e,t,r){"use strict";r.default=function(e){return e&&e.__esModule?e:{default:e}},r.__esModule=!0},{}],92:[function(e,t,r){"use strict";var i=e("babel-runtime/core-js/get-iterator").default,n=e("babel-runtime/core-js/is-iterable").default;r.default=function(){function e(e,t){var r=[],n=!0,s=!1,a=void 0;try{for(var l,o=i(e);!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(n(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.__esModule=!0},{"babel-runtime/core-js/get-iterator":73,"babel-runtime/core-js/is-iterable":74}],93:[function(e,t,r){"use strict";var i=e("babel-runtime/core-js/array/from").default;r.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return i(e)},r.__esModule=!0},{"babel-runtime/core-js/array/from":72}],94:[function(e,t,r){(function(r){var i="object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:this,n=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,s=n&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=e("./runtime"),n)i.regeneratorRuntime=s;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}t.exports={default:t.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":95}],95:[function(e,t,r){(function(r,i){"use strict";var n=e("babel-runtime/core-js/symbol").default,s=e("babel-runtime/core-js/object/create").default,a=e("babel-runtime/core-js/object/set-prototype-of").default,l=e("babel-runtime/core-js/promise").default;!function(e){function i(e,t,r,i){var n=s((t||u).prototype),a=new y(i||[]);return n._invoke=b(e,r,a),n}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function u(){}function c(){}function h(){}function f(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){this.arg=e}function p(e){function t(r,i,n,s){var a=o(e[r],e,i);if("throw"!==a.type){var u=a.arg,c=u.value;return c instanceof d?l.resolve(c.arg).then(function(e){t("next",e,n,s)},function(e){t("throw",e,n,s)}):l.resolve(c).then(function(e){u.value=e,n(u)},s)}s(a.arg)}function i(e,r){function i(){return new l(function(i,n){t(e,r,i,n)})}return n=n?n.then(i,i):i()}"object"==typeof r&&r.domain&&(t=r.domain.bind(t));var n;this._invoke=i}function b(e,t,r){var i=M;return function(n,s){if(i===N)throw new Error("Generator is already running");if(i===O){if("throw"===n)throw s;return x()}for(;;){var a=r.delegate;if(a){if("return"===n||"throw"===n&&a.iterator[n]===$){r.delegate=null;var l=a.iterator.return;if(l){var u=o(l,a.iterator,s);if("throw"===u.type){n="throw",s=u.arg;continue}}if("return"===n)continue}var u=o(a.iterator[n],a.iterator,s);if("throw"===u.type){r.delegate=null,n="throw",s=u.arg;continue}n="next",s=$;var c=u.arg;if(!c.done)return i=C,c;r[a.resultName]=c.value,r.next=a.nextLoc,r.delegate=null}if("next"===n)r.sent=i===C?s:$;else if("throw"===n){if(i===M)throw i=O,s;r.dispatchException(s)&&(n="next",s=$)}else"return"===n&&r.abrupt("return",s);i=N;var u=o(e,t,r);if("normal"===u.type){i=r.done?O:C;var c={value:u.arg,done:r.done};if(u.arg!==E)return c;r.delegate&&"next"===n&&(s=$)}else"throw"===u.type&&(i=O,n="throw",s=u.arg)}}}function m(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(m,this),this.reset(!0)}function g(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(_.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=$,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:$,done:!0}}var $,_=Object.prototype.hasOwnProperty,k="function"==typeof n?n:{},w=k.iterator||"@@iterator",j=k.toStringTag||"@@toStringTag",S="object"==typeof t,P=e.regeneratorRuntime;if(P)return void(S&&(t.exports=P));P=e.regeneratorRuntime=S?t.exports:{},P.wrap=i;var M="suspendedStart",C="suspendedYield",N="executing",O="completed",E={},A=h.prototype=u.prototype;c.prototype=A.constructor=h,h.constructor=c,h[j]=c.displayName="GeneratorFunction",P.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===c||"GeneratorFunction"===(t.displayName||t.name))},P.mark=function(e){return a?a(e,h):(e.__proto__=h,j in e||(e[j]="GeneratorFunction")),e.prototype=s(A),e},P.awrap=function(e){return new d(e)},f(p.prototype),P.async=function(e,t,r,n){var s=new p(i(e,t,r,n));return P.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},f(A),A[w]=function(){return this},A[j]="Generator",A.toString=function(){return"[object Generator]"},P.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},P.values=g,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=$,this.done=!1,this.delegate=null,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=$)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return s.type="throw",s.arg=e,r.next=t,!!i}if(this.done)throw e
;for(var r=this,i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],s=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var a=_.call(n,"catchLoc"),l=_.call(n,"finallyLoc");if(a&&l){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&_.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?this.next=n.finallyLoc:this.complete(s),E},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),v(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;v(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:g(e),resultName:t,nextLoc:r},E}}}("object"==typeof i?i:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:188,"babel-runtime/core-js/object/create":78,"babel-runtime/core-js/object/set-prototype-of":82,"babel-runtime/core-js/promise":83,"babel-runtime/core-js/symbol":85}],96:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":119,"../../modules/es6.array.from":171,"../../modules/es6.string.iterator":182}],97:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":169,"../modules/es6.string.iterator":182,"../modules/web.dom.iterable":186}],98:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":170,"../modules/es6.string.iterator":182,"../modules/web.dom.iterable":186}],99:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":119,"../modules/es6.map":173,"../modules/es6.object.to-string":179,"../modules/es6.string.iterator":182,"../modules/es7.map.to-json":184,"../modules/web.dom.iterable":186}],100:[function(e,t,r){e("../../modules/es6.math.log10"),t.exports=e("../../modules/$.core").Math.log10},{"../../modules/$.core":119,"../../modules/es6.math.log10":174}],101:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":119,"../../modules/es6.object.assign":175}],102:[function(e,t,r){var i=e("../../modules/$");t.exports=function(e,t){return i.create(e,t)}},{"../../modules/$":144}],103:[function(e,t,r){var i=e("../../modules/$");t.exports=function(e,t,r){return i.setDesc(e,t,r)}},{"../../modules/$":144}],104:[function(e,t,r){var i=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return i.getDesc(e,t)}},{"../../modules/$":144,"../../modules/es6.object.get-own-property-descriptor":176}],105:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":119,"../../modules/es6.object.keys":177}],106:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":119,"../../modules/es6.object.set-prototype-of":178}],107:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":119,"../modules/es6.object.to-string":179,"../modules/es6.promise":180,"../modules/es6.string.iterator":182,"../modules/web.dom.iterable":186}],108:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":119,"../modules/es6.object.to-string":179,"../modules/es6.set":181,"../modules/es6.string.iterator":182,"../modules/es7.set.to-json":185,"../modules/web.dom.iterable":186}],109:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":119,"../../modules/es6.object.to-string":179,"../../modules/es6.symbol":183}],110:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/$.wks")("iterator")},{"../../modules/$.wks":167,"../../modules/es6.string.iterator":182,"../../modules/web.dom.iterable":186}],111:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],112:[function(e,t,r){t.exports=function(){}},{}],113:[function(e,t,r){var i=e("./$.is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":137}],114:[function(e,t,r){var i=e("./$.cof"),n=e("./$.wks")("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[n])?r:s?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":115,"./$.wks":167}],115:[function(e,t,r){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],116:[function(e,t,r){"use strict";var i=e("./$"),n=e("./$.hide"),s=e("./$.redefine-all"),a=e("./$.ctx"),l=e("./$.strict-new"),o=e("./$.defined"),u=e("./$.for-of"),c=e("./$.iter-define"),h=e("./$.iter-step"),f=e("./$.uid")("id"),d=e("./$.has"),p=e("./$.is-object"),b=e("./$.set-species"),m=e("./$.descriptors"),v=Object.isExtensible||p,y=m?"_s":"size",g=0,x=function(e,t){if(!p(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!d(e,f)){if(!v(e))return"F";if(!t)return"E";n(e,f,++g)}return"O"+e[f]},$=function(e,t){var r,i=x(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,n){var c=e(function(e,s){l(e,c,t),e._i=i.create(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=s&&u(s,r,e[n],e)});return s(c.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var t=this,r=$(t,e);if(r){var i=r.n,n=r.p;delete t._i[r.i],r.r=!0,n&&(n.n=i),i&&(i.p=n),t._f==r&&(t._f=i),t._l==r&&(t._l=n),t[y]--}return!!r},forEach:function(e){for(var t,r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!$(this,e)}}),m&&i.setDesc(c.prototype,"size",{get:function(){return o(this[y])}}),c},def:function(e,t,r){var i,n,s=$(e,t);return s?s.v=r:(e._l=s={i:n=x(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=s),i&&(i.n=s),e[y]++,"F"!==n&&(e._i[n]=s)),e},getEntry:$,setStrong:function(e,t,r){c(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?h(0,r.k):"values"==t?h(0,r.v):h(0,[r.k,r.v]):(e._t=void 0,h(1))},r?"entries":"values",!r,!0),b(t)}}},{"./$":144,"./$.ctx":120,"./$.defined":121,"./$.descriptors":122,"./$.for-of":127,"./$.has":130,"./$.hide":131,"./$.is-object":137,"./$.iter-define":140,"./$.iter-step":142,"./$.redefine-all":151,"./$.set-species":155,"./$.strict-new":159,"./$.uid":166}],117:[function(e,t,r){var i=e("./$.for-of"),n=e("./$.classof");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return i(this,!1,t.push,t),t}}},{"./$.classof":114,"./$.for-of":127}],118:[function(e,t,r){"use strict";var i=e("./$"),n=e("./$.global"),s=e("./$.export"),a=e("./$.fails"),l=e("./$.hide"),o=e("./$.redefine-all"),u=e("./$.for-of"),c=e("./$.strict-new"),h=e("./$.is-object"),f=e("./$.set-to-string-tag"),d=e("./$.descriptors");t.exports=function(e,t,r,p,b,m){var v=n[e],y=v,g=b?"set":"add",x=y&&y.prototype,$={};return d&&"function"==typeof y&&(m||x.forEach&&!a(function(){(new y).entries().next()}))?(y=t(function(t,r){c(t,y,e),t._c=new v,void 0!=r&&u(r,b,t[g],t)}),i.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!m||"clear"!=e)&&l(y.prototype,e,function(r,i){if(!t&&m&&!h(r))return"get"==e&&void 0;var n=this._c[e](0===r?0:r,i);return t?this:n})}),"size"in x&&i.setDesc(y.prototype,"size",{get:function(){return this._c.size}})):(y=p.getConstructor(t,e,b,g),o(y.prototype,r)),f(y,e),$[e]=y,s(s.G+s.W+s.F,$),m||p.setStrong(y,e,b),y}},{"./$":144,"./$.descriptors":122,"./$.export":125,"./$.fails":126,"./$.for-of":127,"./$.global":129,"./$.hide":131,"./$.is-object":137,"./$.redefine-all":151,"./$.set-to-string-tag":156,"./$.strict-new":159}],119:[function(e,t,r){var i=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},{}],120:[function(e,t,r){var i=e("./$.a-function");t.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":111}],121:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],122:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":126}],123:[function(e,t,r){var i=e("./$.is-object"),n=e("./$.global").document,s=i(n)&&i(n.createElement);t.exports=function(e){return s?n.createElement(e):{}}},{"./$.global":129,"./$.is-object":137}],124:[function(e,t,r){var i=e("./$");t.exports=function(e){var t=i.getKeys(e),r=i.getSymbols;if(r)for(var n,s=r(e),a=i.isEnum,l=0;s.length>l;)a.call(e,n=s[l++])&&t.push(n);return t}},{"./$":144}],125:[function(e,t,r){var i=e("./$.global"),n=e("./$.core"),s=e("./$.ctx"),a=function(e,t,r){var l,o,u,c=e&a.F,h=e&a.G,f=e&a.S,d=e&a.P,p=e&a.B,b=e&a.W,m=h?n:n[t]||(n[t]={}),v=h?i:f?i[t]:(i[t]||{}).prototype;h&&(r=t);for(l in r)(o=!c&&v&&l in v)&&l in m||(u=o?v[l]:r[l],m[l]=h&&"function"!=typeof v[l]?r[l]:p&&o?s(u,i):b&&v[l]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(u):d&&"function"==typeof u?s(Function.call,u):u,d&&((m.prototype||(m.prototype={}))[l]=u))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},{"./$.core":119,"./$.ctx":120,"./$.global":129}],126:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],127:[function(e,t,r){var i=e("./$.ctx"),n=e("./$.iter-call"),s=e("./$.is-array-iter"),a=e("./$.an-object"),l=e("./$.to-length"),o=e("./core.get-iterator-method");t.exports=function(e,t,r,u){var c,h,f,d=o(e),p=i(r,u,t?2:1),b=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(s(d))for(c=l(e.length);c>b;b++)t?p(a(h=e[b])[0],h[1]):p(e[b]);else for(f=d.call(e);!(h=f.next()).done;)n(f,p,h.value,t)}},{"./$.an-object":113,"./$.ctx":120,"./$.is-array-iter":135,"./$.iter-call":138,"./$.to-length":164,"./core.get-iterator-method":168}],128:[function(e,t,r){var i=e("./$.to-iobject"),n=e("./$").getNames,s={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return n(e)}catch(e){return a.slice()}};t.exports.get=function(e){return a&&"[object Window]"==s.call(e)?l(e):n(i(e))}},{"./$":144,"./$.to-iobject":163}],129:[function(e,t,r){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],130:[function(e,t,r){var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}},{}],131:[function(e,t,r){var i=e("./$"),n=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return i.setDesc(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":144,"./$.descriptors":122,"./$.property-desc":150}],132:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":129}],133:[function(e,t,r){t.exports=function(e,t,r){var i=void 0===r;switch(t.length){case 0:return i?e():e.call(r);case 1:return i?e(t[0]):e.call(r,t[0]);case 2:return i?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],134:[function(e,t,r){var i=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},{"./$.cof":115}],135:[function(e,t,r){var i=e("./$.iterators"),n=e("./$.wks")("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||s[n]===e)}},{"./$.iterators":143,"./$.wks":167}],136:[function(e,t,r){var i=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==i(e)}},{"./$.cof":115}],137:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],138:[function(e,t,r){var i=e("./$.an-object");t.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&i(s.call(e)),t}}},{"./$.an-object":113}],139:[function(e,t,r){"use strict";var i=e("./$"),n=e("./$.property-desc"),s=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=i.create(a,{next:n(1,r)}),s(e,t+" Iterator")}},{"./$":144,"./$.hide":131,"./$.property-desc":150,"./$.set-to-string-tag":156,"./$.wks":167}],140:[function(e,t,r){"use strict";var i=e("./$.library"),n=e("./$.export"),s=e("./$.redefine"),a=e("./$.hide"),l=e("./$.has"),o=e("./$.iterators"),u=e("./$.iter-create"),c=e("./$.set-to-string-tag"),h=e("./$").getProto,f=e("./$.wks")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,r,b,m,v,y){u(r,t,b);var g,x,$=function(e){if(!d&&e in j)return j[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},_=t+" Iterator",k="values"==m,w=!1,j=e.prototype,S=j[f]||j["@@iterator"]||m&&j[m],P=S||$(m);if(S){var M=h(P.call(new e));c(M,_,!0),!i&&l(j,"@@iterator")&&a(M,f,p),k&&"values"!==S.name&&(w=!0,P=function(){return S.call(this)})}if(i&&!y||!d&&!w&&j[f]||a(j,f,P),o[t]=P,o[_]=p,m)if(g={values:k?P:$("values"),keys:v?P:$("keys"),entries:k?$("entries"):P},y)for(x in g)x in j||s(j,x,g[x]);else n(n.P+n.F*(d||w),t,g);return g}},{"./$":144,"./$.export":125,"./$.has":130,"./$.hide":131,"./$.iter-create":139,"./$.iterators":143,"./$.library":146,"./$.redefine":152,"./$.set-to-string-tag":156,"./$.wks":167}],141:[function(e,t,r){var i=e("./$.wks")("iterator"),n=!1;try{var s=[7][i]();s.return=function(){n=!0},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var s=[7],a=s[i]();a.next=function(){return{done:r=!0}},s[i]=function(){return a},e(s)}catch(e){}return r}},{"./$.wks":167}],142:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],143:[function(e,t,r){t.exports={}},{}],144:[function(e,t,r){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},{}],145:[function(e,t,r){var i=e("./$"),n=e("./$.to-iobject");t.exports=function(e,t){for(var r,s=n(e),a=i.getKeys(s),l=a.length,o=0;l>o;)if(s[r=a[o++]]===t)return r}},{"./$":144,"./$.to-iobject":163}],146:[function(e,t,r){t.exports=!0},{}],147:[function(e,t,r){var i,n,s,a=e("./$.global"),l=e("./$.task").set,o=a.MutationObserver||a.WebKitMutationObserver,u=a.process,c=a.Promise,h="process"==e("./$.cof")(u),f=function(){var e,t,r;for(h&&(e=u.domain)&&(u.domain=null,e.exit());i;)t=i.domain,r=i.fn,t&&t.enter(),r(),t&&t.exit(),i=i.next;n=void 0,e&&e.enter()};if(h)s=function(){u.nextTick(f)};else if(o){var d=1,p=document.createTextNode("");new o(f).observe(p,{characterData:!0}),s=function(){p.data=d=-d}}else s=c&&c.resolve?function(){c.resolve().then(f)}:function(){l.call(a,f)};t.exports=function(e){var t={fn:e,next:void 0,domain:h&&u.domain};n&&(n.next=t),i||(i=t,s()),n=t}},{"./$.cof":115,"./$.global":129,"./$.task":161}],148:[function(e,t,r){var i=e("./$"),n=e("./$.to-object"),s=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},r={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(e){r[e]=e}),7!=e({},t)[i]||Object.keys(e({},r)).join("")!=n})?function(e,t){for(var r=n(e),a=arguments,l=a.length,o=1,u=i.getKeys,c=i.getSymbols,h=i.isEnum;l>o;)for(var f,d=s(a[o++]),p=c?u(d).concat(c(d)):u(d),b=p.length,m=0;b>m;)h.call(d,f=p[m++])&&(r[f]=d[f]);return r}:Object.assign},{"./$":144,"./$.fails":126,"./$.iobject":134,"./$.to-object":165}],149:[function(e,t,r){var i=e("./$.export"),n=e("./$.core"),s=e("./$.fails");t.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],a={};a[e]=t(r),i(i.S+i.F*s(function(){r(1)}),"Object",a)}},{"./$.core":119,"./$.export":125,"./$.fails":126}],150:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],151:[function(e,t,r){var i=e("./$.redefine");t.exports=function(e,t){for(var r in t)i(e,r,t[r]);return e}},{"./$.redefine":152}],152:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":131}],153:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],154:[function(e,t,r){var i=e("./$").getDesc,n=e("./$.is-object"),s=e("./$.an-object"),a=function(e,t){if(s(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{n=e("./$.ctx")(Function.call,i(Object.prototype,"__proto__").set,2),n(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:a}},{"./$":144,"./$.an-object":113,"./$.ctx":120,"./$.is-object":137}],155:[function(e,t,r){"use strict";var i=e("./$.core"),n=e("./$"),s=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=i[e];s&&t&&!t[a]&&n.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":144,"./$.core":119,"./$.descriptors":122,"./$.wks":167}],156:[function(e,t,r){var i=e("./$").setDesc,n=e("./$.has"),s=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},{"./$":144,"./$.has":130,"./$.wks":167}],157:[function(e,t,r){var i=e("./$.global"),n=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(e){return n[e]||(n[e]={})}},{"./$.global":129}],158:[function(e,t,r){var i=e("./$.an-object"),n=e("./$.a-function"),s=e("./$.wks")("species");t.exports=function(e,t){var r,a=i(e).constructor;return void 0===a||void 0==(r=i(a)[s])?t:n(r)}},{"./$.a-function":111,"./$.an-object":113,"./$.wks":167}],159:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],160:[function(e,t,r){var i=e("./$.to-integer"),n=e("./$.defined");t.exports=function(e){return function(t,r){var s,a,l=String(n(t)),o=i(r),u=l.length;return o<0||o>=u?e?"":void 0:(s=l.charCodeAt(o),s<55296||s>56319||o+1===u||(a=l.charCodeAt(o+1))<56320||a>57343?e?l.charAt(o):s:e?l.slice(o,o+2):a-56320+(s-55296<<10)+65536)}}},{"./$.defined":121,"./$.to-integer":162}],161:[function(e,t,r){var i,n,s,a=e("./$.ctx"),l=e("./$.invoke"),o=e("./$.html"),u=e("./$.dom-create"),c=e("./$.global"),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,b=0,m={},v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){v.call(e.data)};f&&d||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++b]=function(){l("function"==typeof e?e:Function(e),t)},i(b),b},d=function(e){delete m[e]},"process"==e("./$.cof")(h)?i=function(e){h.nextTick(a(v,e,1))}:p?(n=new p,s=n.port2,n.port1.onmessage=y,i=a(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):i="onreadystatechange"in u("script")?function(e){o.appendChild(u("script")).onreadystatechange=function(){o.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),t.exports={set:f,clear:d}},{"./$.cof":115,"./$.ctx":120,"./$.dom-create":123,"./$.global":129,"./$.html":132,"./$.invoke":133}],162:[function(e,t,r){var i=Math.ceil,n=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},{}],163:[function(e,t,r){var i=e("./$.iobject"),n=e("./$.defined");t.exports=function(e){return i(n(e))}},{"./$.defined":121,"./$.iobject":134}],164:[function(e,t,r){var i=e("./$.to-integer"),n=Math.min;t.exports=function(e){return e>0?n(i(e),9007199254740991):0}},{"./$.to-integer":162}],165:[function(e,t,r){var i=e("./$.defined");t.exports=function(e){return Object(i(e))}},{"./$.defined":121}],166:[function(e,t,r){var i=0,n=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},{}],167:[function(e,t,r){var i=e("./$.shared")("wks"),n=e("./$.uid"),s=e("./$.global").Symbol;t.exports=function(e){return i[e]||(i[e]=s&&s[e]||(s||n)("Symbol."+e))}},{"./$.global":129,"./$.shared":157,"./$.uid":166}],168:[function(e,t,r){var i=e("./$.classof"),n=e("./$.wks")("iterator"),s=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||s[i(e)]}},{"./$.classof":114,"./$.core":119,"./$.iterators":143,"./$.wks":167}],169:[function(e,t,r){var i=e("./$.an-object"),n=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},{"./$.an-object":113,"./$.core":119,"./core.get-iterator-method":168}],170:[function(e,t,r){var i=e("./$.classof"),n=e("./$.wks")("iterator"),s=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||s.hasOwnProperty(i(t))}},{"./$.classof":114,"./$.core":119,"./$.iterators":143,"./$.wks":167}],171:[function(e,t,r){"use strict";var i=e("./$.ctx"),n=e("./$.export"),s=e("./$.to-object"),a=e("./$.iter-call"),l=e("./$.is-array-iter"),o=e("./$.to-length"),u=e("./core.get-iterator-method");n(n.S+n.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,c,h=s(e),f="function"==typeof this?this:Array,d=arguments,p=d.length,b=p>1?d[1]:void 0,m=void 0!==b,v=0,y=u(h);if(m&&(b=i(b,p>2?d[2]:void 0,2)),void 0==y||f==Array&&l(y))for(t=o(h.length),r=new f(t);t>v;v++)r[v]=m?b(h[v],v):h[v];else for(c=y.call(h),r=new f;!(n=c.next()).done;v++)r[v]=m?a(c,b,[n.value,v],!0):n.value;return r.length=v,r}})},{"./$.ctx":120,"./$.export":125,"./$.is-array-iter":135,"./$.iter-call":138,"./$.iter-detect":141,"./$.to-length":164,"./$.to-object":165,"./core.get-iterator-method":168}],172:[function(e,t,r){"use strict";var i=e("./$.add-to-unscopables"),n=e("./$.iter-step"),s=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},{"./$.add-to-unscopables":112,"./$.iter-define":140,"./$.iter-step":142,"./$.iterators":143,"./$.to-iobject":163}],173:[function(e,t,r){"use strict";var i=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(this,e);return t&&t.v},set:function(e,t){return i.def(this,0===e?0:e,t)}},i,!0)},{"./$.collection":118,"./$.collection-strong":116}],174:[function(e,t,r){var i=e("./$.export");i(i.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{"./$.export":125}],175:[function(e,t,r){var i=e("./$.export");i(i.S+i.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":125,"./$.object-assign":148}],176:[function(e,t,r){var i=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(i(t),r)}})},{"./$.object-sap":149,"./$.to-iobject":163}],177:[function(e,t,r){var i=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(i(t))}})},{"./$.object-sap":149,"./$.to-object":165}],178:[function(e,t,r){var i=e("./$.export");i(i.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":125,"./$.set-proto":154}],179:[function(e,t,r){},{}],180:[function(e,t,r){"use strict";var i,n=e("./$"),s=e("./$.library"),a=e("./$.global"),l=e("./$.ctx"),o=e("./$.classof"),u=e("./$.export"),c=e("./$.is-object"),h=e("./$.an-object"),f=e("./$.a-function"),d=e("./$.strict-new"),p=e("./$.for-of"),b=e("./$.set-proto").set,m=e("./$.same-value"),v=e("./$.wks")("species"),y=e("./$.species-constructor"),g=e("./$.microtask"),x=a.process,$="process"==o(x),_=a.Promise,k=function(){},w=function(e){var t,r=new _(k);return e&&(r.constructor=function(e){e(k,k)}),(t=_.resolve(r)).catch(k),t===r},j=function(){function t(e){var r=new _(e);return b(r,t.prototype),r}var r=!1;try{if(r=_&&_.resolve&&w(),b(t,_),t.prototype=n.create(_.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.descriptors")){var i=!1;_.resolve(n.setDesc({},"then",{get:function(){i=!0}})),r=i}}catch(e){r=!1}return r}(),S=function(e,t){return!(!s||e!==_||t!==i)||m(e,t)},P=function(e){var t=h(e)[v];return void 0!=t?t:e},M=function(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t},C=function(e){var t,r;this.promise=new e(function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i}),this.resolve=f(t),this.reject=f(r)},N=function(e){try{e()}catch(e){return{error:e}}},O=function(e,t){if(!e.n){e.n=!0;var r=e.c;g(function(){for(var i=e.v,n=1==e.s,s=0;r.length>s;)!function(t){var r,s,a=n?t.ok:t.fail,l=t.resolve,o=t.reject;try{a?(n||(e.h=!0),r=!0===a?i:a(i),r===t.promise?o(TypeError("Promise-chain cycle")):(s=M(r))?s.call(r,l,o):l(r)):o(i)}catch(e){o(e)}}(r[s++]);r.length=0,e.n=!1,t&&setTimeout(function(){var t,r,n=e.p;E(n)&&($?x.emit("unhandledRejection",i,n):(t=a.onunhandledrejection)?t({promise:n,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)),e.a=void 0},1)})}},E=function(e){var t,r=e._d,i=r.a||r.c,n=0;if(r.h)return!1;for(;i.length>n;)if(t=i[n++],t.fail||!E(t.promise))return!1;return!0},A=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),O(t,!0))},T=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=M(e))?g(function(){var i={r:r,d:!1};try{t.call(e,l(T,i,1),l(A,i,1))}catch(e){A.call(i,e)}}):(r.v=e,r.s=1,O(r,!1))}catch(e){A.call({r:r,d:!1},e)}}};j||(_=function(e){f(e);var t=this._d={p:d(this,_,"Promise"),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(l(T,t,1),l(A,t,1))}catch(e){A.call(t,e)}},e("./$.redefine-all")(_.prototype,{then:function(e,t){var r=new C(y(this,_)),i=r.promise,n=this._d;return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,n.c.push(r),n.a&&n.a.push(r),n.s&&O(n,!1),i},catch:function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!j,{Promise:_}),e("./$.set-to-string-tag")(_,"Promise"),e("./$.set-species")("Promise"),i=e("./$.core").Promise,u(u.S+u.F*!j,"Promise",{reject:function(e){var t=new C(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(!j||w(!0)),"Promise",{resolve:function(e){if(e instanceof _&&S(e.constructor,this))return e;var t=new C(this);return(0,t.resolve)(e),t.promise}}),u(u.S+u.F*!(j&&e("./$.iter-detect")(function(e){_.all(e).catch(function(){})})),"Promise",{all:function(e){var t=P(this),r=new C(t),i=r.resolve,s=r.reject,a=[],l=N(function(){p(e,!1,a.push,a);var r=a.length,l=Array(r);r?n.each.call(a,function(e,n){var a=!1;t.resolve(e).then(function(e){a||(a=!0,l[n]=e,--r||i(l))},s)}):i(l)});return l&&s(l.error),r.promise},race:function(e){var t=P(this),r=new C(t),i=r.reject,n=N(function(){p(e,!1,function(e){t.resolve(e).then(r.resolve,i)})});return n&&i(n.error),r.promise}})},{"./$":144,"./$.a-function":111,"./$.an-object":113,"./$.classof":114,"./$.core":119,"./$.ctx":120,"./$.descriptors":122,"./$.export":125,"./$.for-of":127,"./$.global":129,"./$.is-object":137,"./$.iter-detect":141,"./$.library":146,"./$.microtask":147,"./$.redefine-all":151,"./$.same-value":153,"./$.set-proto":154,"./$.set-species":155,"./$.set-to-string-tag":156,"./$.species-constructor":158,"./$.strict-new":159,"./$.wks":167}],181:[function(e,t,r){"use strict";var i=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(this,e=0===e?0:e,e)}},i)},{"./$.collection":118,"./$.collection-strong":116}],182:[function(e,t,r){"use strict";var i=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=i(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":140,"./$.string-at":160}],183:[function(e,t,r){"use strict";var i=e("./$"),n=e("./$.global"),s=e("./$.has"),a=e("./$.descriptors"),l=e("./$.export"),o=e("./$.redefine"),u=e("./$.fails"),c=e("./$.shared"),h=e("./$.set-to-string-tag"),f=e("./$.uid"),d=e("./$.wks"),p=e("./$.keyof"),b=e("./$.get-names"),m=e("./$.enum-keys"),v=e("./$.is-array"),y=e("./$.an-object"),g=e("./$.to-iobject"),x=e("./$.property-desc"),$=i.getDesc,_=i.setDesc,k=i.create,w=b.get,j=n.Symbol,S=n.JSON,P=S&&S.stringify,M=!1,C=d("_hidden"),N=i.isEnum,O=c("symbol-registry"),E=c("symbols"),A="function"==typeof j,T=Object.prototype,L=a&&u(function(){return 7!=k(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(e,t,r){var i=$(T,t);i&&delete T[t],_(e,t,r),i&&e!==T&&_(T,t,i)}:_,D=function(e){var t=E[e]=k(j.prototype);return t._k=e,a&&M&&L(T,e,{configurable:!0,set:function(t){s(this,C)&&s(this[C],e)&&(this[C][e]=!1),L(this,e,x(1,t))}}),t},q=function(e){return"symbol"==typeof e},z=function(e,t,r){return r&&s(E,t)?(r.enumerable?(s(e,C)&&e[C][t]&&(e[C][t]=!1),r=k(r,{enumerable:x(0,!1)})):(s(e,C)||_(e,C,x(1,{})),e[C][t]=!0),L(e,t,r)):_(e,t,r)},I=function(e,t){y(e);for(var r,i=m(t=g(t)),n=0,s=i.length;s>n;)z(e,r=i[n++],t[r]);return e},R=function(e,t){return void 0===t?k(e):I(k(e),t)},F=function(e){var t=N.call(this,e);return!(t||!s(this,e)||!s(E,e)||s(this,C)&&this[C][e])||t},H=function(e,t){var r=$(e=g(e),t);return!r||!s(E,t)||s(e,C)&&e[C][t]||(r.enumerable=!0),r},B=function(e){for(var t,r=w(g(e)),i=[],n=0;r.length>n;)s(E,t=r[n++])||t==C||i.push(t);return i},W=function(e){for(var t,r=w(g(e)),i=[],n=0;r.length>n;)s(E,t=r[n++])&&i.push(E[t]);return i},U=function(e){if(void 0!==e&&!q(e)){
for(var t,r,i=[e],n=1,s=arguments;s.length>n;)i.push(s[n++]);return t=i[1],"function"==typeof t&&(r=t),!r&&v(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!q(t))return t}),i[1]=t,P.apply(S,i)}},X=u(function(){var e=j();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))});A||(j=function(){if(q(this))throw TypeError("Symbol is not a constructor");return D(f(arguments.length>0?arguments[0]:void 0))},o(j.prototype,"toString",function(){return this._k}),q=function(e){return e instanceof j},i.create=R,i.isEnum=F,i.getDesc=H,i.setDesc=z,i.setDescs=I,i.getNames=b.get=B,i.getSymbols=W,a&&!e("./$.library")&&o(T,"propertyIsEnumerable",F,!0));var K={for:function(e){return s(O,e+="")?O[e]:O[e]=j(e)},keyFor:function(e){return p(O,e)},useSetter:function(){M=!0},useSimple:function(){M=!1}};i.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=d(e);K[e]=A?t:D(t)}),M=!0,l(l.G+l.W,{Symbol:j}),l(l.S,"Symbol",K),l(l.S+l.F*!A,"Object",{create:R,defineProperty:z,defineProperties:I,getOwnPropertyDescriptor:H,getOwnPropertyNames:B,getOwnPropertySymbols:W}),S&&l(l.S+l.F*(!A||X),"JSON",{stringify:U}),h(j,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{"./$":144,"./$.an-object":113,"./$.descriptors":122,"./$.enum-keys":124,"./$.export":125,"./$.fails":126,"./$.get-names":128,"./$.global":129,"./$.has":130,"./$.is-array":136,"./$.keyof":145,"./$.library":146,"./$.property-desc":150,"./$.redefine":152,"./$.set-to-string-tag":156,"./$.shared":157,"./$.to-iobject":163,"./$.uid":166,"./$.wks":167}],184:[function(e,t,r){var i=e("./$.export");i(i.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":117,"./$.export":125}],185:[function(e,t,r){var i=e("./$.export");i(i.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":117,"./$.export":125}],186:[function(e,t,r){e("./es6.array.iterator");var i=e("./$.iterators");i.NodeList=i.HTMLCollection=i.Array},{"./$.iterators":143,"./es6.array.iterator":172}],187:[function(e,t,r){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function s(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,r,i,s,o,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],l(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];r.apply(this,s)}else if(a(r)){for(i=arguments.length,s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];for(u=r.slice(),i=u.length,o=0;o<i;o++)u[o].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var r;r=l(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var r,i,s,l;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=s;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){i=l;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){return e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],188:[function(e,t,r){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(e){if(h===setTimeout)return setTimeout(e,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function l(){m&&p&&(m=!1,p.length?b=p.concat(b):v=-1,b.length&&o())}function o(){if(!m){var e=s(l);m=!0;for(var t=b.length;t;){for(p=b,b=[];++v<t;)p&&p[v].run();v=-1,t=b.length}p=null,m=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var h,f,d=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(e){h=i}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var p,b=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];b.push(new u(e,t)),1!==b.length||m||s(o)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}]},{},[71])(71)});
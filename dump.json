[
  {
    "__docId__": 0,
    "kind": "file",
    "name": "src/axis/axis-layer.js",
    "content": "import ns from '../core/namespace';\nimport Layer from '../core/layer';\nimport scales from '../utils/scales';\n\n\n/**\n * Simplified Layer for Axis. The main difference with a regular layer is that\n * an axis layer use the `Timeline~timeContext` attributes to render it's layout\n * and stay synchronized with the tracks visible area. All getters and setters\n * to the `TimelineTimeContext` attributes are bypassed.\n *\n * It also handle it's own data and its updates. The `_generateData` method is\n * responsible to create some usefull data to visualize\n *\n * [example usage of the layer-axis](./examples/layer-axis.html)\n */\nexport default class AxisLayer extends Layer {\n  /**\n   * @param {Function} generator - A function to create data according to\n   *    the `Timeline~timeContext`.\n   * @param {Object} options - Layer options, cf. Layer for available options.\n   */\n  constructor(generator, options) {\n    super('entity', [], options);\n    this._generator = generator;\n  }\n\n  /** @private */\n  set stretchRatio(value) { return; }\n  /** @private */\n  set offset(value) { return; }\n  /** @private */\n  set start(value) { return; }\n  /** @private */\n  set duration(value) { return; }\n  /** @private */\n  get stretchRatio() { return; }\n  /** @private */\n  get offset() { return; }\n  /** @private */\n  get start() { return; }\n  /** @private */\n  get duration() { return; }\n\n\n  /**\n   * The generator that creates the data to be rendered to display the axis.\n   *\n   * @type {Function}\n   */\n  set generator(func) {\n    this._generator = func;\n  }\n\n  /**\n   * The generator that creates the data to be rendered to display the axis.\n   *\n   * @type {Function}\n   */\n  get generator() {\n    return this._generator;\n  }\n\n  /**\n   * This method is the main difference with a classical layer. An `AxisLayer`\n   * instance generates and maintains it's own data.\n   */\n  _generateData() {\n    const data = this._generator(this.timeContext);\n    // prepend first arguments of splice for an apply\n    data.unshift(0, this.data[0].length);\n    // make sure to keep the same reference\n    Array.prototype.splice.apply(this.data[0], data);\n  }\n\n  /**\n   * Updates the rendering context for the shapes.\n   */\n  _updateRenderingContext() {\n    \n    const viewStartTime = -this.timeContext.offset;\n    \n    this._renderingContext.timeToPixel = scales.linear()\n      .domain([viewStartTime, viewStartTime + 1])\n      .range([0, this.timeContext.timeToPixel(1)]);\n    \n    this._renderingContext.minX = 0;\n\n    this._renderingContext.visibleWidth = this.timeContext.visibleWidth;\n    this._renderingContext.width = this._renderingContext.visibleWidth;\n    this._renderingContext.maxX = this._renderingContext.visibleWidth;\n    \n    this._renderingContext.height = this.params.height;\n    this._renderingContext.valueToPixel = this._valueToPixel;\n  }\n\n  /**\n   * Generates the data and update the layer.\n   */\n  update() {\n    this._generateData();\n    super.update();\n  }\n\n  /**\n   * Render the DOM in memory on layer creation to be able to use it before\n   * the layer is actually inserted in the DOM\n   */\n  _renderContainer() {\n    // wrapper group for `start, top and context flip matrix\n    this.$el = document.createElementNS(ns, 'g');\n    if (this.params.className !== null) {\n      this.$el.classList.add('layer', this.params.className);\n    }\n\n    // group to contain layer items\n    this.$maingroup = document.createElementNS(ns, 'g');\n    this.$maingroup.classList.add('maingroup', 'items');\n    // layer background\n    this.$background = document.createElementNS(ns, 'rect');\n    this.$background.setAttributeNS(null, 'height', '100%');\n    this.$background.classList.add('background');\n    this.$background.style.fillOpacity = 0;\n    this.$background.style.pointerEvents = 'none';\n    // create the DOM tree\n    this.$el.appendChild(this.$maingroup);\n    this.$maingroup.appendChild(this.$background);\n  }\n\n  /**\n   * Updates the layout of the layer.\n   */\n  _updateContainer() {\n    this._updateRenderingContext();\n\n    const top    = this.params.top;\n    const height = this.params.height;\n    // matrix to invert the coordinate system\n    const translateMatrix = `matrix(1, 0, 0, -1, 0, ${top + height})`;\n    this.$el.setAttributeNS(null, 'transform', translateMatrix);\n\n    this.$background.setAttributeNS(null, 'width', height);\n  }\n}\n",
    "static": true,
    "longname": "src/axis/axis-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 1,
    "kind": "class",
    "name": "AxisLayer",
    "memberof": "src/axis/axis-layer.js",
    "static": true,
    "longname": "src/axis/axis-layer.js~AxisLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/axis/axis-layer.js",
    "importStyle": "AxisLayer",
    "description": "Simplified Layer for Axis. The main difference with a regular layer is that\nan axis layer use the `Timeline~timeContext` attributes to render it's layout\nand stay synchronized with the tracks visible area. All getters and setters\nto the `TimelineTimeContext` attributes are bypassed.\n\nIt also handle it's own data and its updates. The `_generateData` method is\nresponsible to create some usefull data to visualize\n\n[example usage of the layer-axis](./examples/layer-axis.html)",
    "lineNumber": 17,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 2,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 23,
    "params": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "generator",
        "description": "A function to create data according to\n   the `Timeline~timeContext`."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Layer options, cf. Layer for available options."
      }
    ]
  },
  {
    "__docId__": 3,
    "kind": "member",
    "name": "_generator",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#_generator",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 4,
    "kind": "set",
    "name": "stretchRatio",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#stretchRatio",
    "access": "private",
    "description": null,
    "lineNumber": 29,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 5,
    "kind": "set",
    "name": "offset",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#offset",
    "access": "private",
    "description": null,
    "lineNumber": 31,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 6,
    "kind": "set",
    "name": "start",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#start",
    "access": "private",
    "description": null,
    "lineNumber": 33,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 7,
    "kind": "set",
    "name": "duration",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#duration",
    "access": "private",
    "description": null,
    "lineNumber": 35,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 8,
    "kind": "get",
    "name": "stretchRatio",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#stretchRatio",
    "access": "private",
    "description": null,
    "lineNumber": 37
  },
  {
    "__docId__": 9,
    "kind": "get",
    "name": "offset",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#offset",
    "access": "private",
    "description": null,
    "lineNumber": 39
  },
  {
    "__docId__": 10,
    "kind": "get",
    "name": "start",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#start",
    "access": "private",
    "description": null,
    "lineNumber": 41
  },
  {
    "__docId__": 11,
    "kind": "get",
    "name": "duration",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#duration",
    "access": "private",
    "description": null,
    "lineNumber": 43
  },
  {
    "__docId__": 12,
    "kind": "set",
    "name": "generator",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#generator",
    "access": null,
    "description": "The generator that creates the data to be rendered to display the axis.",
    "lineNumber": 51,
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 13,
    "kind": "member",
    "name": "_generator",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#_generator",
    "access": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 14,
    "kind": "get",
    "name": "generator",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#generator",
    "access": null,
    "description": "The generator that creates the data to be rendered to display the axis.",
    "lineNumber": 60,
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 15,
    "kind": "method",
    "name": "_generateData",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#_generateData",
    "access": null,
    "description": "This method is the main difference with a classical layer. An `AxisLayer`\ninstance generates and maintains it's own data.",
    "lineNumber": 68,
    "params": []
  },
  {
    "__docId__": 16,
    "kind": "method",
    "name": "_updateRenderingContext",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#_updateRenderingContext",
    "access": null,
    "description": "Updates the rendering context for the shapes.",
    "lineNumber": 79,
    "params": []
  },
  {
    "__docId__": 17,
    "kind": "method",
    "name": "update",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#update",
    "access": null,
    "description": "Generates the data and update the layer.",
    "lineNumber": 100,
    "params": []
  },
  {
    "__docId__": 18,
    "kind": "method",
    "name": "_renderContainer",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#_renderContainer",
    "access": null,
    "description": "Render the DOM in memory on layer creation to be able to use it before\nthe layer is actually inserted in the DOM",
    "lineNumber": 109,
    "params": []
  },
  {
    "__docId__": 19,
    "kind": "member",
    "name": "$el",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#$el",
    "access": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 20,
    "kind": "member",
    "name": "$maingroup",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#$maingroup",
    "access": null,
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 21,
    "kind": "member",
    "name": "$background",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#$background",
    "access": null,
    "description": null,
    "lineNumber": 120,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 22,
    "kind": "method",
    "name": "_updateContainer",
    "memberof": "src/axis/axis-layer.js~AxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/axis/axis-layer.js~AxisLayer#_updateContainer",
    "access": null,
    "description": "Updates the layout of the layer.",
    "lineNumber": 133,
    "params": []
  },
  {
    "__docId__": 23,
    "kind": "file",
    "name": "src/axis/grid-axis-generator.js",
    "content": "/**\n * A generator to create data for grid axis according to a `bpm` and a `meter`.\n *\n * [example usage](./examples/layer-axis.html)\n *\n * @param {Number} bpm - The number of beats per minutes.\n * @param {String} signature - The meter of the mesure (`'4/4'`, `'3/8'`, ...).\n * @return {Function} - The configured function returning the data when called.\n */\nexport default function gridAxisGenerator(bpm, signature) {\n  const _bps =  bpm / 60; // sec\n  const _unit = 1 / parseInt(signature.split('/')[1], 10);\n  const _nbrUnitsPerMesure = parseInt(signature.split('/')[0], 10);\n\n  return function(timeContext) {\n    const duration = timeContext.visibleDuration;\n    const offset = timeContext.offset;\n    const data = [];\n\n    // const min = Math.min(-offset, 0);\n    const min = - offset;\n    // remove the timeline's offset to keep the layer centered\n    const max = duration - offset;\n\n    // define pixels for 1 second\n    const pixelsPerSecond = timeContext.computedPixelsPerSecond;\n    // time for one _unit\n    const unitTime = 1 / _bps;\n    // define the first tick > min\n    const modulo = min % unitTime;\n    const mult = (min - modulo) / unitTime;\n    const firstTickTime = unitTime * mult;\n    // track which position of current beat in the mesure\n    let positionInMesure = mult % _nbrUnitsPerMesure;\n\n    // remove not focused beats, if zoomed out\n    const pixelsPerTick = pixelsPerSecond / _bps;\n    const minStep = 5;\n\n    // time should be\n    for (let time = firstTickTime; time < max; time += unitTime) {\n      // find first beat\n      const focused = (positionInMesure++ % _nbrUnitsPerMesure === 0);\n      // ignore if pixels per ticks is too small\n      if ((pixelsPerTick <= minStep) && !focused) { continue; }\n\n      data.push({ time, focused });\n    }\n\n    return data;\n  };\n}",
    "static": true,
    "longname": "src/axis/grid-axis-generator.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 24,
    "kind": "function",
    "name": "gridAxisGenerator",
    "memberof": "src/axis/grid-axis-generator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/axis/grid-axis-generator.js~gridAxisGenerator",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/axis/grid-axis-generator.js",
    "importStyle": "gridAxisGenerator",
    "description": "A generator to create data for grid axis according to a `bpm` and a `meter`.\n\n[example usage](./examples/layer-axis.html)",
    "lineNumber": 10,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "bpm",
        "description": "The number of beats per minutes."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "signature",
        "description": "The meter of the mesure (`'4/4'`, `'3/8'`, ...)."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": "The configured function returning the data when called."
    }
  },
  {
    "__docId__": 25,
    "kind": "file",
    "name": "src/axis/time-axis-generator.js",
    "content": "import { padLeft } from '../utils/format';\n\n\n/**\n * A generator to create data for time axis.\n *\n * [example usage](./examples/layer-axis.html)\n *\n * @return {Function} - The configured function returning the data when called.\n */\nexport default function timeAxisGenerator() {\n  // add factory to share API with bpmGenerator\n  return function(timeContext) {\n    const duration = timeContext.visibleDuration;\n    const offset = timeContext.offset;\n    const data = [];\n\n    // const min = Math.min(-offset, 0);\n    const min = - offset;\n    // remove the timeline's offset to keep the layer centered\n    const max = duration - offset;\n\n    // define pixels for 1 second\n    const pixelsPerSecond = timeContext.computedPixelsPerSecond;\n    const minStep = 7;\n\n    // define all display information according to the pixelsPerSecond ratio\n    let step, type, toFixed, markerModulo, includeModulo;\n\n    if (pixelsPerSecond * 4 > minStep) {\n      step = 1; // the step to use to compute time\n      toFixed = 0;\n      markerModulo = 60; // a timestamp every 5 stepixelsPerSecond\n      includeModulo = 5; // a tick every 5 stepixelsPerSecond\n      type = '60sec';\n    }\n\n    if (pixelsPerSecond * 2 > minStep) {\n      step = 1;\n      toFixed = 0;\n      markerModulo = 30;\n      includeModulo = 1;\n      type = '30sec';\n    }\n\n    if (pixelsPerSecond > minStep) {\n      step = 1;\n      toFixed = 0;\n      markerModulo = 10;\n      includeModulo = 1;\n      type = 'sec';\n    }\n\n    if (pixelsPerSecond / 10 > minStep) {\n      step = 1 / 10;\n      toFixed = 1;\n      markerModulo = 10;\n      includeModulo = 1;\n      type = 'ds';\n    }\n\n    if (pixelsPerSecond / 100 > minStep) {\n      step = 1 / 100;\n      toFixed = 2;\n      markerModulo = 10;\n      includeModulo = 1;\n      type = 'cs';\n    }\n\n    if (pixelsPerSecond / 1000 > minStep) {\n      step = 1 / 1000;\n      toFixed = 3;\n      markerModulo = 10;\n      includeModulo = 1;\n      type = 'ms';\n    }\n\n    if (pixelsPerSecond / 10000 > minStep) {\n      step = 1 / 10000;\n      toFixed = 4;\n      markerModulo = 10;\n      includeModulo = 1;\n      type = 'ms-1'; \n    }\n\n    for (let time = min; time < max; time += step) {\n      const formattedTime = time.toFixed(toFixed);\n\n      if (Math.round(formattedTime / step) % includeModulo !== 0) {\n        continue;\n      }\n\n      // avoid floating point errors\n      const focused = Math.round(formattedTime / step) % markerModulo === 0 ? true : false;\n\n      const datum = { time: formattedTime, focused };\n\n      if (focused === true) {\n        const date = new Date(1000 * formattedTime);\n        const min = padLeft(date.getMinutes(), 0, 2);\n        const sec = padLeft(date.getSeconds(), 0, 2);\n        const milli = padLeft(date.getMilliseconds(), 0, 3);\n        const label = `${min}:${sec}:${milli}`;\n\n        datum.label = label;\n      }\n\n      data.push(datum);\n    }\n\n    return data;\n  };\n}\n",
    "static": true,
    "longname": "src/axis/time-axis-generator.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 26,
    "kind": "function",
    "name": "timeAxisGenerator",
    "memberof": "src/axis/time-axis-generator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/axis/time-axis-generator.js~timeAxisGenerator",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/axis/time-axis-generator.js",
    "importStyle": "timeAxisGenerator",
    "description": "A generator to create data for time axis.\n\n[example usage](./examples/layer-axis.html)",
    "lineNumber": 11,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": "The configured function returning the data when called."
    }
  },
  {
    "__docId__": 27,
    "kind": "file",
    "name": "src/behaviors/base-behavior.js",
    "content": "/**\n * Is an abstract class or interface to be overriden in order to define the way\n * a given shape should behave when selected or edited by a user. Instances of\n * `BaseBehavior` are internally used by `Layer` instances to modify the data\n * according to a user interaction and a given shape. A single instance of\n * `Behavior` is created in one given shape.\n *\n * By default, the only method to override to define a new behavior for a\n * shape is the `edit` method. However, if needed in special cases, all the\n * selection handling can be overriden too.\n *\n * The flow is the following:\n * `Event`  - (forwarded to) -> `Layer` - (command) -> `Behavior` - (modify) -> `data` - (upates) -> `Shape`\n *\n * The behavior responsability is then to modify the data according to the\n * user interactions, while shapes are always a view of the current state of the\n * data.\n */\nexport default class BaseBehavior {\n  constructor() {\n    this._selectedItems = new Set(); // no duplicate in Set\n    this._selectedClass = null;\n    this._layer = null;\n  }\n\n  initialize(layer) {\n    this._layer = layer;\n    this._selectedClass = layer.params.selectedClassName;\n  }\n\n  /**\n   * Destroy the references to the selected items.\n   *\n   * @type {String}\n   * @todo - rename to `clearSelection` (removing the class) ?\n   */\n  destroy() {\n    this._selectedItems.clear();\n  }\n\n  /**\n   * The class to add to the shapes when selected.\n   *\n   * @type {String}\n   */\n  set selectedClass(value) {\n    this._selectedClass = value;\n  }\n\n  /**\n   * The class to add to the shapes when selected.\n   *\n   * @type {String}\n   */\n  get selectedClass() {\n    return this._selectedClass;\n  }\n\n  /**\n   * An array containing all the selected items of the layer.\n   *\n   * @type {Array}\n   */\n  get selectedItems() {\n    return [...this._selectedItems];\n  }\n\n  /**\n   * @param {Element} $item - The item to select.\n   * @param {Object} datum - Not used in this implementation. Could be\n   *    used to mark the data as selected.\n   * @todo - Pass the shape object to get the accessors ?\n   */\n  select($item, datum) {\n    $item.classList.add(this.selectedClass);\n    this._selectedItems.add($item);\n  }\n\n  /**\n   * @param {Element} $item - The item to unselect.\n   * @param {Object} datum - Not used in this implementation. Could be\n   *    used to mark the data as selected.\n   * @todo - Pass the shape object to get the accessors ?\n   */\n  unselect($item, datum) {\n    $item.classList.remove(this.selectedClass);\n    this._selectedItems.delete($item);\n  }\n\n  /**\n   * @param {Element} $item - The item to toggle selection.\n   * @param {Object} datum - Not used in this implementation. Could be\n   *    used to mark the data as selected.\n   * @todo - Pass the shape object to get the accessors ?\n   */\n  toggleSelection($item, datum) {\n    const method = this._selectedItems.has($item) ? 'unselect' : 'select';\n    this[method]($item);\n  }\n\n  /**\n   * Interface method to override in order to define its particular behavior when\n   * interacted with.\n   *\n   * @param {Object} renderingContext - The layer rendering context.\n   * @param {BaseShape} shape - The shape object to be edited.\n   * @param {Object|Array} datum - The related datum to modify.\n   * @param {Number} dx - The value of the interaction in the x axis (in pixels).\n   * @param {Number} dy - The value of the interaction in the y axis (in pixels).\n   * @param {Element} $target - The target DOM element of the interaction.\n   */\n  edit(renderingContext, shape, datum, dx, dy, $target) {\n    // must be implemented in children\n  }\n}\n",
    "static": true,
    "longname": "src/behaviors/base-behavior.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 28,
    "kind": "class",
    "name": "BaseBehavior",
    "memberof": "src/behaviors/base-behavior.js",
    "static": true,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/behaviors/base-behavior.js",
    "importStyle": "BaseBehavior",
    "description": "Is an abstract class or interface to be overriden in order to define the way\na given shape should behave when selected or edited by a user. Instances of\n`BaseBehavior` are internally used by `Layer` instances to modify the data\naccording to a user interaction and a given shape. A single instance of\n`Behavior` is created in one given shape.\n\nBy default, the only method to override to define a new behavior for a\nshape is the `edit` method. However, if needed in special cases, all the\nselection handling can be overriden too.\n\nThe flow is the following:\n`Event`  - (forwarded to) -> `Layer` - (command) -> `Behavior` - (modify) -> `data` - (upates) -> `Shape`\n\nThe behavior responsability is then to modify the data according to the\nuser interactions, while shapes are always a view of the current state of the\ndata.",
    "lineNumber": 19,
    "interface": false
  },
  {
    "__docId__": 29,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#constructor",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 30,
    "kind": "member",
    "name": "_selectedItems",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#_selectedItems",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 31,
    "kind": "member",
    "name": "_selectedClass",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#_selectedClass",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 32,
    "kind": "member",
    "name": "_layer",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#_layer",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 33,
    "kind": "method",
    "name": "initialize",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#initialize",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "layer",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 34,
    "kind": "member",
    "name": "_layer",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#_layer",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 35,
    "kind": "member",
    "name": "_selectedClass",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#_selectedClass",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 36,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#destroy",
    "access": null,
    "description": "Destroy the references to the selected items.",
    "lineNumber": 37,
    "todo": [
      "- rename to `clearSelection` (removing the class) ?"
    ],
    "params": [],
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 37,
    "kind": "set",
    "name": "selectedClass",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#selectedClass",
    "access": null,
    "description": "The class to add to the shapes when selected.",
    "lineNumber": 46,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 38,
    "kind": "member",
    "name": "_selectedClass",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#_selectedClass",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 39,
    "kind": "get",
    "name": "selectedClass",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#selectedClass",
    "access": null,
    "description": "The class to add to the shapes when selected.",
    "lineNumber": 55,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 40,
    "kind": "get",
    "name": "selectedItems",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#selectedItems",
    "access": null,
    "description": "An array containing all the selected items of the layer.",
    "lineNumber": 64,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 41,
    "kind": "method",
    "name": "select",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#select",
    "access": null,
    "description": "",
    "lineNumber": 74,
    "todo": [
      "- Pass the shape object to get the accessors ?"
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$item",
        "description": "The item to select."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "Not used in this implementation. Could be\n   used to mark the data as selected."
      }
    ]
  },
  {
    "__docId__": 42,
    "kind": "method",
    "name": "unselect",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#unselect",
    "access": null,
    "description": "",
    "lineNumber": 85,
    "todo": [
      "- Pass the shape object to get the accessors ?"
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$item",
        "description": "The item to unselect."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "Not used in this implementation. Could be\n   used to mark the data as selected."
      }
    ]
  },
  {
    "__docId__": 43,
    "kind": "method",
    "name": "toggleSelection",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#toggleSelection",
    "access": null,
    "description": "",
    "lineNumber": 96,
    "todo": [
      "- Pass the shape object to get the accessors ?"
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$item",
        "description": "The item to toggle selection."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "Not used in this implementation. Could be\n   used to mark the data as selected."
      }
    ]
  },
  {
    "__docId__": 44,
    "kind": "method",
    "name": "edit",
    "memberof": "src/behaviors/base-behavior.js~BaseBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/base-behavior.js~BaseBehavior#edit",
    "access": null,
    "description": "Interface method to override in order to define its particular behavior when\ninteracted with.",
    "lineNumber": 112,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "renderingContext",
        "description": "The layer rendering context."
      },
      {
        "nullable": null,
        "types": [
          "BaseShape"
        ],
        "spread": false,
        "optional": false,
        "name": "shape",
        "description": "The shape object to be edited."
      },
      {
        "nullable": null,
        "types": [
          "Object",
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "The related datum to modify."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dx",
        "description": "The value of the interaction in the x axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dy",
        "description": "The value of the interaction in the y axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$target",
        "description": "The target DOM element of the interaction."
      }
    ]
  },
  {
    "__docId__": 45,
    "kind": "file",
    "name": "src/behaviors/breakpoint-behavior.js",
    "content": "import BaseBehavior from './base-behavior';\n\n\n/**\n * Defines the default behavior for a breakpoint function.\n *\n * [example usage](./examples/layer-breakpoint.html)\n */\nexport default class BreakpointBehavior extends BaseBehavior {\n  edit(renderingContext, shape, datum, dx, dy, target) {\n    const data  = this._layer.data;\n    const layerHeight = renderingContext.height;\n    // current position\n    const x = renderingContext.timeToPixel(shape.cx(datum));\n    const y = renderingContext.valueToPixel(shape.cy(datum));\n    // target position\n    let targetX = x + dx;\n    let targetY = y - dy;\n\n    if (data.length > 2) {\n      // create a sorted map of all `x` positions\n      const xMap = data.map((d) => renderingContext.timeToPixel(shape.cx(d)));\n      xMap.sort((a, b) => a < b ? -1 : 1);\n      // find index of our shape x position\n      const index = xMap.indexOf(x);\n      // lock to next siblings\n      if (targetX < xMap[index - 1] || targetX > xMap[index + 1]) {\n        targetX = x;\n      }\n    }\n\n    // lock in y axis\n    if (targetY < 0) {\n      targetY = 0;\n    } else if (targetY > layerHeight) {\n      targetY = layerHeight;\n    }\n\n    // update datum with new values\n    shape.cx(datum, renderingContext.timeToPixel.invert(targetX));\n    shape.cy(datum, renderingContext.valueToPixel.invert(targetY));\n  }\n}\n",
    "static": true,
    "longname": "src/behaviors/breakpoint-behavior.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 46,
    "kind": "class",
    "name": "BreakpointBehavior",
    "memberof": "src/behaviors/breakpoint-behavior.js",
    "static": true,
    "longname": "src/behaviors/breakpoint-behavior.js~BreakpointBehavior",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/behaviors/breakpoint-behavior.js",
    "importStyle": "BreakpointBehavior",
    "description": "Defines the default behavior for a breakpoint function.\n\n[example usage](./examples/layer-breakpoint.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/behaviors/base-behavior.js~BaseBehavior"
    ]
  },
  {
    "__docId__": 47,
    "kind": "method",
    "name": "edit",
    "memberof": "src/behaviors/breakpoint-behavior.js~BreakpointBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/breakpoint-behavior.js~BreakpointBehavior#edit",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/behaviors/marker-behavior.js",
    "content": "import BaseBehavior from './base-behavior';\n\n\n/**\n * Defines the default behavior for a marker.\n *\n * [example usage](./examples/layer-marker.html)\n */\nexport default class MarkerBehavior extends BaseBehavior {\n  edit(renderingContext, shape, datum, dx, dy, target) {\n    const x = renderingContext.timeToPixel(shape.x(datum));\n    let targetX = (x + dx) > 0 ? x + dx : 0;\n\n    shape.x(datum, renderingContext.timeToPixel.invert(targetX));\n  }\n}\n",
    "static": true,
    "longname": "src/behaviors/marker-behavior.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "class",
    "name": "MarkerBehavior",
    "memberof": "src/behaviors/marker-behavior.js",
    "static": true,
    "longname": "src/behaviors/marker-behavior.js~MarkerBehavior",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/behaviors/marker-behavior.js",
    "importStyle": "MarkerBehavior",
    "description": "Defines the default behavior for a marker.\n\n[example usage](./examples/layer-marker.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/behaviors/base-behavior.js~BaseBehavior"
    ]
  },
  {
    "__docId__": 50,
    "kind": "method",
    "name": "edit",
    "memberof": "src/behaviors/marker-behavior.js~MarkerBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/marker-behavior.js~MarkerBehavior#edit",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 51,
    "kind": "file",
    "name": "src/behaviors/segment-behavior.js",
    "content": "import BaseBehavior from './base-behavior';\n\n\n/**\n * Defines the default behavior for a segment.\n *\n * [example usage](./examples/layer-marker.html)\n */\nexport default class SegmentBehavior extends BaseBehavior {\n  edit(renderingContext, shape, datum, dx, dy, target) {\n    const classList = target.classList;\n    let action = 'move';\n\n    if (classList.contains('handler') && classList.contains('left')) {\n      action = 'resizeLeft';\n    } else if (classList.contains('handler') && classList.contains('right')) {\n      action = 'resizeRight';\n    }\n\n    this[`_${action}`](renderingContext, shape, datum, dx, dy, target);\n  }\n\n  _move(renderingContext, shape, datum, dx, dy, target) {\n    const layerHeight = renderingContext.height;\n    // current values\n    const x = renderingContext.timeToPixel(shape.x(datum));\n    const y = renderingContext.valueToPixel(shape.y(datum));\n    const height = renderingContext.valueToPixel(shape.height(datum));\n    // target values\n    let targetX = Math.max(x + dx, 0);\n    let targetY = y - dy;\n\n    // lock in layer's y axis\n    if (targetY < 0) {\n      targetY = 0;\n    } else if (targetY + height > layerHeight) {\n      targetY = layerHeight - height;\n    }\n\n    shape.x(datum, renderingContext.timeToPixel.invert(targetX));\n    shape.y(datum, renderingContext.valueToPixel.invert(targetY));\n  }\n\n  _resizeLeft(renderingContext, shape, datum, dx, dy, target) {\n    // current values\n    const x     = renderingContext.timeToPixel(shape.x(datum));\n    const width = renderingContext.timeToPixel(shape.width(datum));\n    // target values\n    let maxTargetX  = x + width;\n    let targetX     = x + dx < maxTargetX ? Math.max(x + dx, 0) : x;\n    let targetWidth = targetX !== 0 ? Math.max(width - dx, 1) : width;\n\n    shape.x(datum, renderingContext.timeToPixel.invert(targetX));\n    shape.width(datum, renderingContext.timeToPixel.invert(targetWidth));\n  }\n\n  _resizeRight(renderingContext, shape, datum, dx, dy, target) {\n    // current values\n    const width = renderingContext.timeToPixel(shape.width(datum));\n    // target values\n    let targetWidth = Math.max(width + dx, 1);\n\n    shape.width(datum, renderingContext.timeToPixel.invert(targetWidth));\n  }\n}\n",
    "static": true,
    "longname": "src/behaviors/segment-behavior.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 52,
    "kind": "class",
    "name": "SegmentBehavior",
    "memberof": "src/behaviors/segment-behavior.js",
    "static": true,
    "longname": "src/behaviors/segment-behavior.js~SegmentBehavior",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/behaviors/segment-behavior.js",
    "importStyle": "SegmentBehavior",
    "description": "Defines the default behavior for a segment.\n\n[example usage](./examples/layer-marker.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/behaviors/base-behavior.js~BaseBehavior"
    ]
  },
  {
    "__docId__": 53,
    "kind": "method",
    "name": "edit",
    "memberof": "src/behaviors/segment-behavior.js~SegmentBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/segment-behavior.js~SegmentBehavior#edit",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 54,
    "kind": "method",
    "name": "_move",
    "memberof": "src/behaviors/segment-behavior.js~SegmentBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/segment-behavior.js~SegmentBehavior#_move",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 55,
    "kind": "method",
    "name": "_resizeLeft",
    "memberof": "src/behaviors/segment-behavior.js~SegmentBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/segment-behavior.js~SegmentBehavior#_resizeLeft",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 56,
    "kind": "method",
    "name": "_resizeRight",
    "memberof": "src/behaviors/segment-behavior.js~SegmentBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/segment-behavior.js~SegmentBehavior#_resizeRight",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 57,
    "kind": "file",
    "name": "src/behaviors/time-context-behavior.js",
    "content": "/**\n * TimeContextBehavior is used internally in Layers to modify their TimeContext.\n * This object is different from other Shapes Behaviors and exists mostly to decrease the size of the Layer.\n * All the code here could be considered as part of the layer.\n */\nexport default class TimeContextBehavior {\n  edit(layer, dx, dy, target) {\n    const timeContext = layer.timeContext;\n\n    if (target.classList.contains('handler') && target.classList.contains('left')) {\n      this._editLeft(timeContext, dx);\n    } else if (target.classList.contains('handler') && target.classList.contains('right')) {\n      this._editRight(timeContext, dx);\n    } else if (target.classList.contains('segment')) {\n      this._move(timeContext, dx);\n    }\n  }\n\n  _editLeft(timeContext, dx) {\n    // edit `start`, `offset` and `duration`\n    const x = timeContext.parent.timeToPixel(timeContext.start);\n    const offset = timeContext.timeToPixel(timeContext.offset);\n    const width = timeContext.timeToPixel(timeContext.duration);\n\n    const targetX = x + dx;\n    const targetOffset = offset - dx;\n    const targetWidth = Math.max(width - dx, 1);\n\n    timeContext.start = timeContext.parent.timeToPixel.invert(targetX);\n    timeContext.offset = timeContext.timeToPixel.invert(targetOffset);\n    timeContext.duration = timeContext.timeToPixel.invert(targetWidth);\n  }\n\n  _editRight(timeContext, dx) {\n    const width = timeContext.timeToPixel(timeContext.duration);\n    const targetWidth = Math.max(width + dx, 1);\n\n    timeContext.duration = timeContext.timeToPixel.invert(targetWidth);\n  }\n\n  _move(timeContext, dx) {\n    const x = timeContext.parent.timeToPixel(timeContext.start);\n    const targetX = Math.max(x + dx, 0);\n\n    timeContext.start = timeContext.parent.timeToPixel.invert(targetX);\n  }\n\n  stretch(layer, dx, dy, target) {\n    const timeContext = layer.timeContext;\n    const lastDuration = timeContext.duration;\n    const lastOffset = timeContext.offset;\n\n    this.edit(layer, dx, dy, target);\n\n    const newDuration = timeContext.duration;\n    const ratio = (newDuration / lastDuration);\n\n    timeContext.stretchRatio *= ratio;\n    timeContext.offset = lastOffset;\n    timeContext.duration = lastDuration;\n  }\n}\n",
    "static": true,
    "longname": "src/behaviors/time-context-behavior.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 58,
    "kind": "class",
    "name": "TimeContextBehavior",
    "memberof": "src/behaviors/time-context-behavior.js",
    "static": true,
    "longname": "src/behaviors/time-context-behavior.js~TimeContextBehavior",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/behaviors/time-context-behavior.js",
    "importStyle": "TimeContextBehavior",
    "description": "TimeContextBehavior is used internally in Layers to modify their TimeContext.\nThis object is different from other Shapes Behaviors and exists mostly to decrease the size of the Layer.\nAll the code here could be considered as part of the layer.",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 59,
    "kind": "method",
    "name": "edit",
    "memberof": "src/behaviors/time-context-behavior.js~TimeContextBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/time-context-behavior.js~TimeContextBehavior#edit",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "layer",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 60,
    "kind": "method",
    "name": "_editLeft",
    "memberof": "src/behaviors/time-context-behavior.js~TimeContextBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/time-context-behavior.js~TimeContextBehavior#_editLeft",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 61,
    "kind": "method",
    "name": "_editRight",
    "memberof": "src/behaviors/time-context-behavior.js~TimeContextBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/time-context-behavior.js~TimeContextBehavior#_editRight",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 62,
    "kind": "method",
    "name": "_move",
    "memberof": "src/behaviors/time-context-behavior.js~TimeContextBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/time-context-behavior.js~TimeContextBehavior#_move",
    "access": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 63,
    "kind": "method",
    "name": "stretch",
    "memberof": "src/behaviors/time-context-behavior.js~TimeContextBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/time-context-behavior.js~TimeContextBehavior#stretch",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "layer",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 64,
    "kind": "file",
    "name": "src/behaviors/trace-behavior.js",
    "content": "import BaseBehavior from './base-behavior';\n\n\n/**\n * Defines the default behavior for a trace visualization.\n *\n * [example usage](./examples/layer-trace.html)\n */\nexport default class TraceBehavior extends BaseBehavior {\n  edit(renderingContext, shape, datum, dx, dy, target) {\n    if (target.classList.contains('min')) {\n      this._editRange(renderingContext, shape, datum, dx, dy, 'min');\n    } else if (target.classList.contains('max')) {\n      this._editRange(renderingContext, shape, datum, dx, dy, 'max');\n    } else {\n      this._editMean(renderingContext, shape, datum, dx, dy);\n    }\n  }\n\n  _editMean(renderingContext, shape, datum, dx, dy) {\n    // work in pixel domain\n    const x = renderingContext.timeToPixel(shape.x(datum));\n    const y = renderingContext.valueToPixel(shape.mean(datum));\n\n    let targetX = x + dx;\n    let targetY = y - dy;\n\n    shape.x(datum, renderingContext.timeToPixel.invert(targetX));\n    shape.mean(datum, renderingContext.valueToPixel.invert(targetY));\n  }\n\n  _editRange(renderingContext, shape, datum, dx, dy, rangeSide) {\n    const range = renderingContext.valueToPixel(shape.range(datum));\n\n    let targetRange = rangeSide === 'min' ? range + 2 * dy : range - 2 * dy;\n    targetRange = Math.max(targetRange, 0);\n\n    shape.range(datum, renderingContext.valueToPixel.invert(targetRange));\n  }\n}\n",
    "static": true,
    "longname": "src/behaviors/trace-behavior.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 65,
    "kind": "class",
    "name": "TraceBehavior",
    "memberof": "src/behaviors/trace-behavior.js",
    "static": true,
    "longname": "src/behaviors/trace-behavior.js~TraceBehavior",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/behaviors/trace-behavior.js",
    "importStyle": "TraceBehavior",
    "description": "Defines the default behavior for a trace visualization.\n\n[example usage](./examples/layer-trace.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/behaviors/base-behavior.js~BaseBehavior"
    ]
  },
  {
    "__docId__": 66,
    "kind": "method",
    "name": "edit",
    "memberof": "src/behaviors/trace-behavior.js~TraceBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/trace-behavior.js~TraceBehavior#edit",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 67,
    "kind": "method",
    "name": "_editMean",
    "memberof": "src/behaviors/trace-behavior.js~TraceBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/trace-behavior.js~TraceBehavior#_editMean",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 68,
    "kind": "method",
    "name": "_editRange",
    "memberof": "src/behaviors/trace-behavior.js~TraceBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/behaviors/trace-behavior.js~TraceBehavior#_editRange",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "shape",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "dx",
        "types": [
          "*"
        ]
      },
      {
        "name": "dy",
        "types": [
          "*"
        ]
      },
      {
        "name": "rangeSide",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 69,
    "kind": "file",
    "name": "src/core/layer-time-context.js",
    "content": "import scales from '../utils/scales';\n\n\n/**\n * A `LayerTimeContext` instance represents a time segment into a `TimelineTimeContext`.\n * It must be attached to a `TimelineTimeContext` (the one of the timeline it\n * belongs to). It relies on its parent's `timeToPixel` (time to pixel transfert\n * function) to create the time to pixel representation of the Layer (the view) it is attached to.\n *\n * The `layerTimeContext` has four important attributes:\n * - `start` represent the time at which temporal data must be represented\n *   in the timeline (for instance the begining of a soundfile in a DAW).\n * - `offset` represents offset time of the data in the context of a Layer.\n *   (@TODO give a use case example here \"crop ?\", and/or explain that it's not a common use case).\n * - `duration` is the duration of the view on the data.\n * - `stretchRatio` is the stretch applyed to the temporal data contained in\n *   the view (this value can be seen as a local zoom on the data, or as a stretch\n *   on the time components of the data). When applyed, the stretch ratio maintain\n *   the start position of the view in the timeline.\n *\n * ```\n * + timeline -----------------------------------------------------------------\n * 0         5         10          15          20        25          30 seconds\n * +---+*****************+------------------------------------------+*******+--\n *     |*** soundfile ***|Layer (view on the sound file)            |*******|\n *     +*****************+------------------------------------------+*******+\n *\n *     <---- offset ----><--------------- duration ----------------->\n * <-------- start ----->\n *\n * The parts of the sound file represented with '*' are hidden from the view\n * ```\n *\n * [example usage](./examples/time-contexts.html)\n */\nexport default class LayerTimeContext {\n  /**\n   * @param {TimelineTimeContext} parent - The `TimelineTimeContext` instance of the timeline.\n   */\n  constructor(parent) {\n    if (!parent) { throw new Error('LayerTimeContext must have a parent'); }\n\n    /**\n     * The `TimelineTimeContext` instance of the timeline.\n     *\n     * @type {TimelineTimeContext}\n     */\n    this.parent = parent;\n\n    this._timeToPixel = null;\n    this._start = 0;\n    this._duration = parent.visibleDuration;\n    this._offset = 0;\n    this._stretchRatio = 1;\n    // register into the timeline's TimeContext\n    this.parent._children.push(this);\n  }\n\n  /**\n   * Creates a clone of the current time context.\n   *\n   * @return {LayerTimeContext}\n   */\n  clone() {\n    const ctx = new this();\n\n    ctx.parent = this.parent;\n    ctx.start = this.start;\n    ctx.duration = this.duration;\n    ctx.offset = this.offset;\n    ctx.stretchRatio = this.stretchRatio; // creates the local scale if needed\n\n    return ctx;\n  }\n\n  /**\n   * Returns the start position of the time context (in seconds).\n   *\n   * @type {Number}\n   */\n  get start() {\n    return this._start;\n  }\n\n  /**\n   * Sets the start position of the time context (in seconds).\n   *\n   * @type {Number}\n   */\n  set start(value) {\n    this._start = value;\n  }\n\n  /**\n   * Returns the duration of the time context (in seconds).\n   *\n   * @type {Number}\n   */\n  get duration() {\n    return this._duration;\n  }\n\n  /**\n   * Sets the duration of the time context (in seconds).\n   *\n   * @type {Number}\n   */\n  set duration(value) {\n    this._duration = value;\n  }\n\n  /**\n   * Returns the offset of the time context (in seconds).\n   *\n   * @type {Number}\n   */\n  get offset() {\n    return this._offset;\n  }\n\n  /**\n   * Sets the offset of the time context (in seconds).\n   *\n   * @type {Number}\n   */\n  set offset(value) {\n    this._offset = value;\n  }\n\n  /**\n   * Returns the stretch ratio of the time context.\n   *\n   * @type {Number}\n   */\n  get stretchRatio() {\n    return this._stretchRatio;\n  }\n\n  /**\n   * Sets the stretch ratio of the time context.\n   *\n   * @type {Number}\n   */\n  set stretchRatio(value) {\n    // remove local scale if ratio = 1\n    if (value ===  1) {\n      this._timeToPixel = null;\n      return;\n    }\n    // reuse previsously created local scale if exists\n    const timeToPixel = this._timeToPixel ?\n      this._timeToPixel : scales.linear().domain([0, 1]);\n\n    timeToPixel.range([0, this.parent.computedPixelsPerSecond * value]);\n\n    this._timeToPixel = timeToPixel;\n    this._stretchRatio = value;\n  }\n\n  /**\n   * Returns the time to pixel transfert function of the time context. If\n   * the `stretchRatio` attribute is equal to 1, this function is the global\n   * one from the `TimelineTimeContext` instance.\n   *\n   * @type {Function}\n   */\n  get timeToPixel() {\n    if (!this._timeToPixel) {\n      return this.parent.timeToPixel;\n    }\n\n    return this._timeToPixel;\n  }\n\n  /**\n   * Helper function to convert pixel to time.\n   *\n   * @param {Number} px\n   * @return {Number}\n   */\n  pixelToTime(px) {\n    if (!this._timeToPixel) {\n      return this.parent.timeToPixel.invert(px);\n    }\n\n    return this._timeToPixel.invert(px);\n  }\n}\n",
    "static": true,
    "longname": "src/core/layer-time-context.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 70,
    "kind": "class",
    "name": "LayerTimeContext",
    "memberof": "src/core/layer-time-context.js",
    "static": true,
    "longname": "src/core/layer-time-context.js~LayerTimeContext",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/core/layer-time-context.js",
    "importStyle": "LayerTimeContext",
    "description": "A `LayerTimeContext` instance represents a time segment into a `TimelineTimeContext`.\nIt must be attached to a `TimelineTimeContext` (the one of the timeline it\nbelongs to). It relies on its parent's `timeToPixel` (time to pixel transfert\nfunction) to create the time to pixel representation of the Layer (the view) it is attached to.\n\nThe `layerTimeContext` has four important attributes:\n- `start` represent the time at which temporal data must be represented\n  in the timeline (for instance the begining of a soundfile in a DAW).\n- `offset` represents offset time of the data in the context of a Layer.\n  (@TODO give a use case example here \"crop ?\", and/or explain that it's not a common use case).\n- `duration` is the duration of the view on the data.\n- `stretchRatio` is the stretch applyed to the temporal data contained in\n  the view (this value can be seen as a local zoom on the data, or as a stretch\n  on the time components of the data). When applyed, the stretch ratio maintain\n  the start position of the view in the timeline.\n\n```\n+ timeline -----------------------------------------------------------------\n0         5         10          15          20        25          30 seconds\n+---+*****************+------------------------------------------+*******+--\n    |*** soundfile ***|Layer (view on the sound file)            |*******|\n    +*****************+------------------------------------------+*******+\n\n    <---- offset ----><--------------- duration ----------------->\n<-------- start ----->\n\nThe parts of the sound file represented with '*' are hidden from the view\n```\n\n[example usage](./examples/time-contexts.html)",
    "lineNumber": 36,
    "interface": false
  },
  {
    "__docId__": 71,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#constructor",
    "access": null,
    "description": "",
    "lineNumber": 40,
    "params": [
      {
        "nullable": null,
        "types": [
          "TimelineTimeContext"
        ],
        "spread": false,
        "optional": false,
        "name": "parent",
        "description": "The `TimelineTimeContext` instance of the timeline."
      }
    ]
  },
  {
    "__docId__": 72,
    "kind": "member",
    "name": "parent",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#parent",
    "access": null,
    "description": "The `TimelineTimeContext` instance of the timeline.",
    "lineNumber": 48,
    "type": {
      "nullable": null,
      "types": [
        "TimelineTimeContext"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 73,
    "kind": "member",
    "name": "_timeToPixel",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_timeToPixel",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "_start",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_start",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 75,
    "kind": "member",
    "name": "_duration",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_duration",
    "access": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 76,
    "kind": "member",
    "name": "_offset",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_offset",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 77,
    "kind": "member",
    "name": "_stretchRatio",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_stretchRatio",
    "access": null,
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 78,
    "kind": "method",
    "name": "clone",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#clone",
    "access": null,
    "description": "Creates a clone of the current time context.",
    "lineNumber": 64,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "LayerTimeContext"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 79,
    "kind": "get",
    "name": "start",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#start",
    "access": null,
    "description": "Returns the start position of the time context (in seconds).",
    "lineNumber": 81,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 80,
    "kind": "set",
    "name": "start",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#start",
    "access": null,
    "description": "Sets the start position of the time context (in seconds).",
    "lineNumber": 90,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 81,
    "kind": "member",
    "name": "_start",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_start",
    "access": null,
    "description": null,
    "lineNumber": 91,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 82,
    "kind": "get",
    "name": "duration",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#duration",
    "access": null,
    "description": "Returns the duration of the time context (in seconds).",
    "lineNumber": 99,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 83,
    "kind": "set",
    "name": "duration",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#duration",
    "access": null,
    "description": "Sets the duration of the time context (in seconds).",
    "lineNumber": 108,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "_duration",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_duration",
    "access": null,
    "description": null,
    "lineNumber": 109,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 85,
    "kind": "get",
    "name": "offset",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#offset",
    "access": null,
    "description": "Returns the offset of the time context (in seconds).",
    "lineNumber": 117,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 86,
    "kind": "set",
    "name": "offset",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#offset",
    "access": null,
    "description": "Sets the offset of the time context (in seconds).",
    "lineNumber": 126,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 87,
    "kind": "member",
    "name": "_offset",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_offset",
    "access": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 88,
    "kind": "get",
    "name": "stretchRatio",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#stretchRatio",
    "access": null,
    "description": "Returns the stretch ratio of the time context.",
    "lineNumber": 135,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 89,
    "kind": "set",
    "name": "stretchRatio",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#stretchRatio",
    "access": null,
    "description": "Sets the stretch ratio of the time context.",
    "lineNumber": 144,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 90,
    "kind": "member",
    "name": "_timeToPixel",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_timeToPixel",
    "access": null,
    "description": null,
    "lineNumber": 147,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 91,
    "kind": "member",
    "name": "_timeToPixel",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_timeToPixel",
    "access": null,
    "description": null,
    "lineNumber": 156,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 92,
    "kind": "member",
    "name": "_stretchRatio",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#_stretchRatio",
    "access": null,
    "description": null,
    "lineNumber": 157,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 93,
    "kind": "get",
    "name": "timeToPixel",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#timeToPixel",
    "access": null,
    "description": "Returns the time to pixel transfert function of the time context. If\nthe `stretchRatio` attribute is equal to 1, this function is the global\none from the `TimelineTimeContext` instance.",
    "lineNumber": 167,
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 94,
    "kind": "method",
    "name": "pixelToTime",
    "memberof": "src/core/layer-time-context.js~LayerTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer-time-context.js~LayerTimeContext#pixelToTime",
    "access": null,
    "description": "Helper function to convert pixel to time.",
    "lineNumber": 181,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "px",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 95,
    "kind": "file",
    "name": "src/core/layer.js",
    "content": "import events from 'events';\nimport ns from './namespace';\nimport scales from '../utils/scales';\nimport Segment from '../shapes/segment';\nimport TimeContextBehavior from '../behaviors/time-context-behavior';\n\n// time context bahevior\nlet timeContextBehavior = null;\nlet timeContextBehaviorCtor = TimeContextBehavior;\n\n/**\n * The layer class is the main visualization class. It is mainly defines by its\n * related `LayerTimeContext` which determines its position in the overall\n * timeline (through the `start`, `duration`, `offset` and `stretchRatio`\n * attributes) and by it's registered Shape which defines how to display the\n * data associated to the layer. Each created layer must be inserted into a\n * `Track` instance in order to be displayed.\n *\n * _Note: in the context of the layer, an __item__ is the SVG element\n * returned by a `Shape` instance and associated with a particular __datum__._\n *\n * ### Layer DOM structure\n * ```\n * <g class=\"layer\" transform=\"translate(${start}, 0)\">\n *   <svg class=\"bounding-box\" width=\"${duration}\">\n *     <g class=\"maingroup\">\n *       <!-- background -->\n *       <rect class=\"background\"></rect>\n *       <!-- shapes and common shapes are inserted here -->\n *     </g>\n *     <g class=\"interactions\"><!-- for feedback --></g>\n *   </svg>\n * </g>\n * ```\n */\nexport default class Layer extends events.EventEmitter {\n  /**\n   * @param {String} dataType - Defines how the layer should look at the data.\n   *    Can be 'entity' or 'collection'.\n   * @param {(Array|Object)} data - The data associated to the layer.\n   * @param {Object} options - Configures the layer.\n   * @param {Number} [options.height=100] - Defines the height of the layer.\n   * @param {Number} [options.top=0] - Defines the top position of the layer.\n   * @param {Number} [options.opacity=1] - Defines the opacity of the layer.\n   * @param {Number} [options.yDomain=[0,1]] - Defines boundaries of the data\n   *    values in y axis (for exemple to display an audio buffer, this attribute\n   *    should be set to [-1, 1].\n   * @param {String} [options.className=null] - An optionnal class to add to each\n   *    created shape.\n   * @param {String} [options.className='selected'] - The class to add to a shape\n   *    when selected.\n   * @param {Number} [options.contextHandlerWidth=2] - The width of the handlers\n   *    displayed to edit the layer.\n   * @param {Number} [options.hittable=false] - Defines if the layer can be interacted\n   *    with. Basically, the layer is not returned by `BaseState.getHitLayers` when\n   *    set to false (a common use case is a layer that contains a cursor)\n   */\n  constructor(dataType, data, options = {}) {\n    super();\n\n    const defaults = {\n      height: 100,\n      top: 0,\n      opacity: 1,\n      yDomain: [0, 1],\n      className: null,\n      selectedClassName: 'selected',\n      contextHandlerWidth: 2,\n      hittable: true, // when false the layer is not returned by `BaseState.getHitLayers`\n      id: '', // used ?\n      overflow: 'hidden', // usefull ?\n    };\n\n    /**\n     * Parameters of the layers, `defaults` overrided with options.\n     * @type {Object}\n     */\n    this.params = Object.assign({}, defaults, options);\n    /**\n     * Defines how the layer should look at the data (`'entity'` or `'collection'`).\n     * @type {String}\n     */\n    this.dataType = dataType; // 'entity' || 'collection';\n    /** @type {LayerTimeContext} */\n    this.timeContext = null;\n    /** @type {Element} */\n    this.$el = null;\n    /** @type {Element} */\n    this.$background = null;\n    /** @type {Element} */\n    this.$boundingBox = null;\n    /** @type {Element} */\n    this.$maingroup = null;\n    /** @type {Element} */\n    this.$interactions = null;\n    /**\n     * A Segment instanciated to interact with the Layer itself.\n     * @type {Segment}\n     */\n    this.contextShape = null;\n\n    this._shapeConfiguration = null;       // { ctor, accessors, options }\n    this._commonShapeConfiguration = null; // { ctor, accessors, options }\n    this._$itemShapeMap = new Map();\n    this._$itemDataMap = new Map();\n    this._$itemCommonShapeMap = new Map();\n\n    this._isContextEditable = false;\n    this._behavior = null;\n\n    this.data = data;\n\n    this._valueToPixel = scales.linear()\n      .domain(this.params.yDomain)\n      .range([0, this.params.height]);\n\n    // initialize timeContext layout\n    this._renderContainer();\n    // creates the timeContextBehavior for all layers\n    if (timeContextBehavior === null) {\n      timeContextBehavior = new timeContextBehaviorCtor();\n    }\n  }\n\n  /**\n   * Destroy the layer, clear all references.\n   */\n  destroy() {\n\n    if (this.dataType == 'entity') {\n      if (typeof(this.data.dispose) !== 'undefined') {\n        this.data.dispose();\n      }\n    }\n    \n    this.timeContext = null;\n    this.data = null;\n    this.params = null;\n    this._behavior = null;\n\n    this._$itemShapeMap.clear();\n    this._$itemDataMap.clear();\n    this._$itemCommonShapeMap.clear();\n\n    this.removeAllListeners();\n  }\n\n  /**\n   * Allows to override default the `TimeContextBehavior` used to edit the layer.\n   *\n   * @param {Object} ctor\n   */\n  static configureTimeContextBehavior(ctor) {\n    timeContextBehaviorCtor = ctor;\n  }\n\n  /**\n   * Returns `LayerTimeContext`'s `start` time domain value.\n   *\n   * @type {Number}\n   */\n  get start() {\n    return this.timeContext.start;\n  }\n\n  /**\n   * Sets `LayerTimeContext`'s `start` time domain value.\n   *\n   * @type {Number}\n   */\n  set start(value) {\n    this.timeContext.start = value;\n  }\n\n  /**\n   * Returns `LayerTimeContext`'s `offset` time domain value.\n   *\n   * @type {Number}\n   */\n  get offset() {\n    return this.timeContext.offset;\n  }\n\n  /**\n   * Sets `LayerTimeContext`'s `offset` time domain value.\n   *\n   * @type {Number}\n   */\n  set offset(value) {\n    this.timeContext.offset = value;\n  }\n\n  /**\n   * Returns `LayerTimeContext`'s `duration` time domain value.\n   *\n   * @type {Number}\n   */\n  get duration() {\n    return this.timeContext.duration;\n  }\n\n  /**\n   * Sets `LayerTimeContext`'s `duration` time domain value.\n   *\n   * @type {Number}\n   */\n  set duration(value) {\n    this.timeContext.duration = value;\n  }\n\n  /**\n   * Returns `LayerTimeContext`'s `stretchRatio` time domain value.\n   *\n   * @type {Number}\n   */\n  get stretchRatio() {\n    return this.timeContext.stretchRatio;\n  }\n\n  /**\n   * Sets `LayerTimeContext`'s `stretchRatio` time domain value.\n   *\n   * @type {Number}\n   */\n  set stretchRatio(value) {\n    this.timeContext.stretchRatio = value;\n  }\n\n  /**\n   * Set the domain boundaries of the data for the y axis.\n   *\n   * @type {Array}\n   */\n  set yDomain(domain) {\n    this.params.yDomain = domain;\n    this._valueToPixel.domain(domain);\n  }\n\n  /**\n   * Returns the domain boundaries of the data for the y axis.\n   *\n   * @type {Array}\n   */\n  get yDomain() {\n    return this.params.yDomain;\n  }\n\n  /**\n   * Sets the opacity of the whole layer.\n   *\n   * @type {Number}\n   */\n  set opacity(value) {\n    this.params.opacity = value;\n  }\n\n  /**\n   * Returns the opacity of the whole layer.\n   *\n   * @type {Number}\n   */\n  get opacity() {\n    return this.params.opacity;\n  }\n\n  /**\n   * Returns the transfert function used to display the data in the x axis.\n   *\n   * @type {Number}\n   */\n  get timeToPixel() {\n    return this.timeContext.timeToPixel;\n  }\n\n  /**\n   * Returns the transfert function used to display the data in the y axis.\n   *\n   * @type {Number}\n   */\n  get valueToPixel() {\n    return this._valueToPixel;\n  }\n\n  /**\n   * Returns an array containing all the displayed items.\n   *\n   * @type {Array<Element>}\n   */\n  get items() {\n    return Array.from(this._$itemDataMap.keys());\n  }\n\n  /**\n   * Returns the data associated to the layer.\n   *\n   * @type {Object[]}\n   */\n  get data() { return this._data; }\n\n  /**\n   * Sets the data associated with the layer.\n   *\n   * @type {Object|Object[]}\n   */\n  set data(data) {\n    switch (this.dataType) {\n    case 'entity':\n      if (this._data) {  // if data already exists, reuse the reference\n        this._data[0] = data;\n      } else {\n        this._data = [data];\n      }\n      break;\n    case 'collection':\n      this._data = data;\n      break;\n    }\n    this._cached = false;\n  }\n\n  // --------------------------------------\n  // Initialization\n  // --------------------------------------\n\n  /**\n   * Renders the DOM in memory on layer creation to be able to use it before\n   * the layer is actually inserted in the DOM.\n   */\n  _renderContainer() {\n    // wrapper group for `start, top and context flip matrix\n    this.$el = document.createElementNS(ns, 'g');\n    this.$el.classList.add('layer');\n    if (this.params.className !== null) {\n      this.$el.classList.add(this.params.className);\n    }\n    // clip the context with a `svg` element\n    this.$boundingBox = document.createElementNS(ns, 'svg');\n    this.$boundingBox.classList.add('bounding-box');\n    this.$boundingBox.style.overflow = this.params.overflow;\n    // group to contain layer items\n    this.$maingroup = document.createElementNS(ns, 'g');\n    this.$maingroup.classList.add('maingroup', 'items');\n    // layer background\n    this.$background = document.createElementNS(ns, 'rect');\n    this.$background.setAttributeNS(null, 'height', '100%');\n    this.$background.setAttributeNS(null, 'width', '100%');\n    this.$background.classList.add('background');\n    this.$background.style.fillOpacity = 0;\n    this.$background.style.pointerEvents = 'none';\n    // context interactions\n    this.$interactions = document.createElementNS(ns, 'g');\n    this.$interactions.classList.add('interactions');\n    this.$interactions.style.display = 'none';\n    // @NOTE: works but king of ugly... should be cleaned\n    this.contextShape = new Segment();\n    this.contextShape.install({\n      opacity: () => 0.1,\n      color  : () => '#787878',\n      width  : () => this.timeContext.duration,\n      height : () => this._renderingContext.valueToPixel.domain()[1],\n      y      : () => this._renderingContext.valueToPixel.domain()[0]\n    });\n\n    this.$interactions.appendChild(this.contextShape.render());\n    // create the DOM tree\n    this.$el.appendChild(this.$boundingBox);\n    this.$boundingBox.appendChild(this.$maingroup);\n    this.$maingroup.appendChild(this.$background);\n    this.$boundingBox.appendChild(this.$interactions);\n  }\n\n  // --------------------------------------\n  // Component Configuration\n  // --------------------------------------\n\n  /**\n   * Sets the context of the layer, thus defining its `start`, `duration`,\n   * `offset` and `stretchRatio`.\n   *\n   * @param {TimeContext} timeContext - The timeContext in which the layer is displayed.\n   */\n  setTimeContext(timeContext) {\n    this.timeContext = timeContext;\n    // create a mixin to pass to the shapes\n    this._renderingContext = {};\n    this._updateRenderingContext();\n  }\n\n  /**\n   * Register a shape and its configuration to use in order to render the data.\n   *\n   * @param {BaseShape} ctor - The constructor of the shape to be used.\n   * @param {Object} [accessors={}] - Defines how the shape should adapt to a particular data struture.\n   * @param {Object} [options={}] - Global configuration for the shapes, is specific to each `Shape`.\n   */\n  configureShape(ctor, accessors = {}, options = {}) {\n    this._shapeConfiguration = { ctor, accessors, options };\n  }\n\n  /**\n   * Optionally register a shape to be used across the entire collection.\n   *\n   * @param {BaseShape} ctor - The constructor of the shape to be used.\n   * @param {Object} [accessors={}] - Defines how the shape should adapt to a particular data struture.\n   * @param {Object} [options={}] - Global configuration for the shapes, is specific to each `Shape`.\n   */\n  configureCommonShape(ctor, accessors = {}, options = {}) {\n    this._commonShapeConfiguration = { ctor, accessors, options };\n  }\n\n  /**\n   * Register the behavior to use when interacting with a shape.\n   *\n   * @param {BaseBehavior} behavior\n   */\n  setBehavior(behavior) {\n    behavior.initialize(this);\n    this._behavior = behavior;\n  }\n\n  /**\n   * Updates the values stored in the `_renderingContext` passed  to shapes\n   * for rendering and updating.\n   */\n  _updateRenderingContext() {\n\n    // PLAN\n    //\n    // The time context structures stay the same. They continue to map\n    // time in seconds onto an absolute pixel axis that starts at\n    // pixel 0 == time 0 and pixel N == time (N / pixels-per-second).\n    //\n    // The rendering context, on the other hand, has pixel 0 at the\n    // left edge of the visible area, so that the rendered SVG has\n    // width (in its coordinate scheme) equal to the visible area. We\n    // always resituate ourselves there so as to avoid extremely large\n    // SVG coordinates when both zoomed in a long way and scrolled a\n    // long way to the right, as browser renderers generally seem to\n    // blow up when presented with coords above 2^24 or so.\n    // \n    // To arrange pixel 0 at the left edge, we need to ensure that the\n    // time-to-pixel mapping places time 0 at pixel -minX where minX\n    // is the time context's timeToPixel mapping of the sum of all\n    // applicable time offsets.\n    \n    const layerStartTime = this.timeContext.start;\n    const layerOffsetTime = this.timeContext.offset;\n    const trackOffsetTime = this.timeContext.parent.offset;\n\n    const layerOriginTime = trackOffsetTime + layerStartTime;\n\n    const viewStartTime = -layerOriginTime - layerOffsetTime;\n    \n    this._renderingContext.timeToPixel = scales.linear()\n      .domain([viewStartTime, viewStartTime + 1])\n      .range([0, this.timeContext.timeToPixel(1)]);\n    \n    this._renderingContext.minX = 0;\n\n    this._renderingContext.visibleWidth = this.timeContext.parent.visibleWidth;\n    this._renderingContext.width = this._renderingContext.visibleWidth;\n    this._renderingContext.maxX = this._renderingContext.visibleWidth;\n    \n    this._renderingContext.height = this.params.height;\n    this._renderingContext.valueToPixel = this._valueToPixel;\n\n    console.log(\"Rendering context: width = \" + this._renderingContext.width + \", visibleWidth = \" + this._renderingContext.visibleWidth + \", minX = \" + this._renderingContext.minX + \" (time = \" + this._renderingContext.timeToPixel.invert(this._renderingContext.minX) + \"), maxX = \" + this._renderingContext.maxX + \" (time = \" + this._renderingContext.timeToPixel.invert(this._renderingContext.maxX) + \")\");\n  }\n\n  // --------------------------------------\n  // Behavior Accessors\n  // --------------------------------------\n\n  /**\n   * Returns the items marked as selected.\n   *\n   * @type {Array<Element>}\n   */\n  get selectedItems() {\n    return this._behavior ? this._behavior.selectedItems : [];\n  }\n\n  /**\n   * Mark item(s) as selected.\n   *\n   * @param {Element|Element[]} $items\n   */\n  select(...$items) {\n    if (!this._behavior) { return; }\n    if (!$items.length) { $items = this._$itemDataMap.keys(); }\n    if (Array.isArray($items[0])) { $items = $items[0]; }\n\n    for (let $item of $items) {\n      const datum = this._$itemDataMap.get($item);\n      this._behavior.select($item, datum);\n      this._toFront($item);\n    }\n  }\n\n  /**\n   * Removes item(s) from selected items.\n   *\n   * @param {Element|Element[]} $items\n   */\n  unselect(...$items) {\n    if (!this._behavior) { return; }\n    if (!$items.length) { $items = this._$itemDataMap.keys(); }\n    if (Array.isArray($items[0])) { $items = $items[0]; }\n\n    for (let $item of $items) {\n      const datum = this._$itemDataMap.get($item);\n      this._behavior.unselect($item, datum);\n    }\n  }\n\n  /**\n   * Toggle item(s) selection state according to their current state.\n   *\n   * @param {Element|Element[]} $items\n   */\n  toggleSelection(...$items) {\n    if (!this._behavior) { return; }\n    if (!$items.length) { $items = this._$itemDataMap.keys(); }\n    if (Array.isArray($items[0])) { $items = $items[0]; }\n\n    for (let $item of $items) {\n      const datum = this._$itemDataMap.get($item);\n      this._behavior.toggleSelection($item, datum);\n    }\n  }\n\n  /**\n   * Edit item(s) according to the `edit` defined in the registered `Behavior`.\n   *\n   * @param {Element|Element[]} $items - The item(s) to edit.\n   * @param {Number} dx - The modification to apply in the x axis (in pixels).\n   * @param {Number} dy - The modification to apply in the y axis (in pixels).\n   * @param {Element} $target - The target of the interaction (for example, left\n   *    handler DOM element in a segment).\n   */\n  edit($items, dx, dy, $target) {\n    if (!this._behavior) { return; }\n    $items = !Array.isArray($items) ? [$items] : $items;\n\n    for (let $item of $items) {\n      const shape = this._$itemShapeMap.get($item);\n      const datum = this._$itemDataMap.get($item);\n\n      this._behavior.edit(this._renderingContext, shape, datum, dx, dy, $target);\n      this.emit('edit', shape, datum);\n    }\n  }\n\n  /**\n   * Defines if the `Layer`, and thus the `LayerTimeContext` is editable or not.\n   *\n   * @params {Boolean} [bool=true]\n   */\n  setContextEditable(bool = true) {\n    const display = bool ? 'block' : 'none';\n    this.$interactions.style.display = display;\n    this._isContextEditable = bool;\n  }\n\n  /**\n   * Edit the layer and thus its related `LayerTimeContext` attributes.\n   *\n   * @param {Number} dx - The modification to apply in the x axis (in pixels).\n   * @param {Number} dy - The modification to apply in the y axis (in pixels).\n   * @param {Element} $target - The target of the event of the interaction.\n   */\n  editContext(dx, dy, $target) {\n    timeContextBehavior.edit(this, dx, dy, $target);\n  }\n\n  /**\n   * Stretch the layer and thus its related `LayerTimeContext` attributes.\n   *\n   * @param {Number} dx - The modification to apply in the x axis (in pixels).\n   * @param {Number} dy - The modification to apply in the y axis (in pixels).\n   * @param {Element} $target - The target of the event of the interaction.\n   */\n  stretchContext(dx, dy, $target) {\n    timeContextBehavior.stretch(this, dx, dy, $target);\n  }\n\n  // --------------------------------------\n  // Helpers\n  // --------------------------------------\n\n  /**\n   * Returns an item from a DOM element related to the shape, null otherwise.\n   *\n   * @param {Element} $el - the element to be tested\n   * @return {Element|null}\n   */\n  getItemFromDOMElement($el) {\n    let $item;\n\n    do {\n      if ($el.classList && $el.classList.contains('item')) {\n        $item = $el;\n        break;\n      }\n\n      $el = $el.parentNode;\n    } while ($el !== null);\n\n    return this.hasItem($item) ? $item : null;\n  }\n\n  /**\n   * Returns the datum associated to a specific item.\n   *\n   * @param {Element} $item\n   * @return {Object|Array|null}\n   */\n  getDatumFromItem($item) {\n    const datum = this._$itemDataMap.get($item);\n    return datum ? datum : null;\n  }\n\n  /**\n   * Returns the datum associated to a specific item from any DOM element\n   * composing the shape. Basically a shortcut for `getItemFromDOMElement` and\n   * `getDatumFromItem` methods.\n   *\n   * @param {Element} $el\n   * @return {Object|Array|null}\n   */\n  getDatumFromDOMElement($el) {\n    var $item = this.getItemFromDOMElement($el);\n    if ($item === null) { return null; }\n    return this.getDatumFromItem($item);\n  }\n\n  /**\n   * Tests if the given DOM element is an item of the layer.\n   *\n   * @param {Element} $item - The item to be tested.\n   * @return {Boolean}\n   */\n  hasItem($item) {\n    return this._$itemDataMap.has($item);\n  }\n\n  /**\n   * Defines if a given element belongs to the layer. Is more general than\n   * `hasItem`, can mostly used to check interactions elements.\n   *\n   * @param {Element} $el - The DOM element to be tested.\n   * @return {bool}\n   */\n  hasElement($el) {\n    do {\n      if ($el === this.$el) {\n        return true;\n      }\n\n      $el = $el.parentNode;\n    } while ($el !== null);\n\n    return false;\n  }\n\n  /**\n   * Retrieve all the items in a given area as defined in the registered `Shape~inArea` method.\n   *\n   * @param {Object} area - The area (in viewport coordinate space) in which to find the elements\n   * @param {Number} area.top\n   * @param {Number} area.left\n   * @param {Number} area.width\n   * @param {Number} area.height\n   * @return {Array} - list of the items presents in the area\n   */\n  getItemsInArea(area) {\n\n    let x1 = area.left;\n    let x2 = area.left + area.width;\n\n    // keep consistent with context y coordinates system\n    let y1 = this.params.height - (area.top + area.height);\n    let y2 = this.params.height - area.top;\n\n    y1 += this.params.top;\n    y2 += this.params.top;\n\n    const $filteredItems = [];\n\n    for (let [$item, datum] of this._$itemDataMap.entries()) {\n      const shape = this._$itemShapeMap.get($item);\n      const inArea = shape.inArea(this._renderingContext, datum, x1, y1, x2, y2);\n\n      if (inArea) { $filteredItems.push($item); }\n    }\n\n    return $filteredItems;\n  }\n\n  // --------------------------------------\n  // Rendering / Display methods\n  // --------------------------------------\n\n  /**\n   * Moves an item to the end of the layer to display it front of its\n   * siblings (svg z-index...).\n   *\n   * @param {Element} $item - The item to be moved.\n   */\n  _toFront($item) {\n    this.$maingroup.appendChild($item);\n  }\n\n  /**\n   * Create the DOM structure of the shapes according to the given data. Inspired\n   * from the `enter` and `exit` d3.js paradigm, this method should be called\n   * each time a datum is added or removed from the data. While the DOM is\n   * created the `update` method must be called in order to update the shapes\n   * attributes and thus place them where they should.\n   */\n  render() {\n\n    const before = performance.now();\n    \n    // render `commonShape` only once\n    if (\n      this._commonShapeConfiguration !== null &&\n      this._$itemCommonShapeMap.size === 0\n    ) {\n      const { ctor, accessors, options } = this._commonShapeConfiguration;\n      const $group = document.createElementNS(ns, 'g');\n      const shape = new ctor(options);\n\n      shape.install(accessors);\n      $group.appendChild(shape.render());\n      $group.classList.add('item', 'common', shape.getClassName());\n\n      this._$itemCommonShapeMap.set($group, shape);\n      this.$maingroup.appendChild($group);\n    }\n\n    // append elements all at once\n    const fragment = document.createDocumentFragment();\n    const values = this._$itemDataMap.values(); // iterator\n\n    // enter\n    if (this._shapeConfiguration !== null) {\n      this.data.forEach((datum) => {\n        for (let value of values) { if (value === datum) { return; } }\n\n        const { ctor, accessors, options } = this._shapeConfiguration;\n        const shape = new ctor(options);\n        shape.install(accessors);\n\n        const $el = shape.render(this._renderingContext);\n        $el.classList.add('item', shape.getClassName());\n\n        this._$itemShapeMap.set($el, shape);\n        this._$itemDataMap.set($el, datum);\n\n        fragment.appendChild($el);\n      });\n\n      this.$maingroup.appendChild(fragment);\n    }\n\n    // remove\n    for (let [$item, datum] of this._$itemDataMap.entries()) {\n      if (this.data.indexOf(datum) !== -1) { continue; }\n\n      const shape = this._$itemShapeMap.get($item);\n\n      this.$maingroup.removeChild($item);\n      shape.destroy();\n      // a removed item cannot be selected\n      if (this._behavior) {\n        this._behavior.unselect($item, datum);\n      }\n\n      this._$itemDataMap.delete($item);\n      this._$itemShapeMap.delete($item);\n    }\n\n    const after = performance.now();\n    console.log(\"layer render time = \" + Math.round(after - before));\n  }\n\n  /**\n   * Updates the container of the layer and the attributes of the existing shapes.\n   */\n  update() {\n    console.log(\"layer update called\");\n    \n    this._updateContainer();\n    this._updateShapes();\n  }\n\n  /**\n   * Updates the container of the layer.\n   */\n  _updateContainer() {\n    this._updateRenderingContext();\n\n    const timeContext = this.timeContext;\n\n    let width = this._renderingContext.timeToPixel(this.timeContext.duration);\n    if (width > this._renderingContext.visibleWidth) {\n      width = this._renderingContext.visibleWidth;\n    }\n    \n    const top = this.params.top;\n    const height = this.params.height;\n    \n    // matrix to invert the coordinate system\n    const translateMatrix = `matrix(1, 0, 0, -1, 0, ${top + height})`;\n\n    this.$el.setAttributeNS(null, 'transform', translateMatrix);\n\n    this.$boundingBox.setAttributeNS(null, 'width', width);\n    this.$boundingBox.setAttributeNS(null, 'height', height);\n    this.$boundingBox.style.opacity = this.params.opacity;\n\n    // maintain context shape\n    this.contextShape.update(this._renderingContext, this.timeContext, 0);\n  }\n\n  _encacheEntity() {\n\n    if (this.dataType !== 'entity') return;\n    if (this._cached) return;\n    if (this._data === []) return;\n    \n    let origData = this._data[0];\n\n    for (let [$item, datum] of this._$itemDataMap.entries()) {\n      if (datum === origData) {\n        const shape = this._$itemShapeMap.get($item);\n        const cache = shape.encache(datum);\n\tif (cache) {\n\t  console.log(\"replacing our entity data with cached value\");\n\t  this._$itemDataMap.set($item, cache);\n          if (typeof(origData.dispose) !== 'undefined') {\n            console.log(\"and calling dispose on entity data\");\n            origData.dispose();\n          }\n\t  this.data = cache;\n\t}\n      }\n    }\n\n    this._cached = true;\n  }\n  \n  /**\n   * Updates the attributes of all the `Shape` instances rendered into the layer.\n   */\n  _updateShapes() {\n\n    console.log(\"layer updateShapes called\");\n    \n    const before = performance.now();\n    \n    this._updateRenderingContext();\n\n    this._encacheEntity();\n    \n    // Update common shape, if any\n    this._$itemCommonShapeMap.forEach((shape, $item) => {\n      shape.update(this._renderingContext, this.data);\n    });\n\n    console.log(\"item data map contains \" + this._$itemDataMap.size + \" entries\");\n    \n    // Update specific shapes\n    for (let [$item, datum] of this._$itemDataMap.entries()) {\n      const shape = this._$itemShapeMap.get($item);\n      shape.update(this._renderingContext, datum);\n    }\n\n    const after = performance.now();\n    console.log(\"layer update time = \" + Math.round(after - before));\n  }\n\n  describe(x) {\n    for (let [$item, datum] of this._$itemDataMap.entries()) {\n      const shape = this._$itemShapeMap.get($item);\n      const description = shape.describe(datum, x);\n      if (description !== null) {\n        return description;\n      }\n    }\n  }\n}\n",
    "static": true,
    "longname": "src/core/layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 96,
    "kind": "variable",
    "name": "timeContextBehavior",
    "memberof": "src/core/layer.js",
    "static": true,
    "longname": "src/core/layer.js~timeContextBehavior",
    "access": null,
    "export": false,
    "importPath": "waves-ui-piper/src/core/layer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 97,
    "kind": "variable",
    "name": "timeContextBehaviorCtor",
    "memberof": "src/core/layer.js",
    "static": true,
    "longname": "src/core/layer.js~timeContextBehaviorCtor",
    "access": null,
    "export": false,
    "importPath": "waves-ui-piper/src/core/layer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 98,
    "kind": "class",
    "name": "Layer",
    "memberof": "src/core/layer.js",
    "static": true,
    "longname": "src/core/layer.js~Layer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/core/layer.js",
    "importStyle": "Layer",
    "description": "The layer class is the main visualization class. It is mainly defines by its\nrelated `LayerTimeContext` which determines its position in the overall\ntimeline (through the `start`, `duration`, `offset` and `stretchRatio`\nattributes) and by it's registered Shape which defines how to display the\ndata associated to the layer. Each created layer must be inserted into a\n`Track` instance in order to be displayed.\n\n_Note: in the context of the layer, an __item__ is the SVG element\nreturned by a `Shape` instance and associated with a particular __datum__._\n\n### Layer DOM structure\n```\n<g class=\"layer\" transform=\"translate(${start}, 0)\">\n  <svg class=\"bounding-box\" width=\"${duration}\">\n    <g class=\"maingroup\">\n      <!-- background -->\n      <rect class=\"background\"></rect>\n      <!-- shapes and common shapes are inserted here -->\n    </g>\n    <g class=\"interactions\"><!-- for feedback --></g>\n  </svg>\n</g>\n```",
    "lineNumber": 36,
    "interface": false,
    "extends": [
      "events~events.EventEmitter"
    ]
  },
  {
    "__docId__": 99,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 58,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "dataType",
        "description": "Defines how the layer should look at the data.\n   Can be 'entity' or 'collection'."
      },
      {
        "nullable": null,
        "types": [
          "Array",
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data associated to the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Configures the layer."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "100",
        "defaultRaw": 100,
        "name": "options.height",
        "description": "Defines the height of the layer."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "0",
        "defaultRaw": 0,
        "name": "options.top",
        "description": "Defines the top position of the layer."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "1",
        "defaultRaw": 1,
        "name": "options.opacity",
        "description": "Defines the opacity of the layer."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[0,1]",
        "defaultRaw": [
          0,
          1
        ],
        "name": "options.yDomain",
        "description": "Defines boundaries of the data\n   values in y axis (for exemple to display an audio buffer, this attribute\n   should be set to [-1, 1]."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "null",
        "defaultRaw": null,
        "name": "options.className",
        "description": "An optionnal class to add to each\n   created shape."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'selected'",
        "defaultRaw": "'selected'",
        "name": "options.className",
        "description": "The class to add to a shape\n   when selected."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "2",
        "defaultRaw": 2,
        "name": "options.contextHandlerWidth",
        "description": "The width of the handlers\n   displayed to edit the layer."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "options.hittable",
        "description": "Defines if the layer can be interacted\n   with. Basically, the layer is not returned by `BaseState.getHitLayers` when\n   set to false (a common use case is a layer that contains a cursor)"
      }
    ]
  },
  {
    "__docId__": 100,
    "kind": "member",
    "name": "params",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#params",
    "access": null,
    "description": "Parameters of the layers, `defaults` overrided with options.",
    "lineNumber": 78,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 101,
    "kind": "member",
    "name": "dataType",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#dataType",
    "access": null,
    "description": "Defines how the layer should look at the data (`'entity'` or `'collection'`).",
    "lineNumber": 83,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 102,
    "kind": "member",
    "name": "timeContext",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#timeContext",
    "access": null,
    "description": null,
    "lineNumber": 85,
    "type": {
      "nullable": null,
      "types": [
        "LayerTimeContext"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 103,
    "kind": "member",
    "name": "$el",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$el",
    "access": null,
    "description": null,
    "lineNumber": 87,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 104,
    "kind": "member",
    "name": "$background",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$background",
    "access": null,
    "description": null,
    "lineNumber": 89,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 105,
    "kind": "member",
    "name": "$boundingBox",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$boundingBox",
    "access": null,
    "description": null,
    "lineNumber": 91,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 106,
    "kind": "member",
    "name": "$maingroup",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$maingroup",
    "access": null,
    "description": null,
    "lineNumber": 93,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 107,
    "kind": "member",
    "name": "$interactions",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$interactions",
    "access": null,
    "description": null,
    "lineNumber": 95,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 108,
    "kind": "member",
    "name": "contextShape",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#contextShape",
    "access": null,
    "description": "A Segment instanciated to interact with the Layer itself.",
    "lineNumber": 100,
    "type": {
      "nullable": null,
      "types": [
        "Segment"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 109,
    "kind": "member",
    "name": "_shapeConfiguration",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_shapeConfiguration",
    "access": null,
    "description": null,
    "lineNumber": 102,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 110,
    "kind": "member",
    "name": "_commonShapeConfiguration",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_commonShapeConfiguration",
    "access": null,
    "description": null,
    "lineNumber": 103,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 111,
    "kind": "member",
    "name": "_$itemShapeMap",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_$itemShapeMap",
    "access": null,
    "description": null,
    "lineNumber": 104,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 112,
    "kind": "member",
    "name": "_$itemDataMap",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_$itemDataMap",
    "access": null,
    "description": null,
    "lineNumber": 105,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 113,
    "kind": "member",
    "name": "_$itemCommonShapeMap",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_$itemCommonShapeMap",
    "access": null,
    "description": null,
    "lineNumber": 106,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 114,
    "kind": "member",
    "name": "_isContextEditable",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_isContextEditable",
    "access": null,
    "description": null,
    "lineNumber": 108,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 115,
    "kind": "member",
    "name": "_behavior",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_behavior",
    "access": null,
    "description": null,
    "lineNumber": 109,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 116,
    "kind": "member",
    "name": "data",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#data",
    "access": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 117,
    "kind": "member",
    "name": "_valueToPixel",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_valueToPixel",
    "access": null,
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 118,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#destroy",
    "access": null,
    "description": "Destroy the layer, clear all references.",
    "lineNumber": 128,
    "params": []
  },
  {
    "__docId__": 119,
    "kind": "member",
    "name": "timeContext",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#timeContext",
    "access": null,
    "description": null,
    "lineNumber": 136,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 120,
    "kind": "member",
    "name": "data",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#data",
    "access": null,
    "description": null,
    "lineNumber": 137,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 121,
    "kind": "member",
    "name": "params",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#params",
    "access": null,
    "description": null,
    "lineNumber": 138,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 122,
    "kind": "member",
    "name": "_behavior",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_behavior",
    "access": null,
    "description": null,
    "lineNumber": 139,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 123,
    "kind": "method",
    "name": "configureTimeContextBehavior",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/core/layer.js~Layer.configureTimeContextBehavior",
    "access": null,
    "description": "Allows to override default the `TimeContextBehavior` used to edit the layer.",
    "lineNumber": 153,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctor",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 124,
    "kind": "get",
    "name": "start",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#start",
    "access": null,
    "description": "Returns `LayerTimeContext`'s `start` time domain value.",
    "lineNumber": 162,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 125,
    "kind": "set",
    "name": "start",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#start",
    "access": null,
    "description": "Sets `LayerTimeContext`'s `start` time domain value.",
    "lineNumber": 171,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 126,
    "kind": "get",
    "name": "offset",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#offset",
    "access": null,
    "description": "Returns `LayerTimeContext`'s `offset` time domain value.",
    "lineNumber": 180,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 127,
    "kind": "set",
    "name": "offset",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#offset",
    "access": null,
    "description": "Sets `LayerTimeContext`'s `offset` time domain value.",
    "lineNumber": 189,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 128,
    "kind": "get",
    "name": "duration",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#duration",
    "access": null,
    "description": "Returns `LayerTimeContext`'s `duration` time domain value.",
    "lineNumber": 198,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 129,
    "kind": "set",
    "name": "duration",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#duration",
    "access": null,
    "description": "Sets `LayerTimeContext`'s `duration` time domain value.",
    "lineNumber": 207,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 130,
    "kind": "get",
    "name": "stretchRatio",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#stretchRatio",
    "access": null,
    "description": "Returns `LayerTimeContext`'s `stretchRatio` time domain value.",
    "lineNumber": 216,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 131,
    "kind": "set",
    "name": "stretchRatio",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#stretchRatio",
    "access": null,
    "description": "Sets `LayerTimeContext`'s `stretchRatio` time domain value.",
    "lineNumber": 225,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 132,
    "kind": "set",
    "name": "yDomain",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#yDomain",
    "access": null,
    "description": "Set the domain boundaries of the data for the y axis.",
    "lineNumber": 234,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 133,
    "kind": "get",
    "name": "yDomain",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#yDomain",
    "access": null,
    "description": "Returns the domain boundaries of the data for the y axis.",
    "lineNumber": 244,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 134,
    "kind": "set",
    "name": "opacity",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#opacity",
    "access": null,
    "description": "Sets the opacity of the whole layer.",
    "lineNumber": 253,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 135,
    "kind": "get",
    "name": "opacity",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#opacity",
    "access": null,
    "description": "Returns the opacity of the whole layer.",
    "lineNumber": 262,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 136,
    "kind": "get",
    "name": "timeToPixel",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#timeToPixel",
    "access": null,
    "description": "Returns the transfert function used to display the data in the x axis.",
    "lineNumber": 271,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 137,
    "kind": "get",
    "name": "valueToPixel",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#valueToPixel",
    "access": null,
    "description": "Returns the transfert function used to display the data in the y axis.",
    "lineNumber": 280,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 138,
    "kind": "get",
    "name": "items",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#items",
    "access": null,
    "description": "Returns an array containing all the displayed items.",
    "lineNumber": 289,
    "type": {
      "nullable": null,
      "types": [
        "Array<Element>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 139,
    "kind": "get",
    "name": "data",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#data",
    "access": null,
    "description": "Returns the data associated to the layer.",
    "lineNumber": 298,
    "type": {
      "nullable": null,
      "types": [
        "Object[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 140,
    "kind": "set",
    "name": "data",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#data",
    "access": null,
    "description": "Sets the data associated with the layer.",
    "lineNumber": 305,
    "type": {
      "nullable": null,
      "types": [
        "Object",
        "Object[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 141,
    "kind": "member",
    "name": "_data",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_data",
    "access": null,
    "description": null,
    "lineNumber": 311,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 142,
    "kind": "member",
    "name": "_data",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_data",
    "access": null,
    "description": null,
    "lineNumber": 315,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 143,
    "kind": "member",
    "name": "_cached",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_cached",
    "access": null,
    "description": null,
    "lineNumber": 318,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 144,
    "kind": "method",
    "name": "_renderContainer",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#_renderContainer",
    "access": null,
    "description": "Renders the DOM in memory on layer creation to be able to use it before\nthe layer is actually inserted in the DOM.",
    "lineNumber": 329,
    "params": []
  },
  {
    "__docId__": 145,
    "kind": "member",
    "name": "$el",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$el",
    "access": null,
    "description": null,
    "lineNumber": 331,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 146,
    "kind": "member",
    "name": "$boundingBox",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$boundingBox",
    "access": null,
    "description": null,
    "lineNumber": 337,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 147,
    "kind": "member",
    "name": "$maingroup",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$maingroup",
    "access": null,
    "description": null,
    "lineNumber": 341,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 148,
    "kind": "member",
    "name": "$background",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$background",
    "access": null,
    "description": null,
    "lineNumber": 344,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 149,
    "kind": "member",
    "name": "$interactions",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#$interactions",
    "access": null,
    "description": null,
    "lineNumber": 351,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 150,
    "kind": "member",
    "name": "contextShape",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#contextShape",
    "access": null,
    "description": null,
    "lineNumber": 355,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 151,
    "kind": "method",
    "name": "setTimeContext",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#setTimeContext",
    "access": null,
    "description": "Sets the context of the layer, thus defining its `start`, `duration`,\n`offset` and `stretchRatio`.",
    "lineNumber": 382,
    "params": [
      {
        "nullable": null,
        "types": [
          "TimeContext"
        ],
        "spread": false,
        "optional": false,
        "name": "timeContext",
        "description": "The timeContext in which the layer is displayed."
      }
    ]
  },
  {
    "__docId__": 152,
    "kind": "member",
    "name": "timeContext",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#timeContext",
    "access": null,
    "description": null,
    "lineNumber": 383,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 153,
    "kind": "member",
    "name": "_renderingContext",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_renderingContext",
    "access": null,
    "description": null,
    "lineNumber": 385,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 154,
    "kind": "method",
    "name": "configureShape",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#configureShape",
    "access": null,
    "description": "Register a shape and its configuration to use in order to render the data.",
    "lineNumber": 396,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseShape"
        ],
        "spread": false,
        "optional": false,
        "name": "ctor",
        "description": "The constructor of the shape to be used."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "accessors",
        "description": "Defines how the shape should adapt to a particular data struture."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Global configuration for the shapes, is specific to each `Shape`."
      }
    ]
  },
  {
    "__docId__": 155,
    "kind": "member",
    "name": "_shapeConfiguration",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_shapeConfiguration",
    "access": null,
    "description": null,
    "lineNumber": 397,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{\"ctor\": *, \"accessors\": *, \"options\": *}"
      ]
    }
  },
  {
    "__docId__": 156,
    "kind": "method",
    "name": "configureCommonShape",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#configureCommonShape",
    "access": null,
    "description": "Optionally register a shape to be used across the entire collection.",
    "lineNumber": 407,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseShape"
        ],
        "spread": false,
        "optional": false,
        "name": "ctor",
        "description": "The constructor of the shape to be used."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "accessors",
        "description": "Defines how the shape should adapt to a particular data struture."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Global configuration for the shapes, is specific to each `Shape`."
      }
    ]
  },
  {
    "__docId__": 157,
    "kind": "member",
    "name": "_commonShapeConfiguration",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_commonShapeConfiguration",
    "access": null,
    "description": null,
    "lineNumber": 408,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{\"ctor\": *, \"accessors\": *, \"options\": *}"
      ]
    }
  },
  {
    "__docId__": 158,
    "kind": "method",
    "name": "setBehavior",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#setBehavior",
    "access": null,
    "description": "Register the behavior to use when interacting with a shape.",
    "lineNumber": 416,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseBehavior"
        ],
        "spread": false,
        "optional": false,
        "name": "behavior",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 159,
    "kind": "member",
    "name": "_behavior",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_behavior",
    "access": null,
    "description": null,
    "lineNumber": 418,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 160,
    "kind": "method",
    "name": "_updateRenderingContext",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#_updateRenderingContext",
    "access": null,
    "description": "Updates the values stored in the `_renderingContext` passed  to shapes\nfor rendering and updating.",
    "lineNumber": 425,
    "params": []
  },
  {
    "__docId__": 161,
    "kind": "get",
    "name": "selectedItems",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#selectedItems",
    "access": null,
    "description": "Returns the items marked as selected.",
    "lineNumber": 479,
    "type": {
      "nullable": null,
      "types": [
        "Array<Element>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 162,
    "kind": "method",
    "name": "select",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#select",
    "access": null,
    "description": "Mark item(s) as selected.",
    "lineNumber": 488,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element",
          "Element[]"
        ],
        "spread": false,
        "optional": false,
        "name": "$items",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 163,
    "kind": "method",
    "name": "unselect",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#unselect",
    "access": null,
    "description": "Removes item(s) from selected items.",
    "lineNumber": 505,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element",
          "Element[]"
        ],
        "spread": false,
        "optional": false,
        "name": "$items",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 164,
    "kind": "method",
    "name": "toggleSelection",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#toggleSelection",
    "access": null,
    "description": "Toggle item(s) selection state according to their current state.",
    "lineNumber": 521,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element",
          "Element[]"
        ],
        "spread": false,
        "optional": false,
        "name": "$items",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 165,
    "kind": "method",
    "name": "edit",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#edit",
    "access": null,
    "description": "Edit item(s) according to the `edit` defined in the registered `Behavior`.",
    "lineNumber": 541,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element",
          "Element[]"
        ],
        "spread": false,
        "optional": false,
        "name": "$items",
        "description": "The item(s) to edit."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dx",
        "description": "The modification to apply in the x axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dy",
        "description": "The modification to apply in the y axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$target",
        "description": "The target of the interaction (for example, left\n   handler DOM element in a segment)."
      }
    ]
  },
  {
    "__docId__": 166,
    "kind": "method",
    "name": "setContextEditable",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#setContextEditable",
    "access": null,
    "description": "Defines if the `Layer`, and thus the `LayerTimeContext` is editable or not.",
    "lineNumber": 559,
    "unknown": [
      {
        "tagName": "@params",
        "tagValue": "{Boolean} [bool=true]"
      }
    ],
    "params": [
      {
        "name": "bool",
        "optional": true,
        "types": [
          "boolean"
        ],
        "defaultRaw": true,
        "defaultValue": "true"
      }
    ]
  },
  {
    "__docId__": 167,
    "kind": "member",
    "name": "_isContextEditable",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_isContextEditable",
    "access": null,
    "description": null,
    "lineNumber": 562,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 168,
    "kind": "method",
    "name": "editContext",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#editContext",
    "access": null,
    "description": "Edit the layer and thus its related `LayerTimeContext` attributes.",
    "lineNumber": 572,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dx",
        "description": "The modification to apply in the x axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dy",
        "description": "The modification to apply in the y axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$target",
        "description": "The target of the event of the interaction."
      }
    ]
  },
  {
    "__docId__": 169,
    "kind": "method",
    "name": "stretchContext",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#stretchContext",
    "access": null,
    "description": "Stretch the layer and thus its related `LayerTimeContext` attributes.",
    "lineNumber": 583,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dx",
        "description": "The modification to apply in the x axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "dy",
        "description": "The modification to apply in the y axis (in pixels)."
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$target",
        "description": "The target of the event of the interaction."
      }
    ]
  },
  {
    "__docId__": 170,
    "kind": "method",
    "name": "getItemFromDOMElement",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#getItemFromDOMElement",
    "access": null,
    "description": "Returns an item from a DOM element related to the shape, null otherwise.",
    "lineNumber": 597,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": "the element to be tested"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Element",
        "null"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 171,
    "kind": "method",
    "name": "getDatumFromItem",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#getDatumFromItem",
    "access": null,
    "description": "Returns the datum associated to a specific item.",
    "lineNumber": 618,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$item",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object",
        "Array",
        "null"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 172,
    "kind": "method",
    "name": "getDatumFromDOMElement",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#getDatumFromDOMElement",
    "access": null,
    "description": "Returns the datum associated to a specific item from any DOM element\ncomposing the shape. Basically a shortcut for `getItemFromDOMElement` and\n`getDatumFromItem` methods.",
    "lineNumber": 631,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object",
        "Array",
        "null"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 173,
    "kind": "method",
    "name": "hasItem",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#hasItem",
    "access": null,
    "description": "Tests if the given DOM element is an item of the layer.",
    "lineNumber": 643,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$item",
        "description": "The item to be tested."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 174,
    "kind": "method",
    "name": "hasElement",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#hasElement",
    "access": null,
    "description": "Defines if a given element belongs to the layer. Is more general than\n`hasItem`, can mostly used to check interactions elements.",
    "lineNumber": 654,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": "The DOM element to be tested."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "bool"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 175,
    "kind": "method",
    "name": "getItemsInArea",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#getItemsInArea",
    "access": null,
    "description": "Retrieve all the items in a given area as defined in the registered `Shape~inArea` method.",
    "lineNumber": 676,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "area",
        "description": "The area (in viewport coordinate space) in which to find the elements"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "area.top",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "area.left",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "area.width",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "area.height",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "list of the items presents in the area"
    }
  },
  {
    "__docId__": 176,
    "kind": "method",
    "name": "_toFront",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#_toFront",
    "access": null,
    "description": "Moves an item to the end of the layer to display it front of its\nsiblings (svg z-index...).",
    "lineNumber": 710,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$item",
        "description": "The item to be moved."
      }
    ]
  },
  {
    "__docId__": 177,
    "kind": "method",
    "name": "render",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#render",
    "access": null,
    "description": "Create the DOM structure of the shapes according to the given data. Inspired\nfrom the `enter` and `exit` d3.js paradigm, this method should be called\neach time a datum is added or removed from the data. While the DOM is\ncreated the `update` method must be called in order to update the shapes\nattributes and thus place them where they should.",
    "lineNumber": 721,
    "params": []
  },
  {
    "__docId__": 178,
    "kind": "method",
    "name": "update",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#update",
    "access": null,
    "description": "Updates the container of the layer and the attributes of the existing shapes.",
    "lineNumber": 791,
    "params": []
  },
  {
    "__docId__": 179,
    "kind": "method",
    "name": "_updateContainer",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#_updateContainer",
    "access": null,
    "description": "Updates the container of the layer.",
    "lineNumber": 801,
    "params": []
  },
  {
    "__docId__": 180,
    "kind": "method",
    "name": "_encacheEntity",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#_encacheEntity",
    "access": null,
    "description": null,
    "lineNumber": 827,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 181,
    "kind": "member",
    "name": "data",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#data",
    "access": null,
    "description": null,
    "lineNumber": 846,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 182,
    "kind": "member",
    "name": "_cached",
    "memberof": "src/core/layer.js~Layer",
    "static": false,
    "longname": "src/core/layer.js~Layer#_cached",
    "access": null,
    "description": null,
    "lineNumber": 851,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 183,
    "kind": "method",
    "name": "_updateShapes",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#_updateShapes",
    "access": null,
    "description": "Updates the attributes of all the `Shape` instances rendered into the layer.",
    "lineNumber": 857,
    "params": []
  },
  {
    "__docId__": 184,
    "kind": "method",
    "name": "describe",
    "memberof": "src/core/layer.js~Layer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/layer.js~Layer#describe",
    "access": null,
    "description": null,
    "lineNumber": 884,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "x",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 185,
    "kind": "file",
    "name": "src/core/namespace.js",
    "content": "export default 'http://www.w3.org/2000/svg';\n",
    "static": true,
    "longname": "src/core/namespace.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 186,
    "kind": "file",
    "name": "src/core/timeline-time-context.js",
    "content": "import scales from '../utils/scales';\n\n\n/**\n * Defines and maintains global aspects of the visualization concerning the\n * relations between time and pixels.\n *\n * The `TimelineTimeContext` instance (unique across a visualization) keeps the\n * main reference on how many pixels should be used to represent one second\n * though its `timeToPixel` method. The attributes `zoom`, `offset` (i.e. from\n * origin) and `visibleWidth` allow for navigating in time and for maintaining\n * view consistency upon the DOM structure (`<svg>` and `<g>` tags) created by\n * the registered tracks.\n *\n * It also maintain an array of all references to `LayerTimeContext` instances\n * to propagate to `layers`, changes made on the time to pixel representation.\n *\n * [example usage](./examples/time-contexts.html)\n */\nexport default class TimelineTimeContext {\n  /**\n   * @param {Number} pixelsPerSecond - The number of pixels that should be\n   *    used to display one second.\n   * @param {Number} visibleWidth - The default with of the visible area\n   *    displayed in `tracks` (in pixels).\n   */\n  constructor(pixelsPerSecond, visibleWidth) {\n    this._children = [];\n\n    this._timeToPixel = null;\n    this._offset = 0;\n    this._zoom = 1;\n    this._computedPixelsPerSecond = pixelsPerSecond;\n    // params\n    this._visibleWidth = visibleWidth;\n    this._maintainVisibleDuration = false;\n\n    // create the timeToPixel scale\n    const scale = scales.linear()\n      .domain([0, 1])\n      .range([0, pixelsPerSecond]);\n\n    this._timeToPixel = scale;\n\n    this._originalPixelsPerSecond = this._computedPixelsPerSecond;\n  }\n\n  /**\n   * Returns the number of pixels per seconds ignoring the current zoom value.\n   *\n   * @type {Number}\n   */\n  get pixelsPerSecond() {\n    return this._originalPixelsPerSecond;\n  }\n\n  /**\n   * Updates all the caracteristics of this object according to the new\n   * given value of pixels per seconds. Propagates the changes to the\n   * `LayerTimeContext` children.\n   *\n   * @type {Number}\n   */\n  set pixelsPerSecond(value) {\n    this._computedPixelsPerSecond = value * this.zoom;\n    this._originalPixelsPerSecond = value;\n    this._updateTimeToPixelRange();\n\n    // force children scale update\n    this._children.forEach(function(child) {\n      if (child.stretchRatio === 1) { return; }\n      child.stretchRatio = child.stretchRatio;\n    });\n  }\n\n  /**\n   * Returns the number of pixels per seconds including the current zoom value.\n   *\n   * @type {Number}\n   */\n  get computedPixelsPerSecond() {\n    return this._computedPixelsPerSecond;\n  }\n\n  /**\n   * Returns the current offset applied to the registered `Track` instances\n   * from origin (in seconds).\n   *\n   * @type {Number}\n   */\n  get offset() {\n    return this._offset;\n  }\n\n  /**\n   * Sets the offset to apply to the registered `Track` instances from origin\n   * (in seconds).\n   *\n   * @type {Number}\n   */\n  set offset(value) {\n    this._offset = value;\n  }\n\n  /**\n   * Returns the current zoom level applied to the whole visualization.\n   *\n   * @type {Number}\n   */\n  get zoom() {\n    return this._zoom;\n  }\n\n  /**\n   * Sets the zoom ratio for the whole visualization.\n   *\n   * @type {Number}\n   */\n  set zoom(value) {\n    // Compute change to propagate to children who have their own timeToPixel\n    const ratioChange = value / this._zoom;\n    this._zoom = value;\n    this._computedPixelsPerSecond = this._originalPixelsPerSecond * value;\n    this._updateTimeToPixelRange();\n\n    this._children.forEach(function(child) {\n      if (child.stretchRatio === 1) { return; }\n      child.stretchRatio = child.stretchRatio * ratioChange;\n    });\n  }\n\n  /**\n   * Returns the visible width of the `Track` instances.\n   *\n   * @type {Number}\n   */\n  get visibleWidth() {\n    return this._visibleWidth;\n  }\n\n  /**\n   * Sets the visible width of the `Track` instances.\n   *\n   * @type {Number}\n   */\n  set visibleWidth(value) {\n    const widthRatio = value / this.visibleWidth;\n    this._visibleWidth = value;\n\n    if (this.maintainVisibleDuration) {\n      this.pixelsPerSecond = this._computedPixelsPerSecond * widthRatio;\n    }\n  }\n\n  /**\n   * Returns the duration displayed by `Track` instances.\n   *\n   * @type {Number}\n   */\n  get visibleDuration() {\n    return this.visibleWidth / this._computedPixelsPerSecond;\n  }\n\n  /**\n   * Returns if the duration displayed by tracks should be maintained when\n   * their width is updated.\n   *\n   * @type {Number}\n   */\n  get maintainVisibleDuration() {\n    return this._maintainVisibleDuration;\n  }\n\n  /**\n   * Defines if the duration displayed by tracks should be maintained when\n   * their width is updated.\n   *\n   * @type {Boolean}\n   */\n  set maintainVisibleDuration(bool) {\n    this._maintainVisibleDuration = bool;\n  }\n\n  /**\n   * Returns the time to pixel trasfert function.\n   *\n   * @type {Function}\n   */\n  get timeToPixel() {\n    return this._timeToPixel;\n  }\n\n  _updateTimeToPixelRange() {\n    this.timeToPixel.range([0, this._computedPixelsPerSecond]);\n  }\n}\n",
    "static": true,
    "longname": "src/core/timeline-time-context.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 187,
    "kind": "class",
    "name": "TimelineTimeContext",
    "memberof": "src/core/timeline-time-context.js",
    "static": true,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/core/timeline-time-context.js",
    "importStyle": "TimelineTimeContext",
    "description": "Defines and maintains global aspects of the visualization concerning the\nrelations between time and pixels.\n\nThe `TimelineTimeContext` instance (unique across a visualization) keeps the\nmain reference on how many pixels should be used to represent one second\nthough its `timeToPixel` method. The attributes `zoom`, `offset` (i.e. from\norigin) and `visibleWidth` allow for navigating in time and for maintaining\nview consistency upon the DOM structure (`<svg>` and `<g>` tags) created by\nthe registered tracks.\n\nIt also maintain an array of all references to `LayerTimeContext` instances\nto propagate to `layers`, changes made on the time to pixel representation.\n\n[example usage](./examples/time-contexts.html)",
    "lineNumber": 20,
    "interface": false
  },
  {
    "__docId__": 188,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#constructor",
    "access": null,
    "description": "",
    "lineNumber": 27,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "pixelsPerSecond",
        "description": "The number of pixels that should be\n   used to display one second."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "visibleWidth",
        "description": "The default with of the visible area\n   displayed in `tracks` (in pixels)."
      }
    ]
  },
  {
    "__docId__": 189,
    "kind": "member",
    "name": "_children",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_children",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 190,
    "kind": "member",
    "name": "_timeToPixel",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_timeToPixel",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 191,
    "kind": "member",
    "name": "_offset",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_offset",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 192,
    "kind": "member",
    "name": "_zoom",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_zoom",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 193,
    "kind": "member",
    "name": "_computedPixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_computedPixelsPerSecond",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 194,
    "kind": "member",
    "name": "_visibleWidth",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_visibleWidth",
    "access": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 195,
    "kind": "member",
    "name": "_maintainVisibleDuration",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_maintainVisibleDuration",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 196,
    "kind": "member",
    "name": "_timeToPixel",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_timeToPixel",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 197,
    "kind": "member",
    "name": "_originalPixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_originalPixelsPerSecond",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 198,
    "kind": "get",
    "name": "pixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#pixelsPerSecond",
    "access": null,
    "description": "Returns the number of pixels per seconds ignoring the current zoom value.",
    "lineNumber": 53,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 199,
    "kind": "set",
    "name": "pixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#pixelsPerSecond",
    "access": null,
    "description": "Updates all the caracteristics of this object according to the new\ngiven value of pixels per seconds. Propagates the changes to the\n`LayerTimeContext` children.",
    "lineNumber": 64,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 200,
    "kind": "member",
    "name": "_computedPixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_computedPixelsPerSecond",
    "access": null,
    "description": null,
    "lineNumber": 65,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 201,
    "kind": "member",
    "name": "_originalPixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_originalPixelsPerSecond",
    "access": null,
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 202,
    "kind": "get",
    "name": "computedPixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#computedPixelsPerSecond",
    "access": null,
    "description": "Returns the number of pixels per seconds including the current zoom value.",
    "lineNumber": 81,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 203,
    "kind": "get",
    "name": "offset",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#offset",
    "access": null,
    "description": "Returns the current offset applied to the registered `Track` instances\nfrom origin (in seconds).",
    "lineNumber": 91,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 204,
    "kind": "set",
    "name": "offset",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#offset",
    "access": null,
    "description": "Sets the offset to apply to the registered `Track` instances from origin\n(in seconds).",
    "lineNumber": 101,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 205,
    "kind": "member",
    "name": "_offset",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_offset",
    "access": null,
    "description": null,
    "lineNumber": 102,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 206,
    "kind": "get",
    "name": "zoom",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#zoom",
    "access": null,
    "description": "Returns the current zoom level applied to the whole visualization.",
    "lineNumber": 110,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 207,
    "kind": "set",
    "name": "zoom",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#zoom",
    "access": null,
    "description": "Sets the zoom ratio for the whole visualization.",
    "lineNumber": 119,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 208,
    "kind": "member",
    "name": "_zoom",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_zoom",
    "access": null,
    "description": null,
    "lineNumber": 122,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 209,
    "kind": "member",
    "name": "_computedPixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_computedPixelsPerSecond",
    "access": null,
    "description": null,
    "lineNumber": 123,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 210,
    "kind": "get",
    "name": "visibleWidth",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#visibleWidth",
    "access": null,
    "description": "Returns the visible width of the `Track` instances.",
    "lineNumber": 137,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 211,
    "kind": "set",
    "name": "visibleWidth",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#visibleWidth",
    "access": null,
    "description": "Sets the visible width of the `Track` instances.",
    "lineNumber": 146,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 212,
    "kind": "member",
    "name": "_visibleWidth",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_visibleWidth",
    "access": null,
    "description": null,
    "lineNumber": 148,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 213,
    "kind": "member",
    "name": "pixelsPerSecond",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#pixelsPerSecond",
    "access": null,
    "description": null,
    "lineNumber": 151,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 214,
    "kind": "get",
    "name": "visibleDuration",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#visibleDuration",
    "access": null,
    "description": "Returns the duration displayed by `Track` instances.",
    "lineNumber": 160,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 215,
    "kind": "get",
    "name": "maintainVisibleDuration",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#maintainVisibleDuration",
    "access": null,
    "description": "Returns if the duration displayed by tracks should be maintained when\ntheir width is updated.",
    "lineNumber": 170,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 216,
    "kind": "set",
    "name": "maintainVisibleDuration",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#maintainVisibleDuration",
    "access": null,
    "description": "Defines if the duration displayed by tracks should be maintained when\ntheir width is updated.",
    "lineNumber": 180,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 217,
    "kind": "member",
    "name": "_maintainVisibleDuration",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_maintainVisibleDuration",
    "access": null,
    "description": null,
    "lineNumber": 181,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 218,
    "kind": "get",
    "name": "timeToPixel",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#timeToPixel",
    "access": null,
    "description": "Returns the time to pixel trasfert function.",
    "lineNumber": 189,
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 219,
    "kind": "method",
    "name": "_updateTimeToPixelRange",
    "memberof": "src/core/timeline-time-context.js~TimelineTimeContext",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline-time-context.js~TimelineTimeContext#_updateTimeToPixelRange",
    "access": null,
    "description": null,
    "lineNumber": 193,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 220,
    "kind": "file",
    "name": "src/core/timeline.js",
    "content": "import events from 'events';\n\nimport Keyboard from '../interactions/keyboard';\nimport LayerTimeContext from './layer-time-context';\nimport Surface from '../interactions/surface';\nimport TimelineTimeContext from './timeline-time-context';\nimport Track from './track';\nimport TrackCollection from './track-collection';\n\n\n/**\n * Is the main entry point to create a temporal visualization.\n *\n * A `timeline` instance mainly provides the context for any visualization of\n * temporal data and maintains the hierarchy of `Track`, `Layer` and `Shape`\n * over the entiere visualisation.\n *\n * Its main responsabilites are:\n * - maintaining the temporal consistency accross the visualisation through\n *   its `timeContext` property (instance of `TimelineTimeContext`).\n * - handling interactions to its current state (acting here as a simple\n *   state machine).\n *\n * @TODO insert figure\n *\n * It also contains a reference to all the register track allowing to `render`\n * or `update` all the layer from a single entry point.\n *\n * ## Example Usage\n *\n * ```js\n * const visibleWidth = 500; // default width in pixels for all created `Track`\n * const duration = 10; // the visible area represents 10 seconds\n * const pixelsPerSeconds = visibleWidth / duration;\n * const timeline = new ui.core.Timeline(pixelsPerSecond, width);\n * ```\n */\nexport default class Timeline extends events.EventEmitter {\n  /**\n   * @param {Number} [pixelsPerSecond=100] - the default scaling between time and pixels.\n   * @param {Number} [visibleWidth=1000] - the default visible area for all registered tracks.\n   */\n  constructor(pixelsPerSecond = 100, visibleWidth = 1000, {\n    registerKeyboard = true\n  } = {}) {\n\n    super();\n\n    this._tracks = new TrackCollection(this);\n    this._state = null;\n\n    // default interactions\n    this._surfaceCtor = Surface;\n\n    if (registerKeyboard) {\n      this.createInteraction(Keyboard, document);\n    }\n\n    // stores\n    this._trackById = {};\n    this._groupedLayers = {};\n\n    /** @type {TimelineTimeContext} - master time context for the visualization. */\n    this.timeContext = new TimelineTimeContext(pixelsPerSecond, visibleWidth);\n  }\n\n  /**\n   * Returns `TimelineTimeContext`'s `offset` time domain value.\n   *\n   * @type {Number} [offset=0]\n   */\n  get offset() {\n    return this.timeContext.offset;\n  }\n\n  /**\n   * Updates `TimelineTimeContext`'s `offset` time domain value.\n   *\n   * @type {Number} [offset=0]\n   */\n  set offset(value) {\n    this.timeContext.offset = value;\n  }\n\n  /**\n   * Returns the `TimelineTimeContext`'s `zoom` value.\n   *\n   * @type {Number} [offset=0]\n   */\n  get zoom() {\n    return this.timeContext.zoom;\n  }\n\n  /**\n   * Updates the `TimelineTimeContext`'s `zoom` value.\n   *\n   * @type {Number} [offset=0]\n   */\n  set zoom(value) {\n    this.timeContext.zoom = value;\n  }\n\n  /**\n   * Returns the `TimelineTimeContext`'s `pixelsPerSecond` ratio.\n   *\n   * @type {Number} [offset=0]\n   */\n  get pixelsPerSecond() {\n    return this.timeContext.pixelsPerSecond;\n  }\n\n  /**\n   * Updates the `TimelineTimeContext`'s `pixelsPerSecond` ratio.\n   *\n   * @type {Number} [offset=0]\n   */\n  set pixelsPerSecond(value) {\n    this.timeContext.pixelsPerSecond = value;\n  }\n\n  /**\n   * Returns the `TimelineTimeContext`'s `visibleWidth` pixel domain value.\n   *\n   * @type {Number} [offset=0]\n   */\n  get visibleWidth() {\n    return this.timeContext.visibleWidth;\n  }\n\n  /**\n   * Updates the `TimelineTimeContext`'s `visibleWidth` pixel domain value.\n   *\n   * @type {Number} [offset=0]\n   */\n  set visibleWidth(value) {\n    this.timeContext.visibleWidth = value;\n  }\n\n  /**\n   * Returns `TimelineTimeContext`'s `timeToPixel` transfert function.\n   *\n   * @type {Function}\n   */\n  get timeToPixel() {\n    return this.timeContext.timeToPixel;\n  }\n\n  /**\n   * Returns `TimelineTimeContext`'s `visibleDuration` helper value.\n   *\n   * @type {Number}\n   */\n  get visibleDuration() {\n    return this.timeContext.visibleDuration;\n  }\n\n  /**\n   * Updates the `TimelineTimeContext`'s `maintainVisibleDuration` value.\n   * Defines if the duration of the visible area should be maintain when\n   * the `visibleWidth` attribute is updated.\n   *\n   * @type {Boolean}\n   */\n  set maintainVisibleDuration(bool) {\n    this.timeContext.maintainVisibleDuration = bool;\n  }\n\n  /**\n   * Returns `TimelineTimeContext`'s `maintainVisibleDuration` current value.\n   *\n   * @type {Boolean}\n   */\n  get maintainVisibleDuration() {\n    return this.timeContext.maintainVisibleDuration;\n  }\n\n  /**\n   * Object maintaining arrays of `Layer` instances ordered by their `groupId`.\n   * Is used internally by the `TrackCollection` instance.\n   *\n   * @type {Object}\n   */\n  get groupedLayers() {\n    return this._groupedLayers;\n  }\n\n  /**\n   * Overrides the default `Surface` that is instanciated on each `Track`\n   * instance. This methos should be called before adding any `Track` instance\n   * to the current `timeline`.\n   *\n   * @param {EventSource} ctor - The constructor to use in order to catch mouse\n   *    events on each `Track` instances.\n   */\n  configureSurface(ctor) {\n    this._surfaceCtor = ctor;\n  }\n\n  /**\n   * Factory method to add interaction modules the timeline should listen to.\n   * By default, the timeline instanciate a global `Keyboard` instance and a\n   * `Surface` instance on each container.\n   * Should be used to install new interactions implementing the `EventSource` interface.\n   *\n   * @param {EventSource} ctor - The contructor of the interaction module to instanciate.\n   * @param {Element} $el - The DOM element which will be binded to the `EventSource` module.\n   * @param {Object} [options={}] - Options to be applied to the `ctor`.\n   */\n  createInteraction(ctor, $el, options = {}) {\n    const interaction = new ctor($el, options);\n    interaction.on('event', (e) => this._handleEvent(e));\n  }\n\n  /**\n   * Returns a list of the layers situated under the position of a `WaveEvent`.\n   *\n   * @param {WavesEvent} e - An event triggered by a `WaveEvent`\n   * @return {Array} - Matched layers\n   */\n  getHitLayers(e) {\n    const clientX = e.originalEvent.clientX;\n    const clientY = e.originalEvent.clientY;\n    let layers = [];\n\n    this.layers.forEach((layer) => {\n      if (!layer.params.hittable) { return; }\n      const br = layer.$el.getBoundingClientRect();\n\n      if (\n        clientX > br.left && clientX < br.right &&\n        clientY > br.top && clientY < br.bottom\n      ) {\n        layers.push(layer);\n      }\n    });\n\n    return layers;\n  }\n\n  /**\n   * The callback that is used to listen to interactions modules.\n   *\n   * @param {WaveEvent} e - An event generated by an interaction modules (`EventSource`).\n   */\n  _handleEvent(e) {\n    const hitLayers = (e.source === 'surface') ?\n      this.getHitLayers(e) : null;\n    // emit event as a middleware\n    this.emit('event', e, hitLayers);\n    // propagate to the state\n    if (!this._state) { return; }\n    this._state.handleEvent(e, hitLayers);\n  }\n\n  /**\n   * Updates the state of the timeline.\n   *\n   * @type {BaseState}\n   */\n  set state(state) {\n    if (this._state) { this._state.exit(); }\n    this._state = state;\n    if (this._state) { this._state.enter(); }\n  }\n\n  /**\n   * Returns the current state of the timeline.\n   *\n   * @type {BaseState}\n   */\n  get state() {\n    return this._state;\n  }\n\n  /**\n   * Returns the `TrackCollection` instance.\n   *\n   * @type {TrackCollection}\n   */\n  get tracks() {\n    return this._tracks;\n  }\n\n  /**\n   * Returns the list of all registered layers.\n   *\n   * @type {Array}\n   */\n  get layers() {\n    return this._tracks.layers;\n  }\n\n  /**\n   * Adds a new track to the timeline.\n   *\n   * @param {Track} track - The new track to be registered in the timeline.\n   * @param {String} [trackId=null] - Optionnal unique id to associate with\n   *    the track, this id only exists in timeline's context and should be used\n   *    in conjonction with `addLayer` method.\n   */\n  add(track, trackId = null) {\n    if (this.tracks.indexOf(track) !== -1) {\n      throw new Error('track already added to the timeline');\n    }\n\n    this._registerTrackId(track, trackId);\n    track.configure(this.timeContext);\n\n    this.tracks.push(track);\n    this.createInteraction(this._surfaceCtor, track.$el);\n  }\n\n  /**\n   * Removes a track from the timeline.\n   *\n   * @param {Track} track - the track to remove from the timeline.\n   * @todo not implemented.\n   */\n  remove(track) {\n    // should destroy interaction too, avoid ghost eventListeners\n  }\n\n  /**\n   * Helper to create a new `Track` instance. The `track` is added,\n   * rendered and updated before being returned.\n   *\n   * @param {Element} $el - The DOM element where the track should be inserted.\n   * @param {Number} trackHeight - The height of the newly created track.\n   * @param {String} [trackId=null] - Optionnal unique id to associate with\n   *    the track, this id only exists in timeline's context and should be used in\n   *    conjonction with `addLayer` method.\n   * @return {Track}\n   */\n  createTrack($el, trackHeight = 100, trackId = null) {\n    const track = new Track($el, trackHeight);\n    // Add track to the timeline\n    this.add(track, trackId);\n    track.render();\n    track.update();\n\n    return track;\n  }\n\n  /**\n   * If track id is defined, associate a track with a unique id.\n   */\n  _registerTrackId(track, trackId) {\n    if (trackId !== null) {\n      if (this._trackById[trackId] !== undefined) {\n        throw new Error(`trackId: \"${trackId}\" is already used`);\n      }\n\n      this._trackById[trackId] = track;\n    }\n  }\n\n  /**\n   * Helper to add a `Layer` instance into a given `Track`. Is designed to be\n   * used in conjonction with the `Timeline~getLayersByGroup` method. The\n   * layer is internally rendered and updated.\n   *\n   * @param {Layer} layer - The `Layer` instance to add into the visualization.\n   * @param {(Track|String)} trackOrTrackId - The `Track` instance (or its `id`\n   *    as defined in the `createTrack` method) where the `Layer` instance should be inserted.\n   * @param {String} [groupId='default'] - An optionnal group id in which the\n   *    `Layer` should be inserted.\n   * @param {Boolean} [isAxis] - Set to `true` if the added `layer` is an\n   *    instance of `AxisLayer` (these layers shares the `TimlineTimeContext` instance\n   *    of the timeline).\n   */\n  addLayer(layer, trackOrTrackId, groupId = 'default', isAxis = false) {\n    let track = trackOrTrackId;\n\n    if (typeof trackOrTrackId === 'string') {\n      track = this.getTrackById(trackOrTrackId);\n    }\n\n    // creates the `LayerTimeContext` if not present\n    if (!layer.timeContext) {\n      const timeContext = isAxis ?\n        this.timeContext : new LayerTimeContext(this.timeContext);\n\n      layer.setTimeContext(timeContext);\n    }\n\n    // we should have a Track instance at this point\n    track.add(layer);\n\n    if (!this._groupedLayers[groupId]) {\n      this._groupedLayers[groupId] = [];\n    }\n\n    this._groupedLayers[groupId].push(layer);\n\n    layer.render();\n    layer.update();\n  }\n\n  /**\n   * Removes a layer from its track. The layer is detatched from the DOM but\n   * can still be reused later.\n   *\n   * @param {Layer} layer - The layer to remove.\n   */\n  removeLayer(layer) {\n    this.tracks.forEach(function(track) {\n      const index = track.layers.indexOf(layer);\n      if (index !== -1) { track.remove(layer); }\n    });\n\n    // clean references in helpers\n    for (let groupId in this._groupedLayers) {\n      const group = this._groupedLayers[groupId];\n      const index = group.indexOf(layer);\n\n      if (index !== -1) { group.splice(layer, 1); }\n\n      if (!group.length) {\n        delete this._groupedLayers[groupId];\n      }\n    }\n  }\n\n  /**\n   * Returns a `Track` instance from it's given id.\n   *\n   * @param {String} trackId\n   * @return {Track}\n   */\n  getTrackById(trackId) {\n    return this._trackById[trackId];\n  }\n\n  /**\n   * Returns the track containing a given DOM Element, returns null if no match found.\n   *\n   * @param {Element} $el - The DOM Element to be tested.\n   * @return {Track}\n   */\n  getTrackFromDOMElement($el) {\n    let $svg = null;\n    let track = null;\n    // find the closest `.track` element\n    do {\n      if ($el.classList.contains('track')) {\n        $svg = $el;\n      }\n      $el = $el.parentNode;\n    } while ($svg === null);\n    // find the related `Track`\n    this.tracks.forEach(function(_track) {\n      if (_track.$svg === $svg) { track = _track; }\n    });\n\n    return track;\n  }\n\n  /**\n   * Returns an array of layers from their given group id.\n   *\n   * @param {String} groupId - The id of the group as defined in `addLayer`.\n   * @return {(Array|undefined)}\n   */\n  getLayersByGroup(groupId) {\n    return this._groupedLayers[groupId];\n  }\n\n  /**\n   * Iterates through the added tracks.\n   */\n  *[Symbol.iterator]() {\n    yield* this.tracks[Symbol.iterator]();\n  }\n}\n",
    "static": true,
    "longname": "src/core/timeline.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 221,
    "kind": "class",
    "name": "Timeline",
    "memberof": "src/core/timeline.js",
    "static": true,
    "longname": "src/core/timeline.js~Timeline",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/core/timeline.js",
    "importStyle": "Timeline",
    "description": "Is the main entry point to create a temporal visualization.\n\nA `timeline` instance mainly provides the context for any visualization of\ntemporal data and maintains the hierarchy of `Track`, `Layer` and `Shape`\nover the entiere visualisation.\n\nIts main responsabilites are:\n- maintaining the temporal consistency accross the visualisation through\n  its `timeContext` property (instance of `TimelineTimeContext`).\n- handling interactions to its current state (acting here as a simple\n  state machine).",
    "lineNumber": 38,
    "unknown": [
      {
        "tagName": "@TODO",
        "tagValue": "insert figure\n\nIt also contains a reference to all the register track allowing to `render`\nor `update` all the layer from a single entry point.\n\n## Example Usage\n\n```js\nconst visibleWidth = 500; // default width in pixels for all created `Track`\nconst duration = 10; // the visible area represents 10 seconds\nconst pixelsPerSeconds = visibleWidth / duration;\nconst timeline = new ui.core.Timeline(pixelsPerSecond, width);\n```"
      }
    ],
    "interface": false,
    "extends": [
      "events~events.EventEmitter"
    ]
  },
  {
    "__docId__": 222,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#constructor",
    "access": null,
    "description": "",
    "lineNumber": 43,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "100",
        "defaultRaw": 100,
        "name": "pixelsPerSecond",
        "description": "the default scaling between time and pixels."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "1000",
        "defaultRaw": 1000,
        "name": "visibleWidth",
        "description": "the default visible area for all registered tracks."
      }
    ]
  },
  {
    "__docId__": 223,
    "kind": "member",
    "name": "_tracks",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_tracks",
    "access": null,
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 224,
    "kind": "member",
    "name": "_state",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_state",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 225,
    "kind": "member",
    "name": "_surfaceCtor",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_surfaceCtor",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 226,
    "kind": "member",
    "name": "_trackById",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_trackById",
    "access": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 227,
    "kind": "member",
    "name": "_groupedLayers",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_groupedLayers",
    "access": null,
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 228,
    "kind": "member",
    "name": "timeContext",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#timeContext",
    "access": null,
    "description": null,
    "lineNumber": 64,
    "type": {
      "nullable": null,
      "types": [
        "TimelineTimeContext"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 229,
    "kind": "get",
    "name": "offset",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#offset",
    "access": null,
    "description": "Returns `TimelineTimeContext`'s `offset` time domain value.",
    "lineNumber": 72,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 230,
    "kind": "set",
    "name": "offset",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#offset",
    "access": null,
    "description": "Updates `TimelineTimeContext`'s `offset` time domain value.",
    "lineNumber": 81,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 231,
    "kind": "get",
    "name": "zoom",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#zoom",
    "access": null,
    "description": "Returns the `TimelineTimeContext`'s `zoom` value.",
    "lineNumber": 90,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 232,
    "kind": "set",
    "name": "zoom",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#zoom",
    "access": null,
    "description": "Updates the `TimelineTimeContext`'s `zoom` value.",
    "lineNumber": 99,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 233,
    "kind": "get",
    "name": "pixelsPerSecond",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#pixelsPerSecond",
    "access": null,
    "description": "Returns the `TimelineTimeContext`'s `pixelsPerSecond` ratio.",
    "lineNumber": 108,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 234,
    "kind": "set",
    "name": "pixelsPerSecond",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#pixelsPerSecond",
    "access": null,
    "description": "Updates the `TimelineTimeContext`'s `pixelsPerSecond` ratio.",
    "lineNumber": 117,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 235,
    "kind": "get",
    "name": "visibleWidth",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#visibleWidth",
    "access": null,
    "description": "Returns the `TimelineTimeContext`'s `visibleWidth` pixel domain value.",
    "lineNumber": 126,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 236,
    "kind": "set",
    "name": "visibleWidth",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#visibleWidth",
    "access": null,
    "description": "Updates the `TimelineTimeContext`'s `visibleWidth` pixel domain value.",
    "lineNumber": 135,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 237,
    "kind": "get",
    "name": "timeToPixel",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#timeToPixel",
    "access": null,
    "description": "Returns `TimelineTimeContext`'s `timeToPixel` transfert function.",
    "lineNumber": 144,
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 238,
    "kind": "get",
    "name": "visibleDuration",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#visibleDuration",
    "access": null,
    "description": "Returns `TimelineTimeContext`'s `visibleDuration` helper value.",
    "lineNumber": 153,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 239,
    "kind": "set",
    "name": "maintainVisibleDuration",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#maintainVisibleDuration",
    "access": null,
    "description": "Updates the `TimelineTimeContext`'s `maintainVisibleDuration` value.\nDefines if the duration of the visible area should be maintain when\nthe `visibleWidth` attribute is updated.",
    "lineNumber": 164,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 240,
    "kind": "get",
    "name": "maintainVisibleDuration",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#maintainVisibleDuration",
    "access": null,
    "description": "Returns `TimelineTimeContext`'s `maintainVisibleDuration` current value.",
    "lineNumber": 173,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 241,
    "kind": "get",
    "name": "groupedLayers",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#groupedLayers",
    "access": null,
    "description": "Object maintaining arrays of `Layer` instances ordered by their `groupId`.\nIs used internally by the `TrackCollection` instance.",
    "lineNumber": 183,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 242,
    "kind": "method",
    "name": "configureSurface",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#configureSurface",
    "access": null,
    "description": "Overrides the default `Surface` that is instanciated on each `Track`\ninstance. This methos should be called before adding any `Track` instance\nto the current `timeline`.",
    "lineNumber": 195,
    "params": [
      {
        "nullable": null,
        "types": [
          "EventSource"
        ],
        "spread": false,
        "optional": false,
        "name": "ctor",
        "description": "The constructor to use in order to catch mouse\n   events on each `Track` instances."
      }
    ]
  },
  {
    "__docId__": 243,
    "kind": "member",
    "name": "_surfaceCtor",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_surfaceCtor",
    "access": null,
    "description": null,
    "lineNumber": 196,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 244,
    "kind": "method",
    "name": "createInteraction",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#createInteraction",
    "access": null,
    "description": "Factory method to add interaction modules the timeline should listen to.\nBy default, the timeline instanciate a global `Keyboard` instance and a\n`Surface` instance on each container.\nShould be used to install new interactions implementing the `EventSource` interface.",
    "lineNumber": 209,
    "params": [
      {
        "nullable": null,
        "types": [
          "EventSource"
        ],
        "spread": false,
        "optional": false,
        "name": "ctor",
        "description": "The contructor of the interaction module to instanciate."
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": "The DOM element which will be binded to the `EventSource` module."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options to be applied to the `ctor`."
      }
    ]
  },
  {
    "__docId__": 245,
    "kind": "method",
    "name": "getHitLayers",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#getHitLayers",
    "access": null,
    "description": "Returns a list of the layers situated under the position of a `WaveEvent`.",
    "lineNumber": 220,
    "params": [
      {
        "nullable": null,
        "types": [
          "WavesEvent"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "An event triggered by a `WaveEvent`"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "Matched layers"
    }
  },
  {
    "__docId__": 246,
    "kind": "method",
    "name": "_handleEvent",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_handleEvent",
    "access": null,
    "description": "The callback that is used to listen to interactions modules.",
    "lineNumber": 245,
    "params": [
      {
        "nullable": null,
        "types": [
          "WaveEvent"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "An event generated by an interaction modules (`EventSource`)."
      }
    ]
  },
  {
    "__docId__": 247,
    "kind": "set",
    "name": "state",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#state",
    "access": null,
    "description": "Updates the state of the timeline.",
    "lineNumber": 260,
    "type": {
      "nullable": null,
      "types": [
        "BaseState"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 248,
    "kind": "member",
    "name": "_state",
    "memberof": "src/core/timeline.js~Timeline",
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_state",
    "access": null,
    "description": null,
    "lineNumber": 262,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 249,
    "kind": "get",
    "name": "state",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#state",
    "access": null,
    "description": "Returns the current state of the timeline.",
    "lineNumber": 271,
    "type": {
      "nullable": null,
      "types": [
        "BaseState"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 250,
    "kind": "get",
    "name": "tracks",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#tracks",
    "access": null,
    "description": "Returns the `TrackCollection` instance.",
    "lineNumber": 280,
    "type": {
      "nullable": null,
      "types": [
        "TrackCollection"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 251,
    "kind": "get",
    "name": "layers",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#layers",
    "access": null,
    "description": "Returns the list of all registered layers.",
    "lineNumber": 289,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 252,
    "kind": "method",
    "name": "add",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#add",
    "access": null,
    "description": "Adds a new track to the timeline.",
    "lineNumber": 301,
    "params": [
      {
        "nullable": null,
        "types": [
          "Track"
        ],
        "spread": false,
        "optional": false,
        "name": "track",
        "description": "The new track to be registered in the timeline."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "null",
        "defaultRaw": null,
        "name": "trackId",
        "description": "Optionnal unique id to associate with\n   the track, this id only exists in timeline's context and should be used\n   in conjonction with `addLayer` method."
      }
    ]
  },
  {
    "__docId__": 253,
    "kind": "method",
    "name": "remove",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#remove",
    "access": null,
    "description": "Removes a track from the timeline.",
    "lineNumber": 319,
    "todo": [
      "not implemented."
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Track"
        ],
        "spread": false,
        "optional": false,
        "name": "track",
        "description": "the track to remove from the timeline."
      }
    ]
  },
  {
    "__docId__": 254,
    "kind": "method",
    "name": "createTrack",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#createTrack",
    "access": null,
    "description": "Helper to create a new `Track` instance. The `track` is added,\nrendered and updated before being returned.",
    "lineNumber": 334,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": "The DOM element where the track should be inserted."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "trackHeight",
        "description": "The height of the newly created track."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "null",
        "defaultRaw": null,
        "name": "trackId",
        "description": "Optionnal unique id to associate with\n   the track, this id only exists in timeline's context and should be used in\n   conjonction with `addLayer` method."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Track"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 255,
    "kind": "method",
    "name": "_registerTrackId",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#_registerTrackId",
    "access": null,
    "description": "If track id is defined, associate a track with a unique id.",
    "lineNumber": 347,
    "params": [
      {
        "name": "track",
        "types": [
          "*"
        ]
      },
      {
        "name": "trackId",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 256,
    "kind": "method",
    "name": "addLayer",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#addLayer",
    "access": null,
    "description": "Helper to add a `Layer` instance into a given `Track`. Is designed to be\nused in conjonction with the `Timeline~getLayersByGroup` method. The\nlayer is internally rendered and updated.",
    "lineNumber": 371,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "layer",
        "description": "The `Layer` instance to add into the visualization."
      },
      {
        "nullable": null,
        "types": [
          "Track",
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "trackOrTrackId",
        "description": "The `Track` instance (or its `id`\n   as defined in the `createTrack` method) where the `Layer` instance should be inserted."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'default'",
        "defaultRaw": "'default'",
        "name": "groupId",
        "description": "An optionnal group id in which the\n   `Layer` should be inserted."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "isAxis",
        "description": "Set to `true` if the added `layer` is an\n   instance of `AxisLayer` (these layers shares the `TimlineTimeContext` instance\n   of the timeline)."
      }
    ]
  },
  {
    "__docId__": 257,
    "kind": "method",
    "name": "removeLayer",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#removeLayer",
    "access": null,
    "description": "Removes a layer from its track. The layer is detatched from the DOM but\ncan still be reused later.",
    "lineNumber": 405,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "layer",
        "description": "The layer to remove."
      }
    ]
  },
  {
    "__docId__": 258,
    "kind": "method",
    "name": "getTrackById",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#getTrackById",
    "access": null,
    "description": "Returns a `Track` instance from it's given id.",
    "lineNumber": 430,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "trackId",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Track"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 259,
    "kind": "method",
    "name": "getTrackFromDOMElement",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#getTrackFromDOMElement",
    "access": null,
    "description": "Returns the track containing a given DOM Element, returns null if no match found.",
    "lineNumber": 440,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": "The DOM Element to be tested."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Track"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 260,
    "kind": "method",
    "name": "getLayersByGroup",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#getLayersByGroup",
    "access": null,
    "description": "Returns an array of layers from their given group id.",
    "lineNumber": 464,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "groupId",
        "description": "The id of the group as defined in `addLayer`."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array",
        "undefined"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 261,
    "kind": "method",
    "name": "[Symbol.iterator]",
    "memberof": "src/core/timeline.js~Timeline",
    "generator": true,
    "async": false,
    "static": false,
    "longname": "src/core/timeline.js~Timeline#[Symbol.iterator]",
    "access": null,
    "description": "Iterates through the added tracks.",
    "lineNumber": 471,
    "params": []
  },
  {
    "__docId__": 262,
    "kind": "file",
    "name": "src/core/track-collection.js",
    "content": "import Layer from './layer';\n\n\n/**\n * Collection hosting all the `Track` instances registered into the timeline.\n * It provides shorcuts to trigger `render` / `update` methods on tracks or\n * layers. Extend built-in Array\n */\nexport default class TrackCollection extends Array {\n  constructor(timeline) {\n    super();\n\n    this._timeline = timeline;\n  }\n\n  // @note - should be in the timeline ?\n  // @todo - allow to pass an array of layers\n  _getLayersOrGroups(layerOrGroup = null) {\n    let layers = null;\n\n    if (typeof layerOrGroup === 'string') {\n      layers = this._timeline.groupedLayers[layerOrGroup];\n    } else if (layerOrGroup instanceof Layer) {\n      layers = [layerOrGroup];\n    } else {\n      layers = this.layers;\n    }\n\n    return layers;\n  }\n\n  // @NOTE keep this ?\n  // could prepare some vertical resizing ability\n  // this should be able to modify the layers yScale to be really usefull\n\n  /**\n   * @type {Number} - Updates the height of all tracks at once.\n   * @todo - Propagate to layers, not usefull for now.\n   */\n/*\n  set height(value) {\n    this.forEach((track) => track.height = value);\n  }\n*/\n    \n  /**\n   * An array of all registered layers.\n   *\n   * @type {Array<Layer>}\n   */\n  get layers() {\n    let layers = [];\n    this.forEach((track) => layers = layers.concat(track.layers));\n\n    return layers;\n  }\n\n  /**\n   * Render all tracks and layers. When done, the timeline triggers a `render` event.\n   */\n  render() {\n    this.forEach((track) => track.render());\n    this._timeline.emit('render');\n  }\n\n  /**\n   * Updates all tracks and layers. When done, the timeline triggers a\n   * `update` event.\n   *\n   * @param {Layer|String} layerOrGroup - Filter the layers to update by\n   *    passing the `Layer` instance to update or a `groupId`\n   */\n  update(layerOrGroup) {\n    const layers = this._getLayersOrGroups(layerOrGroup);\n    this.forEach((track) => track.update(layers));\n    this._timeline.emit('update', layers);\n  }\n\n  /**\n   * Updates all layers. When done, the timeline triggers a `update:layers` event.\n   *\n   * @param {Layer|String} layerOrGroup - Filter the layers to update by\n   *    passing the `Layer` instance to update or a `groupId`\n   */\n  updateLayers(layerOrGroup) {\n    const layers = this._getLayersOrGroups(layerOrGroup);\n    this.forEach((track) => track.updateLayers(layers));\n    this._timeline.emit('update:layers', layers);\n  }\n}\n",
    "static": true,
    "longname": "src/core/track-collection.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 263,
    "kind": "class",
    "name": "TrackCollection",
    "memberof": "src/core/track-collection.js",
    "static": true,
    "longname": "src/core/track-collection.js~TrackCollection",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/core/track-collection.js",
    "importStyle": "TrackCollection",
    "description": "Collection hosting all the `Track` instances registered into the timeline.\nIt provides shorcuts to trigger `render` / `update` methods on tracks or\nlayers. Extend built-in Array",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "Array"
    ]
  },
  {
    "__docId__": 264,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#constructor",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 265,
    "kind": "member",
    "name": "_timeline",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#_timeline",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 266,
    "kind": "method",
    "name": "_getLayersOrGroups",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#_getLayersOrGroups",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "layerOrGroup",
        "optional": true,
        "types": [
          "undefined"
        ],
        "defaultValue": "undefined"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 267,
    "kind": "get",
    "name": "layers",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#layers",
    "access": null,
    "description": "An array of all registered layers.",
    "lineNumber": 51,
    "type": {
      "nullable": null,
      "types": [
        "Array<Layer>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 268,
    "kind": "method",
    "name": "render",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#render",
    "access": null,
    "description": "Render all tracks and layers. When done, the timeline triggers a `render` event.",
    "lineNumber": 61,
    "params": []
  },
  {
    "__docId__": 269,
    "kind": "method",
    "name": "update",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#update",
    "access": null,
    "description": "Updates all tracks and layers. When done, the timeline triggers a\n`update` event.",
    "lineNumber": 73,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer",
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "layerOrGroup",
        "description": "Filter the layers to update by\n   passing the `Layer` instance to update or a `groupId`"
      }
    ]
  },
  {
    "__docId__": 270,
    "kind": "method",
    "name": "updateLayers",
    "memberof": "src/core/track-collection.js~TrackCollection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track-collection.js~TrackCollection#updateLayers",
    "access": null,
    "description": "Updates all layers. When done, the timeline triggers a `update:layers` event.",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer",
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "layerOrGroup",
        "description": "Filter the layers to update by\n   passing the `Layer` instance to update or a `groupId`"
      }
    ]
  },
  {
    "__docId__": 271,
    "kind": "file",
    "name": "src/core/track.js",
    "content": "import ns from './namespace';\n\n\n/**\n * Acts as a placeholder to organize the vertical layout of the visualization\n * and the horizontal alignement to an abscissa that correspond to a common\n * time reference. It basically offer a view on the overall timeline.\n *\n * Tracks are inserted into a given DOM element, allowing to create DAW like\n * representations. Each `Track` instance can host multiple `Layer` instances.\n * A track must be added to a timeline before being updated.\n *\n * ### A timeline with 3 tracks:\n *\n * ```\n * 0                 6                               16\n * +- - - - - - - - -+-------------------------------+- - - - - - -\n * |                 |x track 1 xxxxxxxxxxxxxxxxxxxxx|\n * +- - - - - - - - -+-------------------------------+- - - - - - -\n * |                 |x track 2 xxxxxxxxxxxxxxxxxxxxx|\n * +- - - - - - - - -+-------------------------------+- - - - - - -\n * |                 |x track 3 xxxxxxxxxxxxxxxxxxxxx|\n * +- - - - - - - - ---------------------------------+- - - - - - -\n * +----------------->\n * timeline.timeContext.timeToPixel(timeline.timeContext.offset)\n *\n *                   <------------------------------->\n *                   timeline's tracks defaults to 1000px\n *                   with a default pixelsPerSecond of 100px/s.\n *                   and a default `stretchRatio = 1`\n *                   track1 shows 10 seconds of the timeline\n * ```\n *\n * ### Track DOM structure\n *\n * ```html\n * <svg width=\"${visibleWidth}\">\n *   <!-- background -->\n *   <rect><rect>\n *   <!-- main view -->\n *   <g class=\"layout\">\n *     <!-- layers -->\n *   </g>\n *   <g class=\"interactions\"><!-- for feedback --></g>\n * </svg>\n * ```\n */\nexport default class Track {\n  /**\n   * @param {DOMElement} $el\n   * @param {Number} [height = 100]\n   */\n  constructor($el, height = 100) {\n    this._height = height;\n\n    /**\n     * The DOM element in which the track is created.\n     * @type {Element}\n     */\n    this.$el = $el;\n    /**\n     * A placeholder to add shapes for interactions feedback.\n     * @type {Element}\n     */\n    this.$interactions = null;\n    /** @type {Element} */\n    this.$layout = null;\n    /** @type {Element} */\n    this.$svg = null;\n    /** @type {Element} */\n    this.$background = null;\n\n    /**\n     * An array of all the layers belonging to the track.\n     * @type {Array<Layer>}\n     */\n    this.layers = [];\n    /**\n     * The context used to maintain the DOM structure of the track.\n     * @type {TimelineTimeContext}\n     */\n    this.renderingContext = null;\n\n    this._createContainer();\n  }\n\n  /**\n   * Returns the height of the track.\n   *\n   * @type {Number}\n   */\n  get height() {\n    return this._height;\n  }\n\n  /**\n   * Sets the height of the track.\n   *\n   * @todo propagate to layers, keeping ratio? could be handy for vertical\n   *    resize. This is why a set/get is implemented here.\n   * @type {Number}\n   */\n  set height(value) {\n    this._height = value;\n  }\n\n  /**\n   * This method is called when the track is added to the timeline. The\n   * track cannot be updated without being added to a timeline.\n   *\n   * @private\n   * @param {TimelineTimeContext} renderingContext\n   */\n  configure(renderingContext) {\n    this.renderingContext = renderingContext;\n  }\n\n  /**\n   * Destroy the track. The layers from this track can still be reused elsewhere.\n   */\n  destroy() {\n    // Detach everything from the DOM\n    this.$el.removeChild(this.$svg);\n    this.layers.forEach((layer) => this.$layout.removeChild(layer.$el));\n    // clean references\n    this.$el = null;\n    this.renderingContext = null;\n    this.layers.length = 0;\n  }\n\n  /**\n   * Creates the DOM structure of the track.\n   */\n  _createContainer() {\n    const $svg = document.createElementNS(ns, 'svg');\n    $svg.setAttributeNS(null, 'shape-rendering', 'optimizeSpeed');\n    $svg.setAttributeNS(null, 'height', this.height);\n    $svg.setAttribute('xmlns:xhtml', 'http://www.w3.org/1999/xhtml');\n    $svg.classList.add('track');\n\n    const $background = document.createElementNS(ns, 'rect');\n    $background.setAttributeNS(null, 'height', '100%');\n    $background.setAttributeNS(null, 'width', '100%');\n    $background.style.fillOpacity = 0;\n    // $background.style.pointerEvents = 'none';\n\n    const $defs = document.createElementNS(ns, 'defs');\n\n    const $layoutGroup = document.createElementNS(ns, 'g');\n    $layoutGroup.classList.add('layout');\n\n    const $interactionsGroup = document.createElementNS(ns, 'g');\n    $interactionsGroup.classList.add('interactions');\n\n    $svg.appendChild($defs);\n    $svg.appendChild($background);\n    $svg.appendChild($layoutGroup);\n    $svg.appendChild($interactionsGroup);\n    this.$el.appendChild($svg);\n    // removes additionnal height added who knows why...\n    this.$el.style.fontSize = 0;\n    // fixes one of the (many ?) weird canvas rendering bugs in Chrome\n    this.$el.style.transform = 'translateZ(0)';\n\n    this.$layout = $layoutGroup;\n    this.$interactions = $interactionsGroup;\n    this.$svg = $svg;\n    this.$background = $background;\n  }\n\n  /**\n   * Adds a layer to the track.\n   *\n   * @param {Layer} layer - the layer to add to the track.\n   */\n  add(layer) {\n    console.log(layer);\n    this.layers.push(layer);\n    // Create a default renderingContext for the layer if missing\n    this.$layout.appendChild(layer.$el);\n  }\n\n  /**\n   * Removes a layer from the track. The layer can be reused elsewhere.\n   *\n   * @param {Layer} layer - the layer to remove from the track.\n   */\n  remove(layer) {\n    this.layers.splice(this.layers.indexOf(layer), 1);\n    // Removes layer from its container\n    this.$layout.removeChild(layer.$el);\n  }\n\n  /**\n   * Tests if a given element belongs to the track.\n   *\n   * @param {Element} $el\n   * @return {bool}\n   */\n  hasElement($el) {\n    do {\n      if ($el === this.$el) {\n        return true;\n      }\n\n      $el = $el.parentNode;\n    } while ($el !== null);\n\n    return false;\n  }\n\n  /**\n   * Render all the layers added to the track.\n   */\n  render() {\n    for (let layer of this) { layer.render(); }\n  }\n\n  /**\n   * Updates the track DOM structure and updates the layers.\n   *\n   * @param {Array<Layer>} [layers=null] - if not null, a subset of the layers to update.\n   */\n  update(layers = null) {\n    this._updateContainer();\n    this.updateLayers(layers);\n  }\n\n  /**\n   * Updates the track DOM structure.\n   */\n  _updateContainer() {\n    const $svg = this.$svg;\n    \n    // Should be in some update layout\n    const renderingContext = this.renderingContext;\n    const height = this.height;\n    const width = Math.round(renderingContext.visibleWidth);\n\n    $svg.setAttributeNS(null, 'height', height);\n    $svg.setAttributeNS(null, 'width', width);\n    $svg.setAttributeNS(null, 'viewbox', `0 0 ${width} ${height}`);\n  }\n\n  /**\n   * Updates the layers.\n   *\n   * @param {Array<Layer>} [layers=null] - if not null, a subset of the layers to update.\n   */\n  updateLayers(layers = null) {\n    layers = (layers === null) ? this.layers : layers;\n\n    layers.forEach((layer) => {\n      if (this.layers.indexOf(layer) === -1) { return; }\n      layer.update();\n    });\n  }\n\n  /**\n   * Iterates through the added layers.\n   */\n  *[Symbol.iterator]() {\n    yield* this.layers[Symbol.iterator]();\n  }\n}\n",
    "static": true,
    "longname": "src/core/track.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 272,
    "kind": "class",
    "name": "Track",
    "memberof": "src/core/track.js",
    "static": true,
    "longname": "src/core/track.js~Track",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/core/track.js",
    "importStyle": "Track",
    "description": "Acts as a placeholder to organize the vertical layout of the visualization\nand the horizontal alignement to an abscissa that correspond to a common\ntime reference. It basically offer a view on the overall timeline.\n\nTracks are inserted into a given DOM element, allowing to create DAW like\nrepresentations. Each `Track` instance can host multiple `Layer` instances.\nA track must be added to a timeline before being updated.\n\n### A timeline with 3 tracks:\n\n```\n0                 6                               16\n+- - - - - - - - -+-------------------------------+- - - - - - -\n|                 |x track 1 xxxxxxxxxxxxxxxxxxxxx|\n+- - - - - - - - -+-------------------------------+- - - - - - -\n|                 |x track 2 xxxxxxxxxxxxxxxxxxxxx|\n+- - - - - - - - -+-------------------------------+- - - - - - -\n|                 |x track 3 xxxxxxxxxxxxxxxxxxxxx|\n+- - - - - - - - ---------------------------------+- - - - - - -\n+----------------->\ntimeline.timeContext.timeToPixel(timeline.timeContext.offset)\n\n                  <------------------------------->\n                  timeline's tracks defaults to 1000px\n                  with a default pixelsPerSecond of 100px/s.\n                  and a default `stretchRatio = 1`\n                  track1 shows 10 seconds of the timeline\n```\n\n### Track DOM structure\n\n```html\n<svg width=\"${visibleWidth}\">\n  <!-- background -->\n  <rect><rect>\n  <!-- main view -->\n  <g class=\"layout\">\n    <!-- layers -->\n  </g>\n  <g class=\"interactions\"><!-- for feedback --></g>\n</svg>\n```",
    "lineNumber": 48,
    "interface": false
  },
  {
    "__docId__": 273,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#constructor",
    "access": null,
    "description": "",
    "lineNumber": 53,
    "params": [
      {
        "nullable": null,
        "types": [
          "DOMElement"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": " 100",
        "defaultRaw": 100,
        "name": "height",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 274,
    "kind": "member",
    "name": "_height",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#_height",
    "access": null,
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 275,
    "kind": "member",
    "name": "$el",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$el",
    "access": null,
    "description": "The DOM element in which the track is created.",
    "lineNumber": 60,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 276,
    "kind": "member",
    "name": "$interactions",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$interactions",
    "access": null,
    "description": "A placeholder to add shapes for interactions feedback.",
    "lineNumber": 65,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 277,
    "kind": "member",
    "name": "$layout",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$layout",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 278,
    "kind": "member",
    "name": "$svg",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$svg",
    "access": null,
    "description": null,
    "lineNumber": 69,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 279,
    "kind": "member",
    "name": "$background",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$background",
    "access": null,
    "description": null,
    "lineNumber": 71,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 280,
    "kind": "member",
    "name": "layers",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#layers",
    "access": null,
    "description": "An array of all the layers belonging to the track.",
    "lineNumber": 77,
    "type": {
      "nullable": null,
      "types": [
        "Array<Layer>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 281,
    "kind": "member",
    "name": "renderingContext",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#renderingContext",
    "access": null,
    "description": "The context used to maintain the DOM structure of the track.",
    "lineNumber": 82,
    "type": {
      "nullable": null,
      "types": [
        "TimelineTimeContext"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 282,
    "kind": "get",
    "name": "height",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#height",
    "access": null,
    "description": "Returns the height of the track.",
    "lineNumber": 92,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 283,
    "kind": "set",
    "name": "height",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#height",
    "access": null,
    "description": "Sets the height of the track.",
    "lineNumber": 103,
    "todo": [
      "propagate to layers, keeping ratio? could be handy for vertical\n   resize. This is why a set/get is implemented here."
    ],
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 284,
    "kind": "member",
    "name": "_height",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#_height",
    "access": null,
    "description": null,
    "lineNumber": 104,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 285,
    "kind": "method",
    "name": "configure",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#configure",
    "access": "private",
    "description": "This method is called when the track is added to the timeline. The\ntrack cannot be updated without being added to a timeline.",
    "lineNumber": 114,
    "params": [
      {
        "nullable": null,
        "types": [
          "TimelineTimeContext"
        ],
        "spread": false,
        "optional": false,
        "name": "renderingContext",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 286,
    "kind": "member",
    "name": "renderingContext",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#renderingContext",
    "access": null,
    "description": null,
    "lineNumber": 115,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 287,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#destroy",
    "access": null,
    "description": "Destroy the track. The layers from this track can still be reused elsewhere.",
    "lineNumber": 121,
    "params": []
  },
  {
    "__docId__": 288,
    "kind": "member",
    "name": "$el",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$el",
    "access": null,
    "description": null,
    "lineNumber": 126,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 289,
    "kind": "member",
    "name": "renderingContext",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#renderingContext",
    "access": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 290,
    "kind": "method",
    "name": "_createContainer",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#_createContainer",
    "access": null,
    "description": "Creates the DOM structure of the track.",
    "lineNumber": 134,
    "params": []
  },
  {
    "__docId__": 291,
    "kind": "member",
    "name": "$layout",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$layout",
    "access": null,
    "description": null,
    "lineNumber": 165,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 292,
    "kind": "member",
    "name": "$interactions",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$interactions",
    "access": null,
    "description": null,
    "lineNumber": 166,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 293,
    "kind": "member",
    "name": "$svg",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$svg",
    "access": null,
    "description": null,
    "lineNumber": 167,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 294,
    "kind": "member",
    "name": "$background",
    "memberof": "src/core/track.js~Track",
    "static": false,
    "longname": "src/core/track.js~Track#$background",
    "access": null,
    "description": null,
    "lineNumber": 168,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 295,
    "kind": "method",
    "name": "add",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#add",
    "access": null,
    "description": "Adds a layer to the track.",
    "lineNumber": 176,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "layer",
        "description": "the layer to add to the track."
      }
    ]
  },
  {
    "__docId__": 296,
    "kind": "method",
    "name": "remove",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#remove",
    "access": null,
    "description": "Removes a layer from the track. The layer can be reused elsewhere.",
    "lineNumber": 188,
    "params": [
      {
        "nullable": null,
        "types": [
          "Layer"
        ],
        "spread": false,
        "optional": false,
        "name": "layer",
        "description": "the layer to remove from the track."
      }
    ]
  },
  {
    "__docId__": 297,
    "kind": "method",
    "name": "hasElement",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#hasElement",
    "access": null,
    "description": "Tests if a given element belongs to the track.",
    "lineNumber": 200,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "bool"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 298,
    "kind": "method",
    "name": "render",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#render",
    "access": null,
    "description": "Render all the layers added to the track.",
    "lineNumber": 215,
    "params": []
  },
  {
    "__docId__": 299,
    "kind": "method",
    "name": "update",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#update",
    "access": null,
    "description": "Updates the track DOM structure and updates the layers.",
    "lineNumber": 224,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<Layer>"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "null",
        "defaultRaw": null,
        "name": "layers",
        "description": "if not null, a subset of the layers to update."
      }
    ]
  },
  {
    "__docId__": 300,
    "kind": "method",
    "name": "_updateContainer",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#_updateContainer",
    "access": null,
    "description": "Updates the track DOM structure.",
    "lineNumber": 232,
    "params": []
  },
  {
    "__docId__": 301,
    "kind": "method",
    "name": "updateLayers",
    "memberof": "src/core/track.js~Track",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#updateLayers",
    "access": null,
    "description": "Updates the layers.",
    "lineNumber": 250,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<Layer>"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "null",
        "defaultRaw": null,
        "name": "layers",
        "description": "if not null, a subset of the layers to update."
      }
    ]
  },
  {
    "__docId__": 302,
    "kind": "method",
    "name": "[Symbol.iterator]",
    "memberof": "src/core/track.js~Track",
    "generator": true,
    "async": false,
    "static": false,
    "longname": "src/core/track.js~Track#[Symbol.iterator]",
    "access": null,
    "description": "Iterates through the added layers.",
    "lineNumber": 262,
    "params": []
  },
  {
    "__docId__": 303,
    "kind": "file",
    "name": "src/helpers/annotated-marker-layer.js",
    "content": "import AnnotatedMarker from '../shapes/annotated-marker';\nimport Layer from '../core/layer';\nimport MarkerBehavior from '../behaviors/marker-behavior';\n\n\n/**\n * Helper to create a annotated marker layer\n *\n * [example usage](./examples/layer-marker.html)\n */\nexport default class AnnotatedMarkerLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @todo - Add accessors and options for the shape.\n   */\n  constructor(data, options = {}) {\n    super('collection', data, options);\n\n    this.configureShape(AnnotatedMarker);\n    this.setBehavior(new MarkerBehavior());\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/annotated-marker-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 304,
    "kind": "class",
    "name": "AnnotatedMarkerLayer",
    "memberof": "src/helpers/annotated-marker-layer.js",
    "static": true,
    "longname": "src/helpers/annotated-marker-layer.js~AnnotatedMarkerLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/annotated-marker-layer.js",
    "importStyle": "AnnotatedMarkerLayer",
    "description": "Helper to create a annotated marker layer\n\n[example usage](./examples/layer-marker.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 305,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/annotated-marker-layer.js~AnnotatedMarkerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/annotated-marker-layer.js~AnnotatedMarkerLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 17,
    "todo": [
      "- Add accessors and options for the shape."
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 306,
    "kind": "file",
    "name": "src/helpers/annotated-segment-layer.js",
    "content": "import Layer from '../core/layer';\nimport AnnotatedSegment from '../shapes/annotated-segment';\nimport SegmentBehavior from '../behaviors/segment-behavior';\n\n\n/**\n * Helper to create a annotated segment layer.\n *\n * [example usage](./examples/layer-segment.html)\n */\nexport default class AnnotatedSegmentLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n    super('collection', data, options);\n\n    options = Object.assign({\n      displayHandlers: true,\n      opacity: 0.6\n    }, options);\n\n    this.configureShape(AnnotatedSegment, accessors, {\n      displayHandlers: options.displayHandlers,\n      opacity: options.opacity,\n    });\n\n    this.setBehavior(new SegmentBehavior());\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/annotated-segment-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 307,
    "kind": "class",
    "name": "AnnotatedSegmentLayer",
    "memberof": "src/helpers/annotated-segment-layer.js",
    "static": true,
    "longname": "src/helpers/annotated-segment-layer.js~AnnotatedSegmentLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/annotated-segment-layer.js",
    "importStyle": "AnnotatedSegmentLayer",
    "description": "Helper to create a annotated segment layer.\n\n[example usage](./examples/layer-segment.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 308,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/annotated-segment-layer.js~AnnotatedSegmentLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/annotated-segment-layer.js~AnnotatedSegmentLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 309,
    "kind": "file",
    "name": "src/helpers/breakpoint-layer.js",
    "content": "import BreakpointBehavior from '../behaviors/breakpoint-behavior';\nimport Dot from '../shapes/dot';\nimport Layer from '../core/layer';\nimport Line from '../shapes/line';\n\n\n/**\n * Helper to create a breakpoint function layer.\n *\n * [example usage](./examples/layer-breakpoint.html)\n */\nexport default class BreakpointLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n    super('collection', data, options);\n\n    const color = options.color;\n    let commonShapeOptions = {};\n\n    if (color) {\n      accessors.color = function() { return color; };\n      commonShapeOptions.color = color;\n    }\n\n    this.configureCommonShape(Line, accessors, commonShapeOptions);\n    this.configureShape(Dot, accessors, {});\n    this.setBehavior(new BreakpointBehavior());\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/breakpoint-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 310,
    "kind": "class",
    "name": "BreakpointLayer",
    "memberof": "src/helpers/breakpoint-layer.js",
    "static": true,
    "longname": "src/helpers/breakpoint-layer.js~BreakpointLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/breakpoint-layer.js",
    "importStyle": "BreakpointLayer",
    "description": "Helper to create a breakpoint function layer.\n\n[example usage](./examples/layer-breakpoint.html)",
    "lineNumber": 12,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 311,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/breakpoint-layer.js~BreakpointLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/breakpoint-layer.js~BreakpointLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 312,
    "kind": "file",
    "name": "src/helpers/cursor-layer.js",
    "content": "import Layer from '../core/layer';\nimport Cursor from '../shapes/cursor';\n\n\n/**\n * Helper to create a cursor layer.\n *\n * [example usage](./examples/layer-cursor.html)\n */\nexport default class CursorLayer extends Layer {\n  /**\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(options = {}) {\n    const defaults = {\n      color: 'red',\n      hittable: false, // kind of pass through layer\n    };\n\n    const data = { currentPosition: 0 };\n\n    options = Object.assign(defaults, options);\n    super('entity', data, options);\n\n    this.configureShape(Cursor, { x: (d) => d.currentPosition }, {\n      color: options.color\n    });\n  }\n\n  set currentPosition(value) {\n    this.data[0].currentPosition = value;\n  }\n\n  get currentPosition() {\n    return this.data[0].currentPosition;\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/cursor-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 313,
    "kind": "class",
    "name": "CursorLayer",
    "memberof": "src/helpers/cursor-layer.js",
    "static": true,
    "longname": "src/helpers/cursor-layer.js~CursorLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/cursor-layer.js",
    "importStyle": "CursorLayer",
    "description": "Helper to create a cursor layer.\n\n[example usage](./examples/layer-cursor.html)",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 314,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/cursor-layer.js~CursorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/cursor-layer.js~CursorLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 14,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 315,
    "kind": "set",
    "name": "currentPosition",
    "memberof": "src/helpers/cursor-layer.js~CursorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/cursor-layer.js~CursorLayer#currentPosition",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 316,
    "kind": "get",
    "name": "currentPosition",
    "memberof": "src/helpers/cursor-layer.js~CursorLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/cursor-layer.js~CursorLayer#currentPosition",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 317,
    "kind": "file",
    "name": "src/helpers/grid-axis-layer.js",
    "content": "import AxisLayer from '../axis/axis-layer';\nimport Ticks from '../shapes/ticks';\nimport gridAxisGenerator from '../axis/grid-axis-generator';\n\n\n/**\n * Helper to create a grid layer\n *\n * [example usage](./examples/layer-axis.html)\n */\nexport default class GridAxisLayer extends AxisLayer {\n  /**\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(options) {\n    options = Object.assign({\n      color: 'steelblue',\n      bpm: 60,\n      signature: '4/4'\n    }, options);\n\n    super(gridAxisGenerator(options.bpm, options.signature), options);\n\n    this.configureShape(Ticks, {}, {\n      color: options.color\n    });\n  }\n}",
    "static": true,
    "longname": "src/helpers/grid-axis-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 318,
    "kind": "class",
    "name": "GridAxisLayer",
    "memberof": "src/helpers/grid-axis-layer.js",
    "static": true,
    "longname": "src/helpers/grid-axis-layer.js~GridAxisLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/grid-axis-layer.js",
    "importStyle": "GridAxisLayer",
    "description": "Helper to create a grid layer\n\n[example usage](./examples/layer-axis.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/axis/axis-layer.js~AxisLayer"
    ]
  },
  {
    "__docId__": 319,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/grid-axis-layer.js~GridAxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/grid-axis-layer.js~GridAxisLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 15,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 320,
    "kind": "file",
    "name": "src/helpers/highlight-layer.js",
    "content": "import Layer from '../core/layer';\nimport Crosshairs from '../shapes/crosshairs';\n\n/**\n * Helper to create a crosshair layer that highlights the value\n * reported by an object's describe() method at a time set through the\n * currentPosition property. The describingObject must have a\n * describe(time) method that takes only a time and returns an array\n * of { cx, cy, unit }. An example of such a describingObject might be\n * another layer.\n *\n * [example usage](./examples/layer-highlight.html)\n */\nexport default class HighlightLayer extends Layer {\n  /**\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(describingObject, options = {}) {\n    const defaults = {\n      color: 'red',\n      labelOffset: 0,\n      hittable: false, // kind of pass through layer\n    };\n\n    const data = {\n      currentPosition: 0,\n      describing: describingObject,\n      lastDescribedPosition: 0,\n      lastDescription: null,\n      describe: function() {\n        let pos = this.currentPosition;\n        if (pos !== this.lastDescribedPosition || this.lastDescription === null) {\n          this.lastDescription = this.describing.describe(pos);\n          this.lastDescribedPosition = pos;\n          console.log(\"requesting new description for cx = \" + pos);\n        } else {\n          console.log(\"reusing last description\");\n        }\n        return this.lastDescription;\n      }\n    };\n\n    options = Object.assign(defaults, options);\n    super('entity', data, options);\n\n    this.configureShape(Crosshairs, {\n      // We have a choice here -- use the x coord of the nearest point\n      // (the one that is also contributing its y coord) or use the x\n      // coord of the probe point. The latter looks better when the\n      // probe point is based on a cursor that is also displayed on\n      // this track. But it's a bit of a lie. Let's do it anyway\n      cx: (d) => d.currentPosition,\n      cy: (d) => d.describe()[0].cy,\n      unit: (d) => d.describe()[0].unit\n    }, {\n      color: options.color,\n      opacity: options.opacity,\n      labelOffset: options.labelOffset\n    });\n  }\n\n  set currentPosition(pos) {\n    this.data[0].currentPosition = pos;\n  }\n\n  get currentPosition() {\n    return this.data[0].currentPosition;\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/highlight-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 321,
    "kind": "class",
    "name": "HighlightLayer",
    "memberof": "src/helpers/highlight-layer.js",
    "static": true,
    "longname": "src/helpers/highlight-layer.js~HighlightLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/highlight-layer.js",
    "importStyle": "HighlightLayer",
    "description": "Helper to create a crosshair layer that highlights the value\nreported by an object's describe() method at a time set through the\ncurrentPosition property. The describingObject must have a\ndescribe(time) method that takes only a time and returns an array\nof { cx, cy, unit }. An example of such a describingObject might be\nanother layer.\n\n[example usage](./examples/layer-highlight.html)",
    "lineNumber": 14,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 322,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/highlight-layer.js~HighlightLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/highlight-layer.js~HighlightLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 323,
    "kind": "member",
    "name": "lastDescription",
    "memberof": "src/helpers/highlight-layer.js~HighlightLayer",
    "static": false,
    "longname": "src/helpers/highlight-layer.js~HighlightLayer#lastDescription",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 324,
    "kind": "member",
    "name": "lastDescribedPosition",
    "memberof": "src/helpers/highlight-layer.js~HighlightLayer",
    "static": false,
    "longname": "src/helpers/highlight-layer.js~HighlightLayer#lastDescribedPosition",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 325,
    "kind": "set",
    "name": "currentPosition",
    "memberof": "src/helpers/highlight-layer.js~HighlightLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/highlight-layer.js~HighlightLayer#currentPosition",
    "access": null,
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 326,
    "kind": "get",
    "name": "currentPosition",
    "memberof": "src/helpers/highlight-layer.js~HighlightLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/highlight-layer.js~HighlightLayer#currentPosition",
    "access": null,
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 327,
    "kind": "file",
    "name": "src/helpers/line-layer.js",
    "content": "import Dot from '../shapes/dot';\nimport Layer from '../core/layer';\nimport Line from '../shapes/line';\n\n\n/**\n * Helper to create a line layer.\n */\nexport default class LineLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n    super('entity', data, options);\n\n    const color = options.color;\n    let lineOptions = {};\n\n    if (color) {\n      accessors.color = function() { return color; };\n      lineOptions.color = color;\n    }\n\n    this.configureShape(Line, accessors, lineOptions);\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/line-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 328,
    "kind": "class",
    "name": "LineLayer",
    "memberof": "src/helpers/line-layer.js",
    "static": true,
    "longname": "src/helpers/line-layer.js~LineLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/line-layer.js",
    "importStyle": "LineLayer",
    "description": "Helper to create a line layer.",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 329,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/line-layer.js~LineLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/line-layer.js~LineLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 330,
    "kind": "file",
    "name": "src/helpers/marker-layer.js",
    "content": "import Layer from '../core/layer';\nimport Marker from '../shapes/marker';\nimport MarkerBehavior from '../behaviors/marker-behavior';\n\n\n/**\n * Helper to create a marker layer.\n *\n * [example usage](./examples/layer-breakpoint.html)\n */\nexport default class MarkerLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n    super('collection', data, options);\n\n    options = Object.assign({ displayHandlers: true }, options);\n    const color = options.color;\n    if (color) {\n      accessors.color = function() { return color; };\n    }\n\n    this.configureShape(Marker, accessors, {\n      displayHandlers: options.displayHandlers\n    });\n\n    this.setBehavior(new MarkerBehavior());\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/marker-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 331,
    "kind": "class",
    "name": "MarkerLayer",
    "memberof": "src/helpers/marker-layer.js",
    "static": true,
    "longname": "src/helpers/marker-layer.js~MarkerLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/marker-layer.js",
    "importStyle": "MarkerLayer",
    "description": "Helper to create a marker layer.\n\n[example usage](./examples/layer-breakpoint.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 332,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/marker-layer.js~MarkerLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/marker-layer.js~MarkerLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 333,
    "kind": "file",
    "name": "src/helpers/matrix-layer.js",
    "content": "import Layer from '../core/layer';\nimport Matrix from '../shapes/matrix';\n\nconst defaults = {\n  normalise: 'none',\n  gain: 1.0,\n  channel: 0\n};\n\n/**\n * Helper to create a matrix layer.\n */\nexport default class MatrixLayer extends Layer {\n  /**\n   * @param {AudioBuffer} buffer - The audio buffer to display.\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(matrixEntity, options) {\n\n    options = Object.assign({}, defaults, options);\n\n    super('entity', matrixEntity, options);\n\n    this.configureShape(Matrix, {}, options);\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/matrix-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 334,
    "kind": "variable",
    "name": "defaults",
    "memberof": "src/helpers/matrix-layer.js",
    "static": true,
    "longname": "src/helpers/matrix-layer.js~defaults",
    "access": null,
    "export": false,
    "importPath": "waves-ui-piper/src/helpers/matrix-layer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{\"normalise\": string, \"gain\": number, \"channel\": *}"
      ]
    }
  },
  {
    "__docId__": 335,
    "kind": "class",
    "name": "MatrixLayer",
    "memberof": "src/helpers/matrix-layer.js",
    "static": true,
    "longname": "src/helpers/matrix-layer.js~MatrixLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/matrix-layer.js",
    "importStyle": "MatrixLayer",
    "description": "Helper to create a matrix layer.",
    "lineNumber": 13,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 336,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/matrix-layer.js~MatrixLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/matrix-layer.js~MatrixLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "AudioBuffer"
        ],
        "spread": false,
        "optional": false,
        "name": "buffer",
        "description": "The audio buffer to display."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 337,
    "kind": "file",
    "name": "src/helpers/pianoroll-layer.js",
    "content": "import Layer from '../core/layer';\nimport Segment from '../shapes/segment';\nimport SegmentBehavior from '../behaviors/segment-behavior';\n\n/**\n * Helper to create a MIDI-style piano roll layer. Data must have\n * \"time\", \"duration\" and \"pitch\" values, and may also have\n * \"velocity\". Pitch and velocity are in the same 0-127 range as MIDI,\n * although values can be non-integral.\n *\n * [example usage](./examples/layer-pianoroll.html)\n */\nexport default class PianoRollLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n\n    const noteHeight = 1;\n    \n    options = Object.assign({\n      displayHandlers: false,\n      opacity: 1.0,\n      yDomain: [0, 127],\n      color: '#000000'\n    }, options);\n    \n    const rects = data.map(datum => {\n      let level = 0;\n      if (typeof(datum.velocity) !== 'undefined') {\n        level = 256 - 2*datum.velocity;\n      }\n      return {\n        x: datum.time,\n        y: datum.pitch,\n        width: datum.duration,\n        height: noteHeight,\n        color: `rgb(${level},${level},${level})`,\n      };\n    });\n\n    super('collection', rects, options);\n\n    this.configureShape(Segment, accessors, {\n      displayHandlers: options.displayHandlers,\n      opacity: options.opacity,\n    });\n    \n    this.setBehavior(new SegmentBehavior());\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/pianoroll-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 338,
    "kind": "class",
    "name": "PianoRollLayer",
    "memberof": "src/helpers/pianoroll-layer.js",
    "static": true,
    "longname": "src/helpers/pianoroll-layer.js~PianoRollLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/pianoroll-layer.js",
    "importStyle": "PianoRollLayer",
    "description": "Helper to create a MIDI-style piano roll layer. Data must have\n\"time\", \"duration\" and \"pitch\" values, and may also have\n\"velocity\". Pitch and velocity are in the same 0-127 range as MIDI,\nalthough values can be non-integral.\n\n[example usage](./examples/layer-pianoroll.html)",
    "lineNumber": 13,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 339,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/pianoroll-layer.js~PianoRollLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/pianoroll-layer.js~PianoRollLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 20,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 340,
    "kind": "file",
    "name": "src/helpers/scale-layer.js",
    "content": "import Layer from '../core/layer';\nimport Scale from '../shapes/scale';\n\n\n/**\n * Helper to create a scale layer.\n *\n * [example usage](./examples/layer-scale.html)\n */\nexport default class ScaleLayer extends Layer {\n  /**\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(options = {}) {\n    const defaults = {\n      background: '#ffffff',\n      tickColor: 'red',\n      textColor: 'red',\n      hittable: false, // kind of pass through layer\n    };\n\n    const data = { };\n\n    options = Object.assign(defaults, options);\n    super('entity', data, options);\n\n    this.configureShape(Scale, { }, {\n      background: options.background,\n      tickColor: options.tickColor,\n      textColor: options.textColor\n    });\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/scale-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 341,
    "kind": "class",
    "name": "ScaleLayer",
    "memberof": "src/helpers/scale-layer.js",
    "static": true,
    "longname": "src/helpers/scale-layer.js~ScaleLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/scale-layer.js",
    "importStyle": "ScaleLayer",
    "description": "Helper to create a scale layer.\n\n[example usage](./examples/layer-scale.html)",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 342,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/scale-layer.js~ScaleLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/scale-layer.js~ScaleLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 14,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 343,
    "kind": "file",
    "name": "src/helpers/segment-layer.js",
    "content": "import Layer from '../core/layer';\nimport Segment from '../shapes/segment';\nimport SegmentBehavior from '../behaviors/segment-behavior';\n\n\n/**\n * Helper to create a segment layer.\n *\n * [example usage](./examples/layer-segment.html)\n */\nexport default class SegmentLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n    super('collection', data, options);\n\n    options = Object.assign({\n      displayHandlers: true,\n      opacity: 0.6\n    }, options);\n\n    this.configureShape(Segment, accessors, {\n      displayHandlers: options.displayHandlers,\n      opacity: options.opacity,\n    });\n\n    this.setBehavior(new SegmentBehavior());\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/segment-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 344,
    "kind": "class",
    "name": "SegmentLayer",
    "memberof": "src/helpers/segment-layer.js",
    "static": true,
    "longname": "src/helpers/segment-layer.js~SegmentLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/segment-layer.js",
    "importStyle": "SegmentLayer",
    "description": "Helper to create a segment layer.\n\n[example usage](./examples/layer-segment.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 345,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/segment-layer.js~SegmentLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/segment-layer.js~SegmentLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 346,
    "kind": "file",
    "name": "src/helpers/tick-layer.js",
    "content": "import Layer from '../core/layer';\nimport Ticks from '../shapes/ticks';\n\n\n/**\n * Helper to create a tick layer. Can be seen as a grid axis with user defined data\n * or as a marker layer with entity based data.\n */\nexport default class TickLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options, accessors) {\n    options = Object.assign({\n\n    }, options);\n\n    super('entity', data, options);\n\n    this.configureShape(Ticks, accessors, options);\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/tick-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 347,
    "kind": "class",
    "name": "TickLayer",
    "memberof": "src/helpers/tick-layer.js",
    "static": true,
    "longname": "src/helpers/tick-layer.js~TickLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/tick-layer.js",
    "importStyle": "TickLayer",
    "description": "Helper to create a tick layer. Can be seen as a grid axis with user defined data\nor as a marker layer with entity based data.",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 348,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/tick-layer.js~TickLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/tick-layer.js~TickLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 349,
    "kind": "file",
    "name": "src/helpers/time-axis-layer.js",
    "content": "import AxisLayer from '../axis/axis-layer';\nimport Ticks from '../shapes/ticks';\nimport timeAxisGenerator from '../axis/time-axis-generator';\n\n\n/**\n * Helper to create a time axis layer\n *\n * [example usage](./examples/layer-axis.html)\n */\nexport default class TimeAxisLayer extends AxisLayer {\n  /**\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(options) {\n    options = Object.assign({ color: 'steelblue' }, options);\n    super(timeAxisGenerator(), options);\n\n    this.configureShape(Ticks, {}, {\n      color: options.color,\n      unconstrained: true\n    });\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/time-axis-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 350,
    "kind": "class",
    "name": "TimeAxisLayer",
    "memberof": "src/helpers/time-axis-layer.js",
    "static": true,
    "longname": "src/helpers/time-axis-layer.js~TimeAxisLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/time-axis-layer.js",
    "importStyle": "TimeAxisLayer",
    "description": "Helper to create a time axis layer\n\n[example usage](./examples/layer-axis.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/axis/axis-layer.js~AxisLayer"
    ]
  },
  {
    "__docId__": 351,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/time-axis-layer.js~TimeAxisLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/time-axis-layer.js~TimeAxisLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 15,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 352,
    "kind": "file",
    "name": "src/helpers/trace-layer.js",
    "content": "import Layer from '../core/layer';\nimport TracePath from '../shapes/trace-path';\nimport TraceDots from '../shapes/trace-dots';\nimport TraceBehavior from '../behaviors/trace-behavior';\n\n\n/**\n * Helper to create a trace layer.\n *\n * [example usage](./examples/layer-trace.html)\n */\nexport default class TraceLayer extends Layer {\n  /**\n   * @param {Array} data - The data to render.\n   * @param {Object} options - An object to configure the layer.\n   * @param {Object} accessors - The accessors to configure the mapping\n   *    between shapes and data.\n   */\n  constructor(data, options = {}, accessors = {}) {\n    options = Object.assign({ displayDots: true }, options);\n    super(options.displayDots ? 'collection' : 'entity', data, options);\n\n    const shapeOptions = {};\n    if (options.meanColor !== undefined) { shapeOptions.meanColor = options.meanColor; }\n    if (options.rangeColor !== undefined) { shapeOptions.rangeColor = options.rangeColor; }\n    if (options.displayMean !== undefined) { shapeOptions.displayMean = options.displayMean; }\n\n    if (options.displayDots) {\n      this.configureCommonShape(TracePath, accessors, shapeOptions);\n      this.configureShape(TraceDots, accessors, shapeOptions);\n    } else {\n      this.configureShape(TracePath, accessors, shapeOptions);\n    }\n\n    this.setBehavior(new TraceBehavior());\n  }\n}",
    "static": true,
    "longname": "src/helpers/trace-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 353,
    "kind": "class",
    "name": "TraceLayer",
    "memberof": "src/helpers/trace-layer.js",
    "static": true,
    "longname": "src/helpers/trace-layer.js~TraceLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/trace-layer.js",
    "importStyle": "TraceLayer",
    "description": "Helper to create a trace layer.\n\n[example usage](./examples/layer-trace.html)",
    "lineNumber": 12,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 354,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/trace-layer.js~TraceLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/trace-layer.js~TraceLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data to render."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": "The accessors to configure the mapping\n   between shapes and data."
      }
    ]
  },
  {
    "__docId__": 355,
    "kind": "file",
    "name": "src/helpers/waveform-layer.js",
    "content": "import Layer from '../core/layer';\nimport Waveform from '../shapes/waveform';\n\n\nconst defaults = {\n  yDomain: [-1, 1],\n  channel: 0,\n  color: 'steelblue',\n  renderingStrategy: 'svg'\n};\n\n/**\n * Helper to create a waveform layer.\n *\n * [example usage](./examples/layer-waveform.html)\n */\nexport default class WaveformLayer extends Layer {\n  /**\n   * @param {AudioBuffer} buffer - The audio buffer to display.\n   * @param {Object} options - An object to configure the layer.\n   */\n  constructor(buffer, options) {\n    options = Object.assign({}, defaults, options);\n\n    super('entity', buffer.getChannelData(options.channel), options);\n\n    this.configureShape(Waveform, {}, {\n      sampleRate: buffer.sampleRate,\n      color: options.color,\n      renderingStrategy: options.renderingStrategy\n    });\n  }\n}\n",
    "static": true,
    "longname": "src/helpers/waveform-layer.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 356,
    "kind": "variable",
    "name": "defaults",
    "memberof": "src/helpers/waveform-layer.js",
    "static": true,
    "longname": "src/helpers/waveform-layer.js~defaults",
    "access": null,
    "export": false,
    "importPath": "waves-ui-piper/src/helpers/waveform-layer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{\"yDomain\": *, \"channel\": *, \"color\": string, \"renderingStrategy\": string}"
      ]
    }
  },
  {
    "__docId__": 357,
    "kind": "class",
    "name": "WaveformLayer",
    "memberof": "src/helpers/waveform-layer.js",
    "static": true,
    "longname": "src/helpers/waveform-layer.js~WaveformLayer",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/helpers/waveform-layer.js",
    "importStyle": "WaveformLayer",
    "description": "Helper to create a waveform layer.\n\n[example usage](./examples/layer-waveform.html)",
    "lineNumber": 17,
    "interface": false,
    "extends": [
      "src/core/layer.js~Layer"
    ]
  },
  {
    "__docId__": 358,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/helpers/waveform-layer.js~WaveformLayer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/helpers/waveform-layer.js~WaveformLayer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 22,
    "params": [
      {
        "nullable": null,
        "types": [
          "AudioBuffer"
        ],
        "spread": false,
        "optional": false,
        "name": "buffer",
        "description": "The audio buffer to display."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "An object to configure the layer."
      }
    ]
  },
  {
    "__docId__": 359,
    "kind": "file",
    "name": "src/interactions/event-source.js",
    "content": "import events from 'events';\n\n\n/**\n * Abstract class to extend to create new sources of interactions.\n * A `Surface` and `Keyboard` event sources are provided.\n */\nexport default class EventSource extends events.EventEmitter {\n  constructor($el) {\n    super();\n    /**\n     * The element on which the listener is added\n     * @type {Element}\n     */\n    this.$el = $el;\n\n    this._bindEvents();\n  }\n\n  _createEvent(type, e) {}\n\n  _bindEvents() {}\n}\n",
    "static": true,
    "longname": "src/interactions/event-source.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 360,
    "kind": "class",
    "name": "EventSource",
    "memberof": "src/interactions/event-source.js",
    "static": true,
    "longname": "src/interactions/event-source.js~EventSource",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/interactions/event-source.js",
    "importStyle": "EventSource",
    "description": "Abstract class to extend to create new sources of interactions.\nA `Surface` and `Keyboard` event sources are provided.",
    "lineNumber": 8,
    "interface": false,
    "extends": [
      "events~events.EventEmitter"
    ]
  },
  {
    "__docId__": 361,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/interactions/event-source.js~EventSource",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/event-source.js~EventSource#constructor",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "$el",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 362,
    "kind": "member",
    "name": "$el",
    "memberof": "src/interactions/event-source.js~EventSource",
    "static": false,
    "longname": "src/interactions/event-source.js~EventSource#$el",
    "access": null,
    "description": "The element on which the listener is added",
    "lineNumber": 15,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 363,
    "kind": "method",
    "name": "_createEvent",
    "memberof": "src/interactions/event-source.js~EventSource",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/event-source.js~EventSource#_createEvent",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "type",
        "types": [
          "*"
        ]
      },
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 364,
    "kind": "method",
    "name": "_bindEvents",
    "memberof": "src/interactions/event-source.js~EventSource",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/event-source.js~EventSource#_bindEvents",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 365,
    "kind": "file",
    "name": "src/interactions/keyboard.js",
    "content": "import EventSource from './event-source';\nimport WaveEvent from './wave-event';\n\n\n/**\n * A global event sourve for the keyboard. Only one instance of this source\n * can be created. The first created timeline instanciate the singleton, each\n * subsequent instanciation returns the first created instance.\n */\nexport default class Keyboard extends EventSource {\n  /**\n   * @param {Element} $el - The element on which to install the listener.\n   */\n  constructor($el) {\n    // kind of singleton\n    if (Keyboard._instance) { return Keyboard._instance; }\n\n    super($el);\n    /**\n     * The name of the source\n     * @type {String}\n     */\n    this.sourceName = 'keyboard';\n\n    Keyboard._instance = this;\n  }\n\n  _createEvent(type, e) {\n    const event = new WaveEvent(this.sourceName, type, e);\n\n    event.shiftKey = e.shiftKey;\n    event.ctrlKey = e.ctrlKey;\n    event.altKey = e.altKey;\n    event.metaKey = e.metaKey;\n    event.char = String.fromCharCode(e.keyCode);\n\n    return event;\n  }\n\n  _bindEvents() {\n    const onKeyDown = (e) => {\n      let event = this._createEvent('keydown', e);\n      this.emit('event', event);\n    };\n\n    const onKeyUp = (e) => {\n      let event = this._createEvent('keyup', e);\n      this.emit('event', event);\n    };\n\n    this.$el.addEventListener('keydown', onKeyDown, false);\n    this.$el.addEventListener('keyup', onKeyUp, false);\n  }\n}\n",
    "static": true,
    "longname": "src/interactions/keyboard.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 366,
    "kind": "class",
    "name": "Keyboard",
    "memberof": "src/interactions/keyboard.js",
    "static": true,
    "longname": "src/interactions/keyboard.js~Keyboard",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/interactions/keyboard.js",
    "importStyle": "Keyboard",
    "description": "A global event sourve for the keyboard. Only one instance of this source\ncan be created. The first created timeline instanciate the singleton, each\nsubsequent instanciation returns the first created instance.",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/interactions/event-source.js~EventSource"
    ]
  },
  {
    "__docId__": 367,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/interactions/keyboard.js~Keyboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/keyboard.js~Keyboard#constructor",
    "access": null,
    "description": "",
    "lineNumber": 14,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "$el",
        "description": "The element on which to install the listener."
      }
    ]
  },
  {
    "__docId__": 368,
    "kind": "member",
    "name": "sourceName",
    "memberof": "src/interactions/keyboard.js~Keyboard",
    "static": false,
    "longname": "src/interactions/keyboard.js~Keyboard#sourceName",
    "access": null,
    "description": "The name of the source",
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 369,
    "kind": "method",
    "name": "_createEvent",
    "memberof": "src/interactions/keyboard.js~Keyboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/keyboard.js~Keyboard#_createEvent",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "type",
        "types": [
          "*"
        ]
      },
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 370,
    "kind": "method",
    "name": "_bindEvents",
    "memberof": "src/interactions/keyboard.js~Keyboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/keyboard.js~Keyboard#_bindEvents",
    "access": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 371,
    "kind": "file",
    "name": "src/interactions/surface.js",
    "content": "import EventSource from './event-source';\nimport WaveEvent from './wave-event';\n\n\n/**\n * Normalizes mouse user interactions with the timeline upon the DOM\n * container element of `Track` instances. As soon as a `track` is added to a\n * `timeline`, its attached `Surface` instance will emit the mouse events.\n */\nexport default class Surface extends EventSource {\n  /**\n   * @param {DOMElement} el - The DOM element to listen.\n   * @todo - Add some padding to the surface.\n   */\n  constructor($el) {\n    super($el);\n\n    /**\n     * The name of the event source.\n     * @type {String}\n     */\n    this.sourceName = 'surface';\n    this._mouseDownEvent = null;\n    this._lastEvent = null;\n  }\n\n  /**\n   * Factory method for `Event` class\n   */\n  _createEvent(type, e) {\n    const event = new WaveEvent(this.sourceName, type, e);\n\n    const pos = this._getRelativePosition(e);\n    event.x = pos.x;\n    event.y = pos.y;\n\n    return event;\n  }\n\n  /**\n   * Returns the x, y coordinates coordinates relative to the surface element.\n   *\n   * @param {Event} e - Raw event from listener.\n   * @return {Object}\n   * @todo - handle padding.\n   */\n  _getRelativePosition(e) {\n    // @TODO: should be able to ignore padding\n    let x = 0;\n    let y = 0;\n    const clientRect = this.$el.getBoundingClientRect();\n    const scrollLeft = document.body.scrollLeft + document.documentElement.scrollLeft;\n    const scrollTop  = document.body.scrollTop + document.documentElement.scrollTop;\n\n    // Adapted from http://www.quirksmode.org/js/events_properties.html#position\n    if (e.pageX || e.pageY) {\n      x = e.pageX;\n      y = e.pageY;\n    } else if (e.clientX || e.clientY) {\n      // Normalize to pageX, pageY\n      x = e.clientX + scrollLeft;\n      y = e.clientY + scrollTop;\n    }\n\n    // clientRect refers to the client, not to the page\n    x = x - (clientRect.left + scrollLeft);\n    y = y - (clientRect.top  + scrollTop );\n\n    return { x, y };\n  }\n\n  _defineArea(e, mouseDownEvent, lastEvent) {\n    if (!mouseDownEvent || !lastEvent) { return; }\n    e.dx = e.x - lastEvent.x;\n    e.dy = e.y - lastEvent.y;\n\n    const left = mouseDownEvent.x < e.x ? mouseDownEvent.x : e.x;\n    const top  = mouseDownEvent.y < e.y ? mouseDownEvent.y : e.y;\n    const width  = Math.abs(Math.round(e.x - mouseDownEvent.x));\n    const height = Math.abs(Math.round(e.y - mouseDownEvent.y));\n\n    e.area = { left, top, width, height };\n  }\n\n  /**\n   * Keep this private to avoid double event binding. Main logic of the surface\n   * is here. Should be extended with needed events (mouseenter, mouseleave,\n   * wheel ...).\n   */\n  _bindEvents() {\n    const onMouseDown = (e) => {\n      // By removing the previous selection we prevent bypassing the mousemove events coming from SVG in Firefox.\n      window.getSelection().removeAllRanges();\n      const event = this._createEvent('mousedown', e);\n\n\n      this._mouseDownEvent = event;\n      this._lastEvent = event;\n      // Register mousemove and mouseup listeners on window\n      window.addEventListener('mousemove', onMouseMove, false);\n      window.addEventListener('mouseup', onMouseUp, false);\n\n      this.emit('event', event);\n    };\n\n    const onMouseMove = (e) => {\n      let event = this._createEvent('mousemove', e);\n      this._defineArea(event, this._mouseDownEvent, this._lastEvent);\n      // Update `lastEvent` for next call\n      this._lastEvent = event;\n\n      this.emit('event', event);\n    };\n\n    const onMouseUp = (e) => {\n      let event = this._createEvent('mouseup', e);\n      this._defineArea(event, this._mouseDownEvent, this._lastEvent);\n\n\n      this._mouseDownEvent = null;\n      this._lastEvent = null;\n      // Remove mousemove and mouseup listeners on window\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('mouseup', onMouseUp);\n\n      this.emit('event', event);\n    };\n\n    const onClick = (e) => {\n      let event = this._createEvent('click', e);\n      this.emit('event', event);\n    };\n\n    const onDblClick = (e) => {\n      let event = this._createEvent('dblclick', e);\n      this.emit('event', event);\n    };\n\n    const onMouseOver = (e) => {\n      let event = this._createEvent('mouseover', e);\n      this.emit('event', event);\n    };\n\n    const onMouseOut = (e) => {\n      let event = this._createEvent('mouseout', e);\n      this.emit('event', event);\n    };\n\n    // Bind callbacks\n    this.$el.addEventListener('mousedown', onMouseDown, false);\n    this.$el.addEventListener('click', onClick, false);\n    this.$el.addEventListener('dblclick', onDblClick, false);\n    this.$el.addEventListener('mouseover', onMouseOver, false);\n    this.$el.addEventListener('mouseout', onMouseOut, false);\n  }\n}\n",
    "static": true,
    "longname": "src/interactions/surface.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 372,
    "kind": "class",
    "name": "Surface",
    "memberof": "src/interactions/surface.js",
    "static": true,
    "longname": "src/interactions/surface.js~Surface",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/interactions/surface.js",
    "importStyle": "Surface",
    "description": "Normalizes mouse user interactions with the timeline upon the DOM\ncontainer element of `Track` instances. As soon as a `track` is added to a\n`timeline`, its attached `Surface` instance will emit the mouse events.",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/interactions/event-source.js~EventSource"
    ]
  },
  {
    "__docId__": 373,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/interactions/surface.js~Surface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/surface.js~Surface#constructor",
    "access": null,
    "description": "",
    "lineNumber": 15,
    "todo": [
      "- Add some padding to the surface."
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "DOMElement"
        ],
        "spread": false,
        "optional": false,
        "name": "el",
        "description": "The DOM element to listen."
      }
    ]
  },
  {
    "__docId__": 374,
    "kind": "member",
    "name": "sourceName",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#sourceName",
    "access": null,
    "description": "The name of the event source.",
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 375,
    "kind": "member",
    "name": "_mouseDownEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_mouseDownEvent",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 376,
    "kind": "member",
    "name": "_lastEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_lastEvent",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 377,
    "kind": "method",
    "name": "_createEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_createEvent",
    "access": null,
    "description": "Factory method for `Event` class",
    "lineNumber": 30,
    "params": [
      {
        "name": "type",
        "types": [
          "*"
        ]
      },
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 378,
    "kind": "method",
    "name": "_getRelativePosition",
    "memberof": "src/interactions/surface.js~Surface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_getRelativePosition",
    "access": null,
    "description": "Returns the x, y coordinates coordinates relative to the surface element.",
    "lineNumber": 47,
    "todo": [
      "- handle padding."
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "Raw event from listener."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 379,
    "kind": "method",
    "name": "_defineArea",
    "memberof": "src/interactions/surface.js~Surface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_defineArea",
    "access": null,
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "mouseDownEvent",
        "types": [
          "*"
        ]
      },
      {
        "name": "lastEvent",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 380,
    "kind": "method",
    "name": "_bindEvents",
    "memberof": "src/interactions/surface.js~Surface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_bindEvents",
    "access": null,
    "description": "Keep this private to avoid double event binding. Main logic of the surface\nis here. Should be extended with needed events (mouseenter, mouseleave,\nwheel ...).",
    "lineNumber": 90,
    "params": []
  },
  {
    "__docId__": 381,
    "kind": "member",
    "name": "_mouseDownEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_mouseDownEvent",
    "access": null,
    "description": null,
    "lineNumber": 97,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 382,
    "kind": "member",
    "name": "_lastEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_lastEvent",
    "access": null,
    "description": null,
    "lineNumber": 98,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 383,
    "kind": "member",
    "name": "_lastEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_lastEvent",
    "access": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 384,
    "kind": "member",
    "name": "_mouseDownEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_mouseDownEvent",
    "access": null,
    "description": null,
    "lineNumber": 120,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 385,
    "kind": "member",
    "name": "_lastEvent",
    "memberof": "src/interactions/surface.js~Surface",
    "static": false,
    "longname": "src/interactions/surface.js~Surface#_lastEvent",
    "access": null,
    "description": null,
    "lineNumber": 121,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 386,
    "kind": "file",
    "name": "src/interactions/wave-event.js",
    "content": "/**\n * Object template for all events. Event sources should use this event template\n * in order to keep consistency with existing sources.\n */\nexport default class WaveEvent {\n  /**\n   * @param {String} source - The name of the source (`keyboard`, `surface`, ...).\n   * @param {String} type - The type of the source (`mousedown`, `keyup`, ...).\n   * @param {Event} originalEvent - The original event as emitted by the browser.\n   */\n  constructor(source, type, originalEvent) {\n    this.source = source;\n    this.type = type;\n    this.originalEvent = originalEvent;\n\n    this.target = originalEvent.target;\n    this.currentTarget = originalEvent.currentTarget;\n  }\n}\n",
    "static": true,
    "longname": "src/interactions/wave-event.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 387,
    "kind": "class",
    "name": "WaveEvent",
    "memberof": "src/interactions/wave-event.js",
    "static": true,
    "longname": "src/interactions/wave-event.js~WaveEvent",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/interactions/wave-event.js",
    "importStyle": "WaveEvent",
    "description": "Object template for all events. Event sources should use this event template\nin order to keep consistency with existing sources.",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 388,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/interactions/wave-event.js~WaveEvent",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/interactions/wave-event.js~WaveEvent#constructor",
    "access": null,
    "description": "",
    "lineNumber": 11,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "source",
        "description": "The name of the source (`keyboard`, `surface`, ...)."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "The type of the source (`mousedown`, `keyup`, ...)."
      },
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "originalEvent",
        "description": "The original event as emitted by the browser."
      }
    ]
  },
  {
    "__docId__": 389,
    "kind": "member",
    "name": "source",
    "memberof": "src/interactions/wave-event.js~WaveEvent",
    "static": false,
    "longname": "src/interactions/wave-event.js~WaveEvent#source",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 390,
    "kind": "member",
    "name": "type",
    "memberof": "src/interactions/wave-event.js~WaveEvent",
    "static": false,
    "longname": "src/interactions/wave-event.js~WaveEvent#type",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 391,
    "kind": "member",
    "name": "originalEvent",
    "memberof": "src/interactions/wave-event.js~WaveEvent",
    "static": false,
    "longname": "src/interactions/wave-event.js~WaveEvent#originalEvent",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 392,
    "kind": "member",
    "name": "target",
    "memberof": "src/interactions/wave-event.js~WaveEvent",
    "static": false,
    "longname": "src/interactions/wave-event.js~WaveEvent#target",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 393,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/interactions/wave-event.js~WaveEvent",
    "static": false,
    "longname": "src/interactions/wave-event.js~WaveEvent#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 394,
    "kind": "file",
    "name": "src/shapes/annotated-marker.js",
    "content": "import Marker from './marker';\n\n\n/**\n * A shape to display a marker with annotation.\n *\n * [example usage](./examples/layer-marker.html)\n */\nexport default class AnnotatedMarker extends Marker {\n  getClassName() { return 'annotated-marker'; }\n\n  _getAccessorList() {\n    let list = super._getAccessorList();\n    list.text = 'default';\n    return list;\n  }\n\n  render(renderingContext) {\n    this.$el = super.render(renderingContext);\n    const height = renderingContext.height;\n\n    this.$label = document.createElementNS(this.ns, 'text');\n    this.$label.setAttributeNS(null, 'x', 8);\n    this.$label.setAttributeNS(null, 'y', 8);\n    this.$label.setAttributeNS(null, 'transform', `matrix(1, 0, 0, -1, 0, ${height})`);\n    this.$label.style.fontSize = '10px';\n    this.$label.style.fontFamily = 'monospace';\n    this.$label.style.color = '#242424';\n    this.$label.style.mozUserSelect = 'none';\n    this.$label.style.webkitUserSelect = 'none';\n    this.$label.style.userSelect = 'none';\n\n    this.$el.appendChild(this.$label);\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n    super.update(renderingContext, datum);\n\n    if (this.$label.firstChild) {\n      this.$label.removeChild(this.$label.firstChild);\n    }\n\n    const $text = document.createTextNode(this.text(datum));\n    this.$label.appendChild($text);\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/annotated-marker.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 395,
    "kind": "class",
    "name": "AnnotatedMarker",
    "memberof": "src/shapes/annotated-marker.js",
    "static": true,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/annotated-marker.js",
    "importStyle": "AnnotatedMarker",
    "description": "A shape to display a marker with annotation.\n\n[example usage](./examples/layer-marker.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/marker.js~Marker"
    ]
  },
  {
    "__docId__": 396,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 397,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 398,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker#render",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 399,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "static": false,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker#$el",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 400,
    "kind": "member",
    "name": "$label",
    "memberof": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "static": false,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker#$label",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 401,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/annotated-marker.js~AnnotatedMarker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-marker.js~AnnotatedMarker#update",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 402,
    "kind": "file",
    "name": "src/shapes/annotated-segment.js",
    "content": "import Segment from './segment';\n\n\n/**\n * A shape to display a segment with annotation.\n *\n * [example usage](./examples/layer-segment.html)\n */\nexport default class AnnotatedSegment extends Segment {\n  getClassName() { return 'annotated-segment'; }\n\n  _getAccessorList() {\n    let list = super._getAccessorList();\n    list.text = 'default';\n    return list;\n  }\n\n  render(renderingContext) {\n    this.$el = super.render(renderingContext);\n    const height = renderingContext.height;\n\n    this.$label = document.createElementNS(this.ns, 'text');\n    this.$label.setAttributeNS(null, 'y', 11);\n    this.$label.setAttributeNS(null, 'transform', `matrix(1, 0, 0, -1, 0, ${height})`);\n    this.$label.style.fontSize = '10px';\n    this.$label.style.fontFamily = 'monospace';\n    this.$label.style.color = '#242424';\n    this.$label.style.mozUserSelect = 'none';\n    this.$label.style.webkitUserSelect = 'none';\n    this.$label.style.userSelect = 'none';\n\n    this.$el.appendChild(this.$label);\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n    super.update(renderingContext, datum);\n        \n    const x = renderingContext.timeToPixel(this.x(datum));\n    this.$label.setAttributeNS(null, 'x', x + 3);\n\n    const visible = (x >= renderingContext.minX && x <= renderingContext.maxX);\n\n    if (!visible) {\n      this.$label.setAttributeNS(null, 'visibility', 'hidden');\n      return;\n    } else {\n      this.$label.setAttributeNS(null, 'visibility', 'visible');\n    }\n\n    if (this.$label.firstChild) {\n      this.$label.removeChild(this.$label.firstChild);\n    }\n\n    const $text = document.createTextNode(this.text(datum));\n    this.$label.appendChild($text);\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/annotated-segment.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 403,
    "kind": "class",
    "name": "AnnotatedSegment",
    "memberof": "src/shapes/annotated-segment.js",
    "static": true,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/annotated-segment.js",
    "importStyle": "AnnotatedSegment",
    "description": "A shape to display a segment with annotation.\n\n[example usage](./examples/layer-segment.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/segment.js~Segment"
    ]
  },
  {
    "__docId__": 404,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 405,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 406,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment#render",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 407,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "static": false,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment#$el",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 408,
    "kind": "member",
    "name": "$label",
    "memberof": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "static": false,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment#$label",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 409,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/annotated-segment.js~AnnotatedSegment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/annotated-segment.js~AnnotatedSegment#update",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 410,
    "kind": "file",
    "name": "src/shapes/base-shape.js",
    "content": "import ns from '../core/namespace';\n\n\n/**\n * Is an abstract class or interface to be overriden in order to define new\n * shapes. Shapes define the way a given datum should be rendered, they are\n * the smallest unit of rendering into a timeline.\n *\n * All the life cycle of `Shape` instances is handled into the `Layer` instance\n * they are attach to. As a consequence, they should be mainly considered as\n * private objects. The only place they should be interacted with is in `Behavior`\n * definitions, to test which element of the shape is the target of the\n * interaction and define the interaction according to that test.\n *\n * Depending of its implementation a `Shape` can be used along with `entity` or\n * `collection` data type. Some shapes are then created to use data considered\n * as a single entity (Waveform, TracePath, Line), while others are defined to\n * be used with data seen as a collection, each shape rendering a single entry\n * of the collection. The shapes working with entity type data should therefore\n * be used in an `entity` configured `Layer`. Note that if they are registered\n * as \"commonShape\" in a `collection` type `Layer`, they will behave the exact\n * same way. These kind of shapes are noted: \"entity shape\".\n *\n * ### Available `collection` shapes:\n * - Marker / Annotated Marker\n * - Segment / Annotated Segment\n * - Dot\n * - TraceDots\n *\n * ### Available `entity` shapes:\n * - Line\n * - Tick (for axis)\n * - Waveform\n * - TracePath\n * - Matrix\n */\nexport default class BaseShape {\n  /**\n   * @param {Object} options - override default configuration\n   */\n  constructor(options = {}) {\n    /** @type {Element} - Svg element to be returned by the `render` method. */\n    this.$el = null;\n    /** @type {String} - Svg namespace. */\n    this.ns = ns;\n    /** @type {Object} - Object containing the global parameters of the shape */\n    this.params = Object.assign({}, this._getDefaults(), options);\n    // create accessors methods and set default accessor functions\n    const accessors = this._getAccessorList();\n    this._createAccessors(accessors);\n    this._setDefaultAccessors(accessors);\n  }\n\n  /**\n   * Destroy the shape and clean references. Interface method called from the `layer`.\n   */\n  destroy() {\n    // this.group = null;\n    this.$el = null;\n  }\n\n  /**\n   * Interface method to override when extending this base class. The method\n   * is called by the `Layer~render` method. Returns the name of the shape,\n   * used as a class in the element group (defaults to `'shape'`).\n   *\n   * @return {String}\n   */\n  getClassName() { return 'shape'; }\n\n  /**\n   * @todo not implemented\n   * allow to install defs in the track svg element. Should be called when\n   * adding the `Layer` to the `Track`.\n   */\n  // setSvgDefinition(defs) {}\n\n  /**\n   * Returns the defaults for global configuration of the shape.\n   * @protected\n   * @return {Object}\n   */\n  _getDefaults() {\n    return {};\n  }\n\n  /**\n   * Returns an object where keys are the accessors methods names to create\n   * and values are the default values for each given accessor.\n   *\n   * @protected\n   * @todo rename ?\n   * @return {Object}\n   */\n  _getAccessorList() { return {}; }\n\n\n  /**\n   * Interface method called by Layer when creating a shape. Install the\n   * given accessors on the shape, overriding the default accessors.\n   *\n   * @param {Object<String, function>} accessors\n   */\n  install(accessors) {\n    for (let key in accessors) { this[key] = accessors[key]; }\n  }\n\n  /**\n   * Generic method to create accessors. Adds getters en setters to the\n   * prototype if not already present.\n   */\n  _createAccessors(accessors) {\n    this._accessors = {};\n    // add it to the prototype\n    const proto = Object.getPrototypeOf(this);\n    // create a getter / setter for each accessors\n    // setter : `this.x = callback`\n    // getter : `this.x(datum)`\n    Object.keys(accessors).forEach((name) => {\n      if (proto.hasOwnProperty(name)) { return; }\n\n      Object.defineProperty(proto, name, {\n        get: function() { return this._accessors[name]; },\n        set: function(func) {\n          this._accessors[name] = func;\n        }\n      });\n    });\n  }\n\n  /**\n   * Create a function to be used as a default accessor for each accesors\n   */\n  _setDefaultAccessors(accessors) {\n    Object.keys(accessors).forEach((name) => {\n      const defaultValue = accessors[name];\n      let accessor = function(d, v = null) {\n        if (v === null) { return d[name] || defaultValue; }\n        d[name] = v;\n      };\n      // set accessor as the default one\n      this[name] = accessor;\n    });\n  }\n\n  /**\n   * Interface method called by `Layer~render`. Creates the DOM structure of\n   * the shape.\n   *\n   * @param {Object} renderingContext - the renderingContext of the layer\n   *    which owns this shape.\n   * @return {Element} - the DOM element to insert in the item's group.\n   */\n  render(renderingContext) {}\n\n  /**\n   * Interface method called by `Layer~update`, only for shapes with\n   * `entity` type.\n   *\n   * Called once for a given entity, to return any information derived\n   * from it that will be used subsequently when rendering. If this\n   * method returns a non-null object, then that object will be passed\n   * to the update method subsequently instead of the original entity\n   * datum. (If you want to retain access to the original entity,\n   * stash it in your cache object as well. Otherwise it may be GC'd\n   * if nobody else needs it.)\n   *\n   * @param {Object|Array} datum - Entity associated with this shape.\n   * @return {Object} - Cache data (opaque to caller) to pass to\n   *     `update` subsequently in place of the original entity datum.\n   */\n  encache(datum) { return null; }\n    \n  /**\n   * Interface method called by `Layer~update`. Updates the DOM structure of the shape.\n   *\n   * @param {Object} renderingContext - The `renderingContext` of the\n   *    layer which owns this shape.\n   * @param {Object|Array} datum - The datum or cache associated with\n   *    the shape. If the shape has collection type, this will be the\n   *    single item from the dataset that the shape is dedicated to\n   *    displaying. If it has entity type, then this will be the\n   *    object previously returned from the shape's `encache` method\n   *    (if any), or else the entity object itself.\n   */\n  update(renderingContext, datumOrCache) {}\n\n  /**\n   * Interface method to override called by `Layer~getItemsInArea`. Defines if\n   * the shape is considered to be the given area. Arguments are passed in pixel domain.\n   *\n   * @param {Object} renderingContext - the renderingContext of the layer which\n   *    owns this shape.\n   * @param {Object|Array} datum - The datum associated to the shape.\n   * @param {Number} x1 - The x component of the top-left corner of the area to test.\n   * @param {Number} y1 - The y component of the top-left corner of the area to test.\n   * @param {Number} x2 - The x component of the bottom-right corner of the area to test.\n   * @param {Number} y2 - The y component of the bottom-right corner of the area to test.\n   * @return {Boolean} - Returns `true` if the is considered to be in the given area, `false` otherwise.\n   */\n  inArea(renderingContext, datum, x1, y1, x2, y2) {}\n\n  /**\n   * Interface method that returns a value or description for salient\n   * features of the shape at the given x-coordinate (in time).\n   *\n   * The return value should be an array of objects each having\n   * properties \"cy\" (y-coord, i.e. underlying value of datum at or\n   * nearest to the given time), \"cx\" (x-coord in time of that datum)\n   * and optionally \"unit\" (unit of value as a string).\n   */\n  describe(datum, x) { return []; }\n}\n",
    "static": true,
    "longname": "src/shapes/base-shape.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 411,
    "kind": "class",
    "name": "BaseShape",
    "memberof": "src/shapes/base-shape.js",
    "static": true,
    "longname": "src/shapes/base-shape.js~BaseShape",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/base-shape.js",
    "importStyle": "BaseShape",
    "description": "Is an abstract class or interface to be overriden in order to define new\nshapes. Shapes define the way a given datum should be rendered, they are\nthe smallest unit of rendering into a timeline.\n\nAll the life cycle of `Shape` instances is handled into the `Layer` instance\nthey are attach to. As a consequence, they should be mainly considered as\nprivate objects. The only place they should be interacted with is in `Behavior`\ndefinitions, to test which element of the shape is the target of the\ninteraction and define the interaction according to that test.\n\nDepending of its implementation a `Shape` can be used along with `entity` or\n`collection` data type. Some shapes are then created to use data considered\nas a single entity (Waveform, TracePath, Line), while others are defined to\nbe used with data seen as a collection, each shape rendering a single entry\nof the collection. The shapes working with entity type data should therefore\nbe used in an `entity` configured `Layer`. Note that if they are registered\nas \"commonShape\" in a `collection` type `Layer`, they will behave the exact\nsame way. These kind of shapes are noted: \"entity shape\".\n\n### Available `collection` shapes:\n- Marker / Annotated Marker\n- Segment / Annotated Segment\n- Dot\n- TraceDots\n\n### Available `entity` shapes:\n- Line\n- Tick (for axis)\n- Waveform\n- TracePath\n- Matrix",
    "lineNumber": 37,
    "interface": false
  },
  {
    "__docId__": 412,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#constructor",
    "access": null,
    "description": "",
    "lineNumber": 41,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "override default configuration"
      }
    ]
  },
  {
    "__docId__": 413,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#$el",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 414,
    "kind": "member",
    "name": "ns",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#ns",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 415,
    "kind": "member",
    "name": "params",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#params",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 416,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#destroy",
    "access": null,
    "description": "Destroy the shape and clean references. Interface method called from the `layer`.",
    "lineNumber": 57,
    "params": []
  },
  {
    "__docId__": 417,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#$el",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 418,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#getClassName",
    "access": null,
    "description": "Interface method to override when extending this base class. The method\nis called by the `Layer~render` method. Returns the name of the shape,\nused as a class in the element group (defaults to `'shape'`).",
    "lineNumber": 69,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 419,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#_getDefaults",
    "access": "protected",
    "description": "Returns the defaults for global configuration of the shape.",
    "lineNumber": 83,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 420,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#_getAccessorList",
    "access": "protected",
    "description": "Returns an object where keys are the accessors methods names to create\nand values are the default values for each given accessor.",
    "lineNumber": 95,
    "todo": [
      "rename ?"
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 421,
    "kind": "method",
    "name": "install",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#install",
    "access": null,
    "description": "Interface method called by Layer when creating a shape. Install the\ngiven accessors on the shape, overriding the default accessors.",
    "lineNumber": 104,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object<String, function>"
        ],
        "spread": false,
        "optional": false,
        "name": "accessors",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 422,
    "kind": "member",
    "name": "[key]",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#[key]",
    "access": null,
    "description": null,
    "lineNumber": 105,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 423,
    "kind": "method",
    "name": "_createAccessors",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#_createAccessors",
    "access": null,
    "description": "Generic method to create accessors. Adds getters en setters to the\nprototype if not already present.",
    "lineNumber": 112,
    "params": [
      {
        "name": "accessors",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 424,
    "kind": "member",
    "name": "_accessors",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#_accessors",
    "access": null,
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 425,
    "kind": "method",
    "name": "_setDefaultAccessors",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#_setDefaultAccessors",
    "access": null,
    "description": "Create a function to be used as a default accessor for each accesors",
    "lineNumber": 134,
    "params": [
      {
        "name": "accessors",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 426,
    "kind": "member",
    "name": "[name]",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#[name]",
    "access": null,
    "description": null,
    "lineNumber": 142,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 427,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#render",
    "access": null,
    "description": "Interface method called by `Layer~render`. Creates the DOM structure of\nthe shape.",
    "lineNumber": 154,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "renderingContext",
        "description": "the renderingContext of the layer\n   which owns this shape."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": "the DOM element to insert in the item's group."
    }
  },
  {
    "__docId__": 428,
    "kind": "method",
    "name": "encache",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#encache",
    "access": null,
    "description": "Interface method called by `Layer~update`, only for shapes with\n`entity` type.\n\nCalled once for a given entity, to return any information derived\nfrom it that will be used subsequently when rendering. If this\nmethod returns a non-null object, then that object will be passed\nto the update method subsequently instead of the original entity\ndatum. (If you want to retain access to the original entity,\nstash it in your cache object as well. Otherwise it may be GC'd\nif nobody else needs it.)",
    "lineNumber": 172,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object",
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "Entity associated with this shape."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Cache data (opaque to caller) to pass to\n    `update` subsequently in place of the original entity datum."
    }
  },
  {
    "__docId__": 429,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#update",
    "access": null,
    "description": "Interface method called by `Layer~update`. Updates the DOM structure of the shape.",
    "lineNumber": 186,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "renderingContext",
        "description": "The `renderingContext` of the\n   layer which owns this shape."
      },
      {
        "nullable": null,
        "types": [
          "Object",
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "The datum or cache associated with\n   the shape. If the shape has collection type, this will be the\n   single item from the dataset that the shape is dedicated to\n   displaying. If it has entity type, then this will be the\n   object previously returned from the shape's `encache` method\n   (if any), or else the entity object itself."
      }
    ]
  },
  {
    "__docId__": 430,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#inArea",
    "access": null,
    "description": "Interface method to override called by `Layer~getItemsInArea`. Defines if\nthe shape is considered to be the given area. Arguments are passed in pixel domain.",
    "lineNumber": 201,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "renderingContext",
        "description": "the renderingContext of the layer which\n   owns this shape."
      },
      {
        "nullable": null,
        "types": [
          "Object",
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "datum",
        "description": "The datum associated to the shape."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "x1",
        "description": "The x component of the top-left corner of the area to test."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "y1",
        "description": "The y component of the top-left corner of the area to test."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "x2",
        "description": "The x component of the bottom-right corner of the area to test."
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "y2",
        "description": "The y component of the bottom-right corner of the area to test."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": "Returns `true` if the is considered to be in the given area, `false` otherwise."
    }
  },
  {
    "__docId__": 431,
    "kind": "method",
    "name": "describe",
    "memberof": "src/shapes/base-shape.js~BaseShape",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/base-shape.js~BaseShape#describe",
    "access": null,
    "description": "Interface method that returns a value or description for salient\nfeatures of the shape at the given x-coordinate (in time).\n\nThe return value should be an array of objects each having\nproperties \"cy\" (y-coord, i.e. underlying value of datum at or\nnearest to the given time), \"cx\" (x-coord in time of that datum)\nand optionally \"unit\" (unit of value as a string).",
    "lineNumber": 212,
    "params": [
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "x",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 432,
    "kind": "file",
    "name": "src/shapes/crosshairs.js",
    "content": "import BaseShape from './base-shape';\nimport ns from '../core/namespace';\n\n\n/**\n * A shape to display labelled crosshairs or similar positional\n * crosshairs/focus overlay.\n *\n * [example usage](./examples/layer-highlight.html)\n */\nexport default class Crosshairs extends BaseShape {\n  getClassName() { return 'crosshairs'; }\n\n  _getAccessorList() {\n    return { cx: 0, cy: 0 };\n  }\n\n  _getDefaults() {\n    return {\n      color: '#000000',\n      labelOffset: 0,\n      opacity: 1\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    this.$el = document.createElementNS(this.ns, 'g');\n\n    this.$path = document.createElementNS(ns, 'path');\n    this.$path.setAttributeNS(null, 'shape-rendering', 'geometricPrecision');\n    this.$path.setAttributeNS(null, 'stroke-width', '1.5');\n    this.$path.style.opacity = this.params.opacity;\n    this.$path.style.stroke = this.params.color;\n    this.$el.appendChild(this.$path);\n\n    this.$labels = [\n      document.createElementNS(this.ns, 'text'),\n      document.createElementNS(this.ns, 'text')\n    ];\n\n    for (let i = 0; i < this.$labels.length; ++i) {\n      const $label = this.$labels[i];\n      $label.classList.add('label');\n      $label.style.fontSize = '10px';\n      $label.style.lineHeight = '10px';\n      $label.style.fontFamily = 'monospace';\n      $label.style.color = '#676767';\n      $label.style.opacity = 0.9;\n      $label.style.mozUserSelect = 'none';\n      $label.style.webkitUserSelect = 'none';\n      $label.style.userSelect = 'none';\n      this.$el.appendChild($label);\n    }\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n\n    console.log(\"crosshairs update: datum = \" + datum);\n    \n    const cx = this.cx(datum);\n    const cy = this.cy(datum);\n\n    if (typeof(this.lastCx) !== 'undefined') {\n      if (this.lastCx === cx && this.lastCy === cy) {\n\treturn;\n      }\n    }\n    this.lastCx = cx;\n    this.lastCy = cy;\n    \n    const x = Math.round(renderingContext.timeToPixel(cx)) + 0.5;\n    const y = Math.round(renderingContext.valueToPixel(cy)) + 0.5;\n\n    const minX = Math.floor(renderingContext.minX);\n    const maxX = Math.ceil(renderingContext.maxX);\n    const h = renderingContext.height;\n\n      console.log(\"x = \" + x + \", y = \" + y + \", minX = \" + minX + \", maxX = \" +\n                  maxX + \", h = \" + h);\n      \n    this.$path.setAttributeNS(null, 'd',\n                              `M${x},${0}L${x},${h}M${minX},${y}L${maxX},${y}`);\n\n    const label = cy.toPrecision(4);\n    const lw = label.length * 10;\n\n    for (let i = 0; i < this.$labels.length; ++i) {\n\n      const $label = this.$labels[i];\n\n      while ($label.firstChild) {\n        $label.removeChild($label.firstChild);\n      }\n      \n      const $textLeft = document.createTextNode(label);\n      $label.appendChild($textLeft);\n      \n      let lx = minX + 2;\n      if (i == 1) {\n        lx = maxX - lw - 2;\n      }\n      lx += this.params.labelOffset;\n      \n      $label.setAttributeNS(\n        null, 'transform', `matrix(1, 0, 0, -1, ${lx}, ${h})`\n      );\n\n      let ly = h - y - 5;\n      if (ly < 10) {\n        ly = h - y + 15;\n      }\n      \n      $label.setAttributeNS(null, 'y', ly);\n    }\n  }\n\n  /**\n   * The crosshairs cannot be selected.\n   * @return {Boolean} false\n   */\n  inArea() { return false; }\n}\n",
    "static": true,
    "longname": "src/shapes/crosshairs.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 433,
    "kind": "class",
    "name": "Crosshairs",
    "memberof": "src/shapes/crosshairs.js",
    "static": true,
    "longname": "src/shapes/crosshairs.js~Crosshairs",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/crosshairs.js",
    "importStyle": "Crosshairs",
    "description": "A shape to display labelled crosshairs or similar positional\ncrosshairs/focus overlay.\n\n[example usage](./examples/layer-highlight.html)",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 434,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 435,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"cx\": *, \"cy\": *}"
      ]
    }
  },
  {
    "__docId__": 436,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"color\": string, \"labelOffset\": *, \"opacity\": number}"
      ]
    }
  },
  {
    "__docId__": 437,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#render",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 438,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#$el",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 439,
    "kind": "member",
    "name": "$path",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#$path",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 440,
    "kind": "member",
    "name": "$labels",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#$labels",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 441,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#update",
    "access": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 442,
    "kind": "member",
    "name": "lastCx",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#lastCx",
    "access": null,
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 443,
    "kind": "member",
    "name": "lastCy",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#lastCy",
    "access": null,
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 444,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/crosshairs.js~Crosshairs",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/crosshairs.js~Crosshairs#inArea",
    "access": null,
    "description": "The crosshairs cannot be selected.",
    "lineNumber": 125,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": "false"
    }
  },
  {
    "__docId__": 445,
    "kind": "file",
    "name": "src/shapes/cursor.js",
    "content": "import BaseShape from './base-shape';\nimport ns from '../core/namespace';\n\n\n/**\n * A shape to display a cursor.\n *\n * [example usage](./examples/layer-cursor.html)\n */\nexport default class Cursor extends BaseShape {\n  getClassName() { return 'cursor'; }\n\n  _getAccessorList() {\n    return { x: 0 };\n  }\n\n  _getDefaults() {\n    return {\n      color: '#000000',\n      opacity: 1\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    this.$el = document.createElementNS(ns, 'line');\n    this.$el.setAttributeNS(null, 'x', 0);\n    this.$el.setAttributeNS(null, 'y1', 0);\n    this.$el.setAttributeNS(null, 'y2', renderingContext.height);\n//    this.$el.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n    this.$el.setAttributeNS(null, 'shape-rendering', 'geometricPrecision');\n    this.$el.setAttributeNS(null, 'stroke-width', '2');\n    this.$el.style.stroke = this.params.color;\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n    const x = Math.round(renderingContext.timeToPixel(this.x(datum))) + 0.5;\n    this.$el.setAttributeNS(null, 'transform', `translate(${x}, 0)`);\n  }\n\n  /**\n   * The cursor cannot be selected.\n   * @return {Boolean} false\n   */\n  inArea() { return false; }\n}\n",
    "static": true,
    "longname": "src/shapes/cursor.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 446,
    "kind": "class",
    "name": "Cursor",
    "memberof": "src/shapes/cursor.js",
    "static": true,
    "longname": "src/shapes/cursor.js~Cursor",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/cursor.js",
    "importStyle": "Cursor",
    "description": "A shape to display a cursor.\n\n[example usage](./examples/layer-cursor.html)",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 447,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/cursor.js~Cursor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 448,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/cursor.js~Cursor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"x\": *}"
      ]
    }
  },
  {
    "__docId__": 449,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/cursor.js~Cursor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"color\": string, \"opacity\": number}"
      ]
    }
  },
  {
    "__docId__": 450,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/cursor.js~Cursor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#render",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 451,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/cursor.js~Cursor",
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#$el",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 452,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/cursor.js~Cursor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#update",
    "access": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 453,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/cursor.js~Cursor",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/cursor.js~Cursor#inArea",
    "access": null,
    "description": "The cursor cannot be selected.",
    "lineNumber": 48,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": "false"
    }
  },
  {
    "__docId__": 454,
    "kind": "file",
    "name": "src/shapes/dot.js",
    "content": "import BaseShape from './base-shape';\n\n\n/**\n * A shape to display a dot.\n *\n * [example usage](./examples/layer-breakpoint.html)\n */\nexport default class Dot extends BaseShape {\n  getClassName() { return 'dot'; }\n\n  // @TODO rename : confusion between accessors and meta-accessors\n  _getAccessorList() {\n    return { cx: 0, cy: 0, r: 3, color: '#000000' };\n  }\n\n  render() {\n    if (this.$el) { return this.$el; }\n\n    this.$el = document.createElementNS(this.ns, 'circle');\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n    const cx = renderingContext.timeToPixel(this.cx(datum));\n    const cy = renderingContext.valueToPixel(this.cy(datum));\n    const r  = this.r(datum);\n    const color = this.color(datum);\n\n    const visible = (cx + r >= renderingContext.minX &&\n                     cx - r <= renderingContext.maxX);\n    if (!visible) {\n      this.$el.setAttributeNS(null, 'visibility', 'hidden');\n      return;\n    } else {\n      this.$el.setAttributeNS(null, 'visibility', 'visible');\n    }\n    \n    this.$el.setAttributeNS(null, 'transform', `translate(${cx}, ${cy})`);\n    this.$el.setAttributeNS(null, 'r', r);\n    this.$el.style.fill = color;\n  }\n\n  // x1, x2, y1, y2 => in pixel domain\n  inArea(renderingContext, datum, x1, y1, x2, y2) {\n    const cx = renderingContext.timeToPixel(this.cx(datum));\n    const cy = renderingContext.valueToPixel(this.cy(datum));\n\n    if ((cx > x1 && cx < x2) && (cy > y1 && cy < y2)) {\n      return true;\n    }\n\n    return false;\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/dot.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 455,
    "kind": "class",
    "name": "Dot",
    "memberof": "src/shapes/dot.js",
    "static": true,
    "longname": "src/shapes/dot.js~Dot",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/dot.js",
    "importStyle": "Dot",
    "description": "A shape to display a dot.\n\n[example usage](./examples/layer-breakpoint.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 456,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/dot.js~Dot",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/dot.js~Dot#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 457,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/dot.js~Dot",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/dot.js~Dot#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"cx\": *, \"cy\": *, \"r\": number, \"color\": string}"
      ]
    }
  },
  {
    "__docId__": 458,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/dot.js~Dot",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/dot.js~Dot#render",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 459,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/dot.js~Dot",
    "static": false,
    "longname": "src/shapes/dot.js~Dot#$el",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 460,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/dot.js~Dot",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/dot.js~Dot#update",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 461,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/dot.js~Dot",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/dot.js~Dot#inArea",
    "access": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "x1",
        "types": [
          "*"
        ]
      },
      {
        "name": "y1",
        "types": [
          "*"
        ]
      },
      {
        "name": "x2",
        "types": [
          "*"
        ]
      },
      {
        "name": "y2",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 462,
    "kind": "file",
    "name": "src/shapes/line.js",
    "content": "import BaseShape from './base-shape';\n\n/**\n * A shape to display a line. Its main use is as common shape to create a\n * breakpoint visualization. (entity shape)\n *\n * [example usage](./examples/layer-breakpoint.html)\n */\nexport default class Line extends BaseShape {\n  getClassName() { return 'line'; }\n\n  _getAccessorList() {\n    return { cx: 0, cy: 0 };\n  }\n\n  _getDefaults() {\n    return { color: '#000000' };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    this.$el = document.createElementNS(this.ns, 'path');\n    this.$el.setAttributeNS(null, 'shape-rendering', 'geometricPrecision');\n    return this.$el;\n  }\n\n  encache(data) {\n\n    data = data.slice(0);\n    data.sort((a, b) => this.cx(a) < this.cx(b) ? -1 : 1);\n\n    return data;\n  }\n\n  _findInData(data, x) {\n\n    // Binary search, demands that data has been encached\n    // (i.e. sorted). Returns index of value that matches x. If there\n    // is no exact match, returns the index just before where x would\n    // appear, unless x would appear as the first element in which\n    // case 0 is returned. (So the returned index is always in range\n    // for the input array, unless the input array is empty.)\n\n    // Note that x must be in model coordinates (e.g. time), not pixel\n    // coords.\n\n    let low = 0;\n    let high = data.length - 1;\n\n    while (low <= high) {\n      let mid = low + ((high - low) >> 1);\n      let value = this.cx(data[mid]);\n      if (value < x) {\n        low = mid + 1;\n      } else if (value > x) {\n        high = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n\n    if (high < 0) {\n      return 0;\n    } else {\n      return high;\n    }\n  }\n  \n  update(renderingContext, data) { // data array is sorted already\n    \n    const before = performance.now();\n\n    const minX = Math.floor(renderingContext.minX);\n    const maxX = Math.ceil(renderingContext.maxX);\n\n    console.log(\"minX = \" + minX + \", maxX = \" + maxX);\n    \n    let instructions = [];\n    const n = data.length;\n    \n    if (n > 0) {\n\n      // We want to start with the last element to the left of the\n      // visible region, and end with the first element beyond the\n      // right of it\n\n      let cx0 = renderingContext.timeToPixel.invert(minX);\n      let i0 = this._findInData(data, cx0);\n\n      let nextX = renderingContext.timeToPixel(this.cx(data[i0]));\n    \n      for (let i = i0; i < n; ++i) {\n\n        const x = nextX;\n\n        if (i + 1 < n) {\n          nextX = renderingContext.timeToPixel(this.cx(data[i+1]));\n        }\n\n        const y = renderingContext.valueToPixel(this.cy(data[i])) - 0.5;\n\n        instructions.push(`${x},${y}`);\n        \n        if (x > maxX) {\n          break;\n        }\n      }\n    }          \n\n    console.log(\"line instructions have \" + instructions.length + \" elements\");\n\n    const instructionStr = 'M' + instructions.join('L');\n    this.$el.setAttributeNS(null, 'd', instructionStr);\n\n    this.$el.style.stroke = this.params.color;\n    this.$el.style.strokeWidth = 2;\n    this.$el.style.fill = 'none';\n\n    const after = performance.now();\n    console.log(\"line update time = \" + Math.round(after - before));\n    \n    data = null;\n  }\n\n  describe(data, t) {\n    if (!data.length) return 0;\n    let i = this._findInData(data, t);\n    const cx = this.cx(data[i]);\n    const cy = this.cy(data[i]);\n    let unit = \"\";\n    if (typeof(data[i].unit) !== 'undefined') {\n      unit = data[i].unit;\n    }\n    return [{\n      cx: cx,\n      cy: cy,\n      unit: unit\n    }];\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/line.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 463,
    "kind": "class",
    "name": "Line",
    "memberof": "src/shapes/line.js",
    "static": true,
    "longname": "src/shapes/line.js~Line",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/line.js",
    "importStyle": "Line",
    "description": "A shape to display a line. Its main use is as common shape to create a\nbreakpoint visualization. (entity shape)\n\n[example usage](./examples/layer-breakpoint.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 464,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 465,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"cx\": *, \"cy\": *}"
      ]
    }
  },
  {
    "__docId__": 466,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"color\": string}"
      ]
    }
  },
  {
    "__docId__": 467,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#render",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 468,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/line.js~Line",
    "static": false,
    "longname": "src/shapes/line.js~Line#$el",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 469,
    "kind": "method",
    "name": "encache",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#encache",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 470,
    "kind": "method",
    "name": "_findInData",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#_findInData",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      },
      {
        "name": "x",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 471,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#update",
    "access": null,
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 472,
    "kind": "method",
    "name": "describe",
    "memberof": "src/shapes/line.js~Line",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/line.js~Line#describe",
    "access": null,
    "description": null,
    "lineNumber": 126,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      },
      {
        "name": "t",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 473,
    "kind": "file",
    "name": "src/shapes/marker.js",
    "content": "import BaseShape from './base-shape';\n\n\n/**\n * A shape to display a marker.\n *\n * [example usage](./examples/layer-marker.html)\n */\nexport default class Marker extends BaseShape {\n  getClassName() { return 'marker'; }\n\n  _getAccessorList() {\n    return { x: 0, color: '#ff0000' };\n  }\n\n  _getDefaults() {\n    return {\n      handlerWidth: 7,\n      handlerHeight: 10,\n      displayHandlers: true,\n      opacity: 1,\n      color: 'red',\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    console.log(\"marker render\");\n    \n    const height = renderingContext.height;\n\n    this.$el = document.createElementNS(this.ns, 'g');\n    this.$line = document.createElementNS(this.ns, 'line');\n\n    // draw line\n    this.$line.setAttributeNS(null, 'x', 0);\n    this.$line.setAttributeNS(null, 'y1', 0);\n    this.$line.setAttributeNS(null, 'y2', height);\n    this.$line.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n\n    this.$el.appendChild(this.$line);\n\n    if (this.params.displayHandlers) {\n      this.$handler = document.createElementNS(this.ns, 'rect');\n\n      this.$handler.setAttributeNS(null, 'x', -((this.params.handlerWidth) / 2 ));\n      this.$handler.setAttributeNS(null, 'y', renderingContext.height - this.params.handlerHeight);\n      this.$handler.setAttributeNS(null, 'width', this.params.handlerWidth);\n      this.$handler.setAttributeNS(null, 'height', this.params.handlerHeight);\n      this.$handler.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n\n      this.$el.appendChild(this.$handler);\n    }\n\n    this.$el.style.opacity = this.params.opacity;\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n\n    const x = renderingContext.timeToPixel(this.x(datum)) - 0.5;\n\n    const visible = (x >= renderingContext.minX &&\n                     x <= renderingContext.maxX);\n    if (!visible) {\n      this.$el.setAttributeNS(null, 'visibility', 'hidden');\n      return;\n    } else {\n      this.$el.setAttributeNS(null, 'visibility', 'visible');\n    }\n    \n    const color = this.color(datum);\n    \n    this.$el.setAttributeNS(null, 'transform', `translate(${x}, 0)`);\n    this.$line.style.stroke = color;\n    \n    if (this.params.displayHandlers) {\n      this.$handler.style.fill = color;\n    }\n    \n    const after = performance.now();\n  }\n\n  inArea(renderingContext, datum, x1, y1, x2, y2) {\n    // handlers only are selectable\n    const x = renderingContext.timeToPixel(this.x(datum));\n    const shapeX1 = x - (this.params.handlerWidth - 1) / 2;\n    const shapeX2 = shapeX1 + this.params.handlerWidth;\n    const shapeY1 = renderingContext.height - this.params.handlerHeight;\n    const shapeY2 = renderingContext.height;\n\n    const xOverlap = Math.max(0, Math.min(x2, shapeX2) - Math.max(x1, shapeX1));\n    const yOverlap = Math.max(0, Math.min(y2, shapeY2) - Math.max(y1, shapeY1));\n    const area = xOverlap * yOverlap;\n\n    return area > 0;\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/marker.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 474,
    "kind": "class",
    "name": "Marker",
    "memberof": "src/shapes/marker.js",
    "static": true,
    "longname": "src/shapes/marker.js~Marker",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/marker.js",
    "importStyle": "Marker",
    "description": "A shape to display a marker.\n\n[example usage](./examples/layer-marker.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 475,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/marker.js~Marker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/marker.js~Marker#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 476,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/marker.js~Marker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/marker.js~Marker#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"x\": *, \"color\": string}"
      ]
    }
  },
  {
    "__docId__": 477,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/marker.js~Marker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/marker.js~Marker#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"handlerWidth\": number, \"handlerHeight\": number, \"displayHandlers\": boolean, \"opacity\": number, \"color\": string}"
      ]
    }
  },
  {
    "__docId__": 478,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/marker.js~Marker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/marker.js~Marker#render",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 479,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/marker.js~Marker",
    "static": false,
    "longname": "src/shapes/marker.js~Marker#$el",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 480,
    "kind": "member",
    "name": "$line",
    "memberof": "src/shapes/marker.js~Marker",
    "static": false,
    "longname": "src/shapes/marker.js~Marker#$line",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 481,
    "kind": "member",
    "name": "$handler",
    "memberof": "src/shapes/marker.js~Marker",
    "static": false,
    "longname": "src/shapes/marker.js~Marker#$handler",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 482,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/marker.js~Marker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/marker.js~Marker#update",
    "access": null,
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 483,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/marker.js~Marker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/marker.js~Marker#inArea",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "x1",
        "types": [
          "*"
        ]
      },
      {
        "name": "y1",
        "types": [
          "*"
        ]
      },
      {
        "name": "x2",
        "types": [
          "*"
        ]
      },
      {
        "name": "y2",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 484,
    "kind": "file",
    "name": "src/shapes/matrix.js",
    "content": "\nimport BaseShape from './base-shape';\nimport TimelineTimeContext from '../core/timeline-time-context';\nimport LayerTimeContext from '../core/layer-time-context';\nimport PNGEncoder from '../utils/png.js';\n\nconst xhtmlNS = 'http://www.w3.org/1999/xhtml';\n\nexport default class Matrix extends BaseShape {\n\n  getClassName() {\n    return 'matrix';\n  }\n\n  _getAccessorList() {\n    // return { y: 0 };\n    return {};\n  }\n\n  // TODO determine suitable implementations for _getAccessorList and _getDefaults\n  _getDefaults() {\n    return {\n      normalise: 'none',\n      mapper: (value => {\n        // The mapper accepts a value, which is guaranteed to be in\n        // the range [0,1], and returns r, g, b components which are\n        // also in the range [0,1]. This example mapper just returns a\n        // grey level.\n        let level = 1.0 - value;\n        return [ level, level, level ];\n      }),\n      gain: 1.0,\n      smoothing: false, // NB with smoothing we get visible joins at tile boundaries\n      maxDataUriLength: 32767 // old IE browser limitation, others are more helpful\n    };\n  }\n\n  render(renderingCtx) {\n    console.log(\"matrix render called\");\n    if (this.$el) { return this.$el; }\n    this.$el = document.createElementNS(this.ns, 'g');\n    if (!this.params.smoothing) {\n      // for Chrome\n      this.$el.setAttributeNS(null, 'image-rendering', 'pixelated');\n    }\n    console.log(\"matrix render returning\");\n    return this.$el;\n  }\n\n  _hybridNormalise(gain) {\n    return (col => {\n      let max = 0.0;\n      for (let i = 0; i < col.length; ++i) {\n        let value = Math.abs(col[i]);\n        if (value > max) {\n          max = value;\n        }\n      }\n      let scale = gain;\n      if (max > 0.0) {\n        scale = scale * (Math.log10(max + 1.0) / max);\n      }\n      let n = [];\n      for (let i = 0; i < col.length; ++i) {\n        let value = col[i];\n        n.push(value * scale);\n      }\n      return n;\n    });\n  }\n\n  _columnNormalise(gain) {\n    return (col => {\n      let max = 0.0;\n      for (let i = 0; i < col.length; ++i) {\n        let value = Math.abs(col[i]);\n        if (value > max) {\n          max = value;\n        }\n      }\n      let scale = gain;\n      if (max > 0.0) {\n        scale = scale * (1.0 / max);\n      }\n      let n = [];\n      for (let i = 0; i < col.length; ++i) {\n        let value = col[i];\n        n.push(value * scale);\n      }\n      return n;\n    });\n  }      \n  \n  _noNormalise(gain) {\n    return (col => {\n      let n = [];\n      for (let i = 0; i < col.length; ++i) {\n        let value = col[i];\n        n.push(value * gain);\n      }\n      return n;\n    });\n  }      \n  \n  encache(matrixEntity) {\n\n    const before = performance.now();\n\n    console.log(\"matrix cache called\");\n\n    const height = matrixEntity.getColumnHeight();\n    const totalWidth = matrixEntity.getColumnCount();\n\n    // We use one byte per pixel, as our PNG is indexed but\n    // uncompressed, and base64 encoding increases that to 4/3\n    // characters per pixel. The header and data URI scheme stuff add\n    // a further 1526 chars after encoding, which we round up to 1530\n    // for paranoia.\n    const maxPixels = Math.floor((this.params.maxDataUriLength * 3) / 4 - 1530);\n    let tileWidth = Math.floor(maxPixels / height);\n    if (tileWidth < 1) {\n      console.log(\"WARNING: Matrix shape tile width of \" + tileWidth +\n                  \" calculated for height \" + height +\n                  \", using 1 instead: this may exceed maxDataUriLength of \" +\n                  this.params.maxDataUriLength);\n      tileWidth = 1;\n    }\n    console.log(\"totalWidth = \" + totalWidth + \", tileWidth = \" + tileWidth);\n\n    let resources = [];\n    let widths = [];\n\n    let normalise = null;\n\n    switch (this.params.normalise) {\n    case 'hybrid':\n      normalise = this._hybridNormalise(this.params.gain);\n      break;\n    case 'column':\n      normalise = this._columnNormalise(this.params.gain);\n      break;\n    default:\n      normalise = this._noNormalise(this.params.gain);\n      break;\n    }\n\n    const condition = (col => {\n      let n = [];\n      for (let i = 0; i < col.length; ++i) {\n        if (col[i] === Infinity || isNaN(col[i])) n.push(0.0);\n        else n.push(col[i]);\n      }\n      return n;\n    });\n\n    const usualWidth = tileWidth;\n    const usualEncoder = new PNGEncoder(usualWidth, height, 256);\n    \n    for (let x0 = 0; x0 < totalWidth; x0 += tileWidth) {\n\n      let w = tileWidth;\n      if (totalWidth - x0 < tileWidth) {\n\tw = totalWidth - x0;\n      }\n      \n      let p = (w === tileWidth ?\n               usualEncoder :\n               new PNGEncoder(w, height, 256));\n\n      for (let i = 0; i < w; ++i) {\n\n\tconst x = x0 + i;\n        let col = matrixEntity.getColumn(x);\n        col = normalise(condition(col));\n        \n\tfor (let y = 0; y < height; ++y) {\n          let value = col[y];\n          // The value must be in the range [0,1] to pass to the\n          // mapper. We also quantize the range, as the PNG encoder\n          // uses a 256-level palette.\n          if (value < 0) value = 0;\n          if (value > 1) value = 1;\n          value = Math.round(value * 255) / 255;\n          let [ r, g, b ] = this.params.mapper(value);\n          if (r < 0) r = 0;\n          if (r > 1) r = 1;\n          if (g < 0) g = 0;\n          if (g > 1) g = 1;\n          if (b < 0) b = 0;\n          if (b > 1) b = 1;\n          const colour = p.color(Math.round(r * 255),\n                                 Math.round(g * 255),\n                                 Math.round(b * 255),\n                                 255);\n          const index = p.index(i, y);\n\t  p.buffer[index] = colour;\n\t}\n      }\n\n      const resource = 'data:image/png;base64,' + p.getBase64();\n      resources.push(resource);\n      widths.push(w);\n\n      console.log(\"image \" + resources.length + \": length \" + resource.length +\n\t\t  \" (dimensions \" + w + \" x \" + height + \")\");\n    }\n\n    console.log(\"drawing complete\");\n\n    const after = performance.now();\n    console.log(\"matrix cache time = \" + Math.round(after - before));\n    \n    return {\n      resources: resources,\n      tileWidths: widths,\n      totalWidth: totalWidth,\n      height: height,\n      startTime: matrixEntity.getStartTime(),\n      stepDuration: matrixEntity.getStepDuration(),\n      elements: [] // will be installed in first call to update\n    };\n  }\n  \n  update(renderingContext, cache) {\n\n    const before = performance.now();\n\n    console.log(\"matrix update called\");\n\n    if (!cache.totalWidth || !cache.height ||\n\t!renderingContext.width || !renderingContext.height) {\n      console.log(\"nothing to update\");\n      return;\n    }\n\n    if (cache.elements.length === 0) {\n      console.log(\"About to add \" + cache.resources.length +\n\t\t  \" image resources to SVG...\");\n      for (let i = 0; i < cache.resources.length; ++i) {\n\tconst resource = cache.resources[i];\n\tconst elt = document.createElementNS(this.ns, 'image');\n\telt.setAttributeNS('http://www.w3.org/1999/xlink', 'href', resource);\n        elt.setAttributeNS(null, 'preserveAspectRatio', 'none');\n        if (!this.params.smoothing) {\n          // for Firefox\n\t  elt.setAttributeNS(null, 'image-rendering', 'optimizeSpeed');\n        }\n\telt.addEventListener('dragstart', e => { e.preventDefault(); }, false);\n\tthis.$el.appendChild(elt);\n\tcache.elements.push(elt);\n      }\n      console.log(\"Done that\");\n    }\n\n    console.log(\"Render width = \" + renderingContext.width);\n\n    let startX = renderingContext.timeToPixel(cache.startTime);\n    const drawnWidth = renderingContext.width - startX;\n    let widthScaleFactor = drawnWidth / cache.totalWidth;\n\n    if (cache.stepDuration > 0) {\n      let totalDuration = cache.stepDuration * cache.totalWidth;\n      let endX = renderingContext.timeToPixel(cache.startTime + totalDuration);\n      widthScaleFactor = (endX - startX) / cache.totalWidth;\n    }\n    \n    let widthAccumulated = 0;\n    \n    for (let i = 0; i < cache.elements.length; ++i) {\n      const elt = cache.elements[i];\n      const tileWidth = cache.tileWidths[i];\n      const x = startX + widthAccumulated * widthScaleFactor;\n      const w = tileWidth * widthScaleFactor;\n      const visible = (x + w > 0 && x < renderingContext.maxX);\n      if (visible) {\n        elt.setAttributeNS(null, 'x', Math.floor(x));\n        elt.setAttributeNS(null, 'width', Math.ceil(x + w) - Math.floor(x));\n        elt.setAttributeNS(null, 'y', 0);\n        elt.setAttributeNS(null, 'height', renderingContext.height);\n        elt.setAttributeNS(null, 'visibility', 'visible');\n      } else {\n        elt.setAttributeNS(null, 'visibility', 'hidden');\n      }\n      widthAccumulated += tileWidth;\n    }\n    \n    const after = performance.now();\n    console.log(\"matrix update time = \" + Math.round(after - before));\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/matrix.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 485,
    "kind": "variable",
    "name": "xhtmlNS",
    "memberof": "src/shapes/matrix.js",
    "static": true,
    "longname": "src/shapes/matrix.js~xhtmlNS",
    "access": null,
    "export": false,
    "importPath": "waves-ui-piper/src/shapes/matrix.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 486,
    "kind": "class",
    "name": "Matrix",
    "memberof": "src/shapes/matrix.js",
    "static": true,
    "longname": "src/shapes/matrix.js~Matrix",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/matrix.js",
    "importStyle": "Matrix",
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 487,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 488,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 489,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"normalise\": string, \"mapper\": *, \"gain\": number, \"smoothing\": *, \"maxDataUriLength\": number}"
      ]
    }
  },
  {
    "__docId__": 490,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#render",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingCtx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 491,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/matrix.js~Matrix",
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#$el",
    "access": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 492,
    "kind": "method",
    "name": "_hybridNormalise",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#_hybridNormalise",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "gain",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 493,
    "kind": "method",
    "name": "_columnNormalise",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#_columnNormalise",
    "access": null,
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "gain",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 494,
    "kind": "method",
    "name": "_noNormalise",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#_noNormalise",
    "access": null,
    "description": null,
    "lineNumber": 94,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "gain",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 495,
    "kind": "method",
    "name": "encache",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#encache",
    "access": null,
    "description": null,
    "lineNumber": 105,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "matrixEntity",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"resources\": *, \"tileWidths\": *, \"totalWidth\": *, \"height\": *, \"startTime\": *, \"stepDuration\": *, \"elements\": *}"
      ]
    }
  },
  {
    "__docId__": 496,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/matrix.js~Matrix",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/matrix.js~Matrix#update",
    "access": null,
    "description": null,
    "lineNumber": 224,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "cache",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 497,
    "kind": "file",
    "name": "src/shapes/scale.js",
    "content": "import BaseShape from './base-shape';\nimport ns from '../core/namespace';\nimport ScaleTickIntervals from '../utils/scale-tick-intervals';\n\n\n/**\n * A shape to display a vertical scale at the left edge of the visible\n * area of the layer. Scale values are taken from the yDomain of the\n * layer.\n *\n * [example usage](./examples/layer-scale.html)\n */\nexport default class Scale extends BaseShape {\n  getClassName() { return 'scale'; }\n\n  _getDefaults() {\n    return {\n      background: '#ffffff',\n      tickColor: '#000000',\n      textColor: '#000000',\n      opacity: 1\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    this.$el = document.createElementNS(this.ns, 'g');\n\n    this.$bg = document.createElementNS(ns, 'rect');\n    this.$bg.setAttributeNS(null, 'fill', this.params.background);\n    this.$bg.setAttributeNS(null, 'x', 0);\n    this.$bg.setAttributeNS(null, 'y', 0);\n    this.$el.appendChild(this.$bg);\n\n    this.$path = document.createElementNS(ns, 'path');\n    this.$path.setAttributeNS(null, 'shape-rendering', 'geometricPrecision');\n    this.$path.setAttributeNS(null, 'stroke-width', '0.7');\n    this.$path.style.opacity = this.params.opacity;\n    this.$path.style.stroke = this.params.tickColor;\n    this.$el.appendChild(this.$path);\n\n    this.$labels = [];\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n\n    console.log(\"scale update\");\n\n    const h = renderingContext.height;\n    const cy0 = renderingContext.valueToPixel.domain()[0];\n    const cy1 = renderingContext.valueToPixel.domain()[1];\n\n    if (typeof(this.lastCy0) !== 'undefined') {\n      if (this.lastCy0 === cy0 &&\n\t  this.lastCy1 === cy1 &&\n\t  this.lastH === h) {\n\tconsole.log(\"scale unchanged\");\n\treturn;\n      }\n    }\n    this.lastCy0 = cy0;\n    this.lastCy1 = cy1;\n    this.lastH = h;\n    \n    console.log(\"cy0 = \" + cy0);\n    console.log(\"cy1 = \" + cy1);\n\n    for (let i = 0; i < this.$labels.length; ++i) {\n      this.$el.removeChild(this.$labels[i]);\n    }\n    this.$labels = [];\n\n    const ticks = (new ScaleTickIntervals()).linear(cy0, cy1, 10);\n\n    let maxLength = ticks.reduce((acc, t) => Math.max(acc, t.label.length), 0);\n    \n    let scaleWidth = maxLength * 6.5 + 12;\n\n    this.$bg.setAttributeNS(null, 'width', scaleWidth);\n    this.$bg.setAttributeNS(null, 'height', h);\n    \n    let path = `M${scaleWidth},0L${scaleWidth},${h}`;\n\n    const addLabel = ((text, x, y) => {\n    \n      const $label = document.createElementNS(this.ns, 'text');\n      $label.classList.add('label');\n      $label.style.fontSize = '10px';\n      $label.style.lineHeight = '10px';\n      $label.style.fontFamily = 'monospace';\n      $label.style.fill = this.params.textColor;\n      $label.style.opacity = this.params.opacity;\n      $label.style.mozUserSelect = 'none';\n      $label.style.webkitUserSelect = 'none';\n      $label.style.userSelect = 'none';\n      \n      $label.setAttributeNS(\n\tnull, 'transform', `matrix(1, 0, 0, -1, ${x}, ${h})`\n      );\n      \n      $label.setAttributeNS(null, 'y', y);\n      const $text = document.createTextNode(text);\n      $label.appendChild($text);\n\n      this.$labels.push($label);\n      this.$el.appendChild($label);\n    });\n\n    const lx = 2;\n    \n    let prevy = h + 2;\n    \n    for (let i = 0; i < ticks.length; ++i) {\n\n      let y = renderingContext.valueToPixel(ticks[i].value);\n\n      let ly = h - y + 3;\n\n      let showText = true;\n      if (ly > h - 8 || ly < 8 || ly > prevy - 20) {\n\t// not enough space\n\tshowText = false;\n      }\n\n      if (!showText) {\n\t\n\tpath = path + `M${scaleWidth-5},${y}L${scaleWidth},${y}`;\n\n      } else {\n\n\tpath = path + `M${scaleWidth-8},${y}L${scaleWidth},${y}`;\n\tprevy = ly;\n\taddLabel(ticks[i].label, lx, ly);\n      }\n    }\n\n    this.$path.setAttributeNS(null, 'd', path);\n  }\n\n  /**\n   * The scale cannot be selected.\n   * @return {Boolean} false\n   */\n  inArea() { return false; }\n}\n",
    "static": true,
    "longname": "src/shapes/scale.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 498,
    "kind": "class",
    "name": "Scale",
    "memberof": "src/shapes/scale.js",
    "static": true,
    "longname": "src/shapes/scale.js~Scale",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/scale.js",
    "importStyle": "Scale",
    "description": "A shape to display a vertical scale at the left edge of the visible\narea of the layer. Scale values are taken from the yDomain of the\nlayer.\n\n[example usage](./examples/layer-scale.html)",
    "lineNumber": 13,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 499,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/scale.js~Scale",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/scale.js~Scale#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 500,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/scale.js~Scale",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/scale.js~Scale#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"background\": string, \"tickColor\": string, \"textColor\": string, \"opacity\": number}"
      ]
    }
  },
  {
    "__docId__": 501,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/scale.js~Scale",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/scale.js~Scale#render",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 502,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#$el",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 503,
    "kind": "member",
    "name": "$bg",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#$bg",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 504,
    "kind": "member",
    "name": "$path",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#$path",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 505,
    "kind": "member",
    "name": "$labels",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#$labels",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 506,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/scale.js~Scale",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/scale.js~Scale#update",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 507,
    "kind": "member",
    "name": "lastCy0",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#lastCy0",
    "access": null,
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 508,
    "kind": "member",
    "name": "lastCy1",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#lastCy1",
    "access": null,
    "description": null,
    "lineNumber": 65,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 509,
    "kind": "member",
    "name": "lastH",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#lastH",
    "access": null,
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 510,
    "kind": "member",
    "name": "$labels",
    "memberof": "src/shapes/scale.js~Scale",
    "static": false,
    "longname": "src/shapes/scale.js~Scale#$labels",
    "access": null,
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 511,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/scale.js~Scale",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/scale.js~Scale#inArea",
    "access": null,
    "description": "The scale cannot be selected.",
    "lineNumber": 147,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": "false"
    }
  },
  {
    "__docId__": 512,
    "kind": "file",
    "name": "src/shapes/segment.js",
    "content": "import BaseShape from './base-shape';\n\n\n/**\n * A shape to display a segment.\n *\n * [example usage](./examples/layer-segment.html)\n */\nexport default class Segment extends BaseShape {\n  getClassName() { return 'segment'; }\n\n  _getAccessorList() {\n    return { x: 0, y: 0, width: 0, height: 1, color: '#000000', opacity: 1 };\n  }\n\n  _getDefaults() {\n    return {\n      displayHandlers: true,\n      handlerWidth: 2,\n      handlerOpacity: 0.8,\n      opacity: 0.6\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    this.$segment = document.createElementNS(this.ns, 'rect');\n    this.$segment.classList.add('segment');\n    this.$segment.style.opacity = this.params.opacity;\n    this.$segment.setAttributeNS(null, 'shape-rendering', 'geometricPrecision');\n\n    const useShortcut = (this.getClassName() == 'segment' && // not a subclass\n                         !this.params.displayHandlers);\n\n    if (useShortcut) {\n\n      this.$el = this.$segment;\n\n    } else {\n\n      this.$el = document.createElementNS(this.ns, 'g');\n      this.$el.appendChild(this.$segment);\n\n      if (this.params.displayHandlers) {\n        \n        this.$leftHandler = document.createElementNS(this.ns, 'rect');\n        this.$leftHandler.classList.add('left', 'handler');\n        this.$leftHandler.setAttributeNS(null, 'width', this.params.handlerWidth);\n        this.$leftHandler.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n        this.$leftHandler.style.opacity = this.params.handlerOpacity;\n        this.$leftHandler.style.cursor = 'ew-resize';\n\n        this.$rightHandler = document.createElementNS(this.ns, 'rect');\n        this.$rightHandler.classList.add('right', 'handler');\n        this.$rightHandler.setAttributeNS(null, 'width', this.params.handlerWidth);\n        this.$rightHandler.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n        this.$rightHandler.style.opacity = this.params.handlerOpacity;\n        this.$rightHandler.style.cursor = 'ew-resize';\n\n        this.$el.appendChild(this.$leftHandler);\n        this.$el.appendChild(this.$rightHandler);\n      }\n    }\n\n    return this.$el;\n  }\n\n  update(renderingContext, datum) {\n    \n    const x = renderingContext.timeToPixel(this.x(datum));\n    const y = renderingContext.valueToPixel(this.y(datum));\n\n    const width = renderingContext.timeToPixel(this.x(datum) +\n                                               this.width(datum)) - x;\n\n    const height = renderingContext.valueToPixel(this.height(datum));\n\n    this.$segment.setAttributeNS(null, 'x', x);\n    this.$segment.setAttributeNS(null, 'y', y);\n    this.$segment.setAttributeNS(null, 'width', Math.max(width, 0));\n    this.$segment.setAttributeNS(null, 'height', height);\n\n    const visible = (x + width >= renderingContext.minX &&\n                     x <= renderingContext.maxX);\n\n    if (!visible) {\n      this.$el.setAttributeNS(null, 'visibility', 'hidden');\n      return;\n    } else {\n      this.$el.setAttributeNS(null, 'visibility', 'visible');\n    }\n    \n    const color = this.color(datum);\n    const opacity = this.opacity(datum);\n\n    this.$el.style.opacity = opacity;\n    this.$segment.style.fill = color;\n\n    if (this.params.displayHandlers) {\n      this.$leftHandler.setAttributeNS(null, 'x', x);\n      this.$leftHandler.setAttributeNS(null, 'y', 0);\n      this.$leftHandler.setAttributeNS(null, 'height', height);\n      this.$leftHandler.style.fill = color;\n\n      this.$rightHandler.setAttributeNS(null, 'x',\n                                        x + width - this.params.handlerWidth);\n      this.$rightHandler.setAttributeNS(null, 'y', 0);\n      this.$rightHandler.setAttributeNS(null, 'height', height);\n      this.$rightHandler.style.fill = color;\n    }\n  }\n\n  inArea(renderingContext, datum, x1, y1, x2, y2) {\n    const shapeX1 = renderingContext.timeToPixel(this.x(datum));\n    const shapeX2 = renderingContext.timeToPixel(this.x(datum) + this.width(datum));\n    const shapeY1 = renderingContext.valueToPixel(this.y(datum));\n    const shapeY2 = renderingContext.valueToPixel(this.y(datum) + this.height(datum));\n\n    // http://jsfiddle.net/uthyZ/ - check overlaping area\n    const xOverlap = Math.max(0, Math.min(x2, shapeX2) - Math.max(x1, shapeX1));\n    const yOverlap = Math.max(0, Math.min(y2, shapeY2) - Math.max(y1, shapeY1));\n    const area = xOverlap * yOverlap;\n\n    return area > 0;\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/segment.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 513,
    "kind": "class",
    "name": "Segment",
    "memberof": "src/shapes/segment.js",
    "static": true,
    "longname": "src/shapes/segment.js~Segment",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/segment.js",
    "importStyle": "Segment",
    "description": "A shape to display a segment.\n\n[example usage](./examples/layer-segment.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 514,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/segment.js~Segment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/segment.js~Segment#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 515,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/segment.js~Segment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/segment.js~Segment#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"x\": *, \"y\": *, \"width\": *, \"height\": number, \"color\": string, \"opacity\": number}"
      ]
    }
  },
  {
    "__docId__": 516,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/segment.js~Segment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/segment.js~Segment#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"displayHandlers\": boolean, \"handlerWidth\": number, \"handlerOpacity\": number, \"opacity\": number}"
      ]
    }
  },
  {
    "__docId__": 517,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/segment.js~Segment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/segment.js~Segment#render",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 518,
    "kind": "member",
    "name": "$segment",
    "memberof": "src/shapes/segment.js~Segment",
    "static": false,
    "longname": "src/shapes/segment.js~Segment#$segment",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 519,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/segment.js~Segment",
    "static": false,
    "longname": "src/shapes/segment.js~Segment#$el",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 520,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/segment.js~Segment",
    "static": false,
    "longname": "src/shapes/segment.js~Segment#$el",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 521,
    "kind": "member",
    "name": "$leftHandler",
    "memberof": "src/shapes/segment.js~Segment",
    "static": false,
    "longname": "src/shapes/segment.js~Segment#$leftHandler",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 522,
    "kind": "member",
    "name": "$rightHandler",
    "memberof": "src/shapes/segment.js~Segment",
    "static": false,
    "longname": "src/shapes/segment.js~Segment#$rightHandler",
    "access": null,
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 523,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/segment.js~Segment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/segment.js~Segment#update",
    "access": null,
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 524,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/segment.js~Segment",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/segment.js~Segment#inArea",
    "access": null,
    "description": null,
    "lineNumber": 114,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "x1",
        "types": [
          "*"
        ]
      },
      {
        "name": "y1",
        "types": [
          "*"
        ]
      },
      {
        "name": "x2",
        "types": [
          "*"
        ]
      },
      {
        "name": "y2",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 525,
    "kind": "file",
    "name": "src/shapes/ticks.js",
    "content": "import BaseShape from './base-shape';\n\n/**\n * Kind of Marker for entity oriented data. Useful to display a grid.\n */\nexport default class Ticks extends BaseShape {\n  _getClassName() {\n    return 'tick';\n  }\n\n  _getAccessorList() {\n    return { time: 0, focused: true, label: '' };\n  }\n\n  _getDefaults() {\n    return {\n      color: 'steelblue',\n      focusedOpacity: 0.8,\n      defaultOpacity: 0.3,\n      labelPosition: 'top',\n      shadeSegments: false,\n      unconstrained: false // indicates we should always update all\n                           // ticks that exist, as the layer is\n                           // handling tick generation dynamically\n                           // (e.g. in axis layer)\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n    \n    this.$el = document.createElementNS(this.ns, 'g');\n    \n    return this.$el;\n  }\n\n  update(renderingContext, data) {\n\n    const before = performance.now();\n\n    while (this.$el.firstChild) {\n      this.$el.removeChild(this.$el.firstChild);\n    }\n\n    const ticks = document.createElementNS(this.ns, 'path');\n    ticks.setAttributeNS(null, 'fill', 'none');\n    ticks.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n    ticks.setAttributeNS(null, 'stroke', this.params.color);\n    ticks.setAttributeNS(null, 'stroke-width', 2);\n    ticks.style.opacity = this.params.opacity;\n\n    this.$el.appendChild(ticks);\n\n    const height = renderingContext.height;\n\n    let instructions = [];\n\n    const n = data.length;\n    \n    if (n > 0) {\n      \n      let nextX = renderingContext.timeToPixel(this.time(data[0]));\n      let oddTick = false;\n      let firstTick = true;\n\n      const segmentOpacity = (odd => { return odd ? 0.1 : 0.05; });\n      \n      for (let i = 0; i < n; ++i) {\n\n        const datum = data[i];\n        const x = nextX;\n        const lastTick = (i + 1 >= n);\n        oddTick = !oddTick;\n\n        if (!lastTick) {\n          nextX = renderingContext.timeToPixel(this.time(data[i+1]));\n        }\n        if (!this.params.unconstrained) {\n          if (x < renderingContext.minX) {\n            continue;\n          }\n          if (!lastTick && (Math.floor(nextX) === Math.floor(x))) {\n            continue;\n          }\n        }\n        \n        const opacity = this.focused(datum) ?\n              this.params.focusedOpacity : this.params.defaultOpacity;\n\n        instructions.push(`M${x},0L${x},${height}`);\n\n        if (this.params.shadeSegments) {\n          if (firstTick) {\n            if (x > renderingContext.minX) {\n              const segment = document.createElementNS(this.ns, 'rect');\n              segment.setAttributeNS(null, 'width', x - renderingContext.minX);\n              segment.setAttributeNS(null, 'height', height);\n              segment.setAttributeNS(null, 'fill', this.params.color);\n              segment.setAttributeNS(null, 'opacity', segmentOpacity(!oddTick));\n              segment.setAttributeNS(null, 'transform', `translate(${renderingContext.minX}, 0)`);\n              this.$el.appendChild(segment);\n            }\n          }\n          if (lastTick || nextX > x + 1) {\n            const segment = document.createElementNS(this.ns, 'rect');\n            segment.setAttributeNS(null, 'width', lastTick ? '100%' : (nextX - x));\n            segment.setAttributeNS(null, 'height', height);\n            segment.setAttributeNS(null, 'fill', this.params.color);\n            segment.setAttributeNS(null, 'opacity', segmentOpacity(oddTick));\n            segment.setAttributeNS(null, 'transform', `translate(${x}, 0)`);\n            this.$el.appendChild(segment);\n          }\n        }\n        \n        const label = this.label(datum);\n\n        if (label && label !== \"\") {\n\n          // find the next label -- we only need enough space between\n          // this tick and that one, not necessarily between this and\n          // its (possibly unlabelled) neighbour\n\n          let nextLabelX = x - 1;\n          for (let j = i + 1; j < n; ++j) {\n            const nextLabel = this.label(data[j]);\n            if (nextLabel && nextLabel !== \"\") {\n              nextLabelX = renderingContext.timeToPixel(this.time(data[j]));\n              break;\n            }\n          }\n          \n          const estWidth = label.length * 6;\n          const enoughSpaceForLabel = (nextLabelX < x || x + estWidth < nextLabelX);\n\n          if (enoughSpaceForLabel) {\n          \n            const $label = document.createElementNS(this.ns, 'text');\n            $label.classList.add('label');\n            const $text = document.createTextNode(label);\n\n            $label.appendChild($text);\n            $label.setAttributeNS(null, 'transform', `matrix(1, 0, 0, -1, ${x + 2}, ${height + 2})`);\n            // firefox problem here\n            // $label.setAttributeNS(null, 'alignment-baseline', 'text-before-edge');\n\n            if (this.params.labelPosition === 'bottom') {\n              $label.setAttributeNS(null, 'y', height);\n            } else {\n              $label.setAttributeNS(null, 'y', '10');\n            }\n\n            $label.style.fontSize = '10px';\n            $label.style.lineHeight = '10px';\n            $label.style.fontFamily = 'monospace';\n            $label.style.color = '#676767';\n            $label.style.opacity = 0.9;\n            $label.style.mozUserSelect = 'none';\n            $label.style.webkitUserSelect = 'none';\n            $label.style.userSelect = 'none';\n/*\n            const bg = document.createElementNS(this.ns, 'rect');\n            bg.setAttributeNS(null, 'width', '100%');\n            bg.setAttributeNS(null, 'height', '100%');\n            bg.setAttributeNS(null, 'fill', '#ffffff');\n            $label.appendChild(bg);\n*/\n            this.$el.appendChild($label);\n          }\n        }\n\n        if (!this.params.unconstrained) {\n          if (nextX > renderingContext.maxX) {\n            break;\n          }\n        }\n        \n        firstTick = false;\n      }\n    }\n\n    const d = instructions.join('');\n    ticks.setAttributeNS(null, 'd', d);\n\n    const after = performance.now();\n    console.log(\"ticks update time = \" + Math.round(after - before) + \"ms\");\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/ticks.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 526,
    "kind": "class",
    "name": "Ticks",
    "memberof": "src/shapes/ticks.js",
    "static": true,
    "longname": "src/shapes/ticks.js~Ticks",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/ticks.js",
    "importStyle": "Ticks",
    "description": "Kind of Marker for entity oriented data. Useful to display a grid.",
    "lineNumber": 6,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 527,
    "kind": "method",
    "name": "_getClassName",
    "memberof": "src/shapes/ticks.js~Ticks",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/ticks.js~Ticks#_getClassName",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 528,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/ticks.js~Ticks",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/ticks.js~Ticks#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"time\": *, \"focused\": boolean, \"label\": *}"
      ]
    }
  },
  {
    "__docId__": 529,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/ticks.js~Ticks",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/ticks.js~Ticks#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"color\": string, \"focusedOpacity\": number, \"defaultOpacity\": number, \"labelPosition\": string, \"shadeSegments\": *, \"unconstrained\": *}"
      ]
    }
  },
  {
    "__docId__": 530,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/ticks.js~Ticks",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/ticks.js~Ticks#render",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 531,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/ticks.js~Ticks",
    "static": false,
    "longname": "src/shapes/ticks.js~Ticks#$el",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 532,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/ticks.js~Ticks",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/ticks.js~Ticks#update",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 533,
    "kind": "file",
    "name": "src/shapes/trace-dots.js",
    "content": "import BaseShape from './base-shape';\n\n\n/**\n * A shape to display dots in a trace visualization (mean / range).\n *\n * [example usage](./examples/layer-trace.html)\n */\nexport default class TraceDots extends BaseShape {\n  getClassName() { return 'trace-dots'; }\n\n  _getAccessorList() {\n    return { x: 0, mean: 0, range: 0 };\n  }\n\n  _getDefaults() {\n    return {\n      meanRadius: 3,\n      rangeRadius: 3,\n      meanColor: '#232323',\n      rangeColor: 'steelblue'\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n    // container\n    this.$el = document.createElementNS(this.ns, 'g');\n    // draw mean dot\n    this.$mean = document.createElementNS(this.ns, 'circle');\n    this.$mean.setAttributeNS(null, 'r', this.params.meanRadius);\n    this.$mean.setAttributeNS(null, 'stroke', this.params.meanColor);\n    this.$mean.setAttributeNS(null, 'fill', 'transparent');\n    this.$mean.classList.add('mean');\n    // range dots (0 => top, 1 => bottom)\n    this.$max = document.createElementNS(this.ns, 'circle');\n    this.$max.setAttributeNS(null, 'r', this.params.meanRadius);\n    this.$max.setAttributeNS(null, 'stroke', this.params.rangeColor);\n    this.$max.setAttributeNS(null, 'fill', 'transparent');\n    this.$max.classList.add('max');\n\n    this.$min = document.createElementNS(this.ns, 'circle');\n    this.$min.setAttributeNS(null, 'r', this.params.meanRadius);\n    this.$min.setAttributeNS(null, 'stroke', this.params.rangeColor);\n    this.$min.setAttributeNS(null, 'fill', 'transparent');\n    this.$min.classList.add('min');\n\n    this.$el.appendChild(this.$mean);\n    this.$el.appendChild(this.$max);\n    this.$el.appendChild(this.$min);\n\n    return this.$el;\n  }\n\n  // @TODO use accessors\n  update(renderingContext, datum) {\n    const mean = this.mean(datum);\n    const range = this.range(datum);\n    const x = this.x(datum);\n    // y positions\n    const meanPos = `${renderingContext.valueToPixel(mean)}`;\n    this.$mean.setAttributeNS(null, 'transform', `translate(0, ${meanPos})`);\n\n    const halfRange = range / 2;\n    const max = renderingContext.valueToPixel(mean + halfRange);\n    const min = renderingContext.valueToPixel(mean - halfRange);\n    const xPos = renderingContext.timeToPixel(x);\n\n    this.$max.setAttributeNS(null, 'transform', `translate(0, ${max})`);\n    this.$min.setAttributeNS(null, 'transform', `translate(0, ${min})`);\n    this.$el.setAttributeNS(null, 'transform', `translate(${xPos}, 0)`);\n  }\n\n  inArea(renderingContext, datum, x1, y1, x2, y2) {\n    const x = renderingContext.timeToPixel(this.x(datum));\n    const mean = renderingContext.valueToPixel(this.mean(datum));\n    const range = renderingContext.valueToPixel(this.range(datum));\n    const min = mean - (range / 2);\n    const max = mean + (range / 2);\n\n    if (x > x1 && x < x2 && (min > y1 || max < y2)) {\n      return true;\n    }\n\n    return false;\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/trace-dots.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 534,
    "kind": "class",
    "name": "TraceDots",
    "memberof": "src/shapes/trace-dots.js",
    "static": true,
    "longname": "src/shapes/trace-dots.js~TraceDots",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/trace-dots.js",
    "importStyle": "TraceDots",
    "description": "A shape to display dots in a trace visualization (mean / range).\n\n[example usage](./examples/layer-trace.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 535,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 536,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"x\": *, \"mean\": *, \"range\": *}"
      ]
    }
  },
  {
    "__docId__": 537,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"meanRadius\": number, \"rangeRadius\": number, \"meanColor\": string, \"rangeColor\": string}"
      ]
    }
  },
  {
    "__docId__": 538,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#render",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 539,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#$el",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 540,
    "kind": "member",
    "name": "$mean",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#$mean",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 541,
    "kind": "member",
    "name": "$max",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#$max",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 542,
    "kind": "member",
    "name": "$min",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#$min",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 543,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#update",
    "access": null,
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 544,
    "kind": "method",
    "name": "inArea",
    "memberof": "src/shapes/trace-dots.js~TraceDots",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-dots.js~TraceDots#inArea",
    "access": null,
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "datum",
        "types": [
          "*"
        ]
      },
      {
        "name": "x1",
        "types": [
          "*"
        ]
      },
      {
        "name": "y1",
        "types": [
          "*"
        ]
      },
      {
        "name": "x2",
        "types": [
          "*"
        ]
      },
      {
        "name": "y2",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 545,
    "kind": "file",
    "name": "src/shapes/trace-path.js",
    "content": "import BaseShape from './base-shape';\n\n\n/**\n * A shape to display paths in a trace visualization (mean / range). (entity shape)\n *\n * [example usage](./examples/layer-trace.html)\n */\nexport default class TracePath extends BaseShape {\n  getClassName() { return 'trace-common'; }\n\n  _getAccessorList() {\n    return { x: 0, mean: 0, range: 0 };\n  }\n\n  _getDefaults() {\n    return {\n      rangeColor: 'steelblue',\n      meanColor: '#232323',\n      displayMean: true\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n    this.$el = document.createElementNS(this.ns, 'g');\n    // range path\n    this.$range = document.createElementNS(this.ns, 'path');\n    this.$el.appendChild(this.$range);\n\n    // mean line\n    if (this.params.displayMean) {\n      this.$mean = document.createElementNS(this.ns, 'path');\n      this.$el.appendChild(this.$mean);\n    }\n\n    return this.$el;\n  }\n\n  update(renderingContext, data) {\n    // order data by x position\n    data = data.slice(0);\n    data.sort((a, b) => this.x(a) < this.x(b) ? -1 : 1);\n\n    if (this.params.displayMean) {\n      this.$mean.setAttributeNS(null, 'd', this._buildMeanLine(renderingContext, data));\n      this.$mean.setAttributeNS(null, 'stroke', this.params.meanColor);\n      this.$mean.setAttributeNS(null, 'fill', 'none');\n    }\n\n    this.$range.setAttributeNS(null, 'd', this._buildRangeZone(renderingContext, data));\n    this.$range.setAttributeNS(null, 'stroke', 'none');\n    this.$range.setAttributeNS(null, 'fill', this.params.rangeColor);\n    this.$range.setAttributeNS(null, 'opacity', '0.4');\n\n    data = null;\n  }\n\n  _buildMeanLine(renderingContext, data) {\n    let instructions = data.map((datum, index) => {\n      const x = renderingContext.timeToPixel(this.x(datum));\n      const y = renderingContext.valueToPixel(this.mean(datum));\n      return `${x},${y}`;\n    });\n\n    return 'M' + instructions.join('L');\n  }\n\n  _buildRangeZone(renderingContext, data) {\n    const length = data.length;\n    // const lastIndex = data\n    let instructionsStart = '';\n    let instructionsEnd = '';\n\n    for (let i = 0; i < length; i++) {\n      const datum = data[i];\n      const mean = this.mean(datum);\n      const halfRange = this.range(datum) / 2;\n\n      const x  = renderingContext.timeToPixel(this.x(datum));\n      const y0 = renderingContext.valueToPixel(mean + halfRange);\n      const y1 = renderingContext.valueToPixel(mean - halfRange);\n\n      const start = `${x},${y0}`;\n      const end   = `${x},${y1}`;\n\n      instructionsStart = instructionsStart === '' ?\n        start : `${instructionsStart}L${start}`;\n\n      instructionsEnd = instructionsEnd === '' ?\n        end : `${end}L${instructionsEnd}`;\n    }\n\n    let instructions = `M${instructionsStart}L${instructionsEnd}Z`;\n    return instructions;\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/trace-path.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 546,
    "kind": "class",
    "name": "TracePath",
    "memberof": "src/shapes/trace-path.js",
    "static": true,
    "longname": "src/shapes/trace-path.js~TracePath",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/trace-path.js",
    "importStyle": "TracePath",
    "description": "A shape to display paths in a trace visualization (mean / range). (entity shape)\n\n[example usage](./examples/layer-trace.html)",
    "lineNumber": 9,
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 547,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 548,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"x\": *, \"mean\": *, \"range\": *}"
      ]
    }
  },
  {
    "__docId__": 549,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"rangeColor\": string, \"meanColor\": string, \"displayMean\": boolean}"
      ]
    }
  },
  {
    "__docId__": 550,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#render",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 551,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#$el",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 552,
    "kind": "member",
    "name": "$range",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#$range",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 553,
    "kind": "member",
    "name": "$mean",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#$mean",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 554,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#update",
    "access": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 555,
    "kind": "method",
    "name": "_buildMeanLine",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#_buildMeanLine",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 556,
    "kind": "method",
    "name": "_buildRangeZone",
    "memberof": "src/shapes/trace-path.js~TracePath",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/trace-path.js~TracePath#_buildRangeZone",
    "access": null,
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 557,
    "kind": "file",
    "name": "src/shapes/waveform.js",
    "content": "import BaseShape from './base-shape';\nimport Oversampler from '../utils/oversample';\n\nconst xhtmlNS = 'http://www.w3.org/1999/xhtml';\n\n/**\n * A shape to display a waveform. (for entity data)\n *\n * [example usage](./examples/layer-waveform.html)\n *\n * @todo - fix problems with canvas strategy.\n */\nexport default class Waveform extends BaseShape {\n  getClassName() { return 'waveform'; }\n\n  _getAccessorList() {\n    return {};\n  }\n\n  _getDefaults() {\n    return {\n      sampleRate: 44100,\n      color: '#000000',\n      opacity: 1,\n      peakCacheBlockSize: 32,\n    };\n  }\n\n  render(renderingContext) {\n    if (this.$el) { return this.$el; }\n\n    this.$el = document.createElementNS(this.ns, 'path');\n    this.$el.setAttributeNS(null, 'fill', 'none');\n    this.$el.setAttributeNS(null, 'stroke', this.params.color);\n    this.$el.style.opacity = this.params.opacity;\n\n    this.factor = 8;\n    this.oversampler = new Oversampler(this.factor);\n\n    return this.$el;\n  }\n\n  encache(samples) {\n\n    console.log(\"waveform encache called\");\n\n    // The cache is an array of peak caches (holding the min and max\n    // values within each block for a given block size) with each peak\n    // cache represented as an object with blockSize, min array, and\n    // max array properties.\n    //\n    // For example:\n    //    \n    // [ {\n    //     blockSize: 16,\n    //     max: [ 0.7,  0.5, 0.25, -0.1 ],\n    //     min: [ 0.5, -0.1, -0.8, -0.2 ]\n    //   }, {\n    //     blockSize: 32, \n    //     max: [  0.7,  0.25 ],\n    //     min: [ -0.1, -0.8  ]\n    //   }\n    // ]\n    //\n    // As it happens we are only creating a cache with a single block\n    // size at the moment, but it's useful to record that block size\n    // in the cache rather than have to fix it here in the shape.\n\n    const before = performance.now();\n\n    const peakCacheFor = ((arr, blockSize) => {\n    \n      let peaks = [], troughs = [];\n\n      const len = arr.length;\n    \n      for (let i = 0; i < len; i = i + blockSize) {\n        let min = arr[i];\n        let max = arr[i];\n        for (let j = 0; j < blockSize; j++) {\n          let sample = arr[i + j];\n          if (sample < min) { min = sample; }\n          if (sample > max) { max = sample; }\n        }\n        peaks.push(max);\n        troughs.push(min);\n      }\n\n      return [ peaks, troughs ];\n    });\n\n    // For a single peak cache, experiment suggests smallish block\n    // sizes are better. There's no benefit in having multiple layers\n    // of cache (e.g. 32 and 512) unless update() can take advantage\n    // of both in a single summarise action (e.g. when asked for a\n    // read from 310 to 1050, start by reading single samples from 310\n    // to 320, then from the 32-sample cache from 320 to 512, then\n    // switch to the 512 sample cache, rather than having to read\n    // single samples all the way from 310 to 512)... but at the\n    // moment it can't. And the more complex logic would carry its own\n    // overhead.\n    \n    const blockSize = this.params.peakCacheBlockSize;\n    let [ peaks, troughs ] = peakCacheFor(samples, blockSize);\n    \n    return {\n      samples,\n      peakCaches: [\n        { blockSize,\n          max: peaks,\n          min: troughs\n        }\n      ]\n    };\n  }\n  \n  summarise(cache, minX, maxX, pixelToSample) {\n\n    const before = performance.now();\n\n    const samples = cache.samples;\n    \n    const px0 = Math.floor(minX);\n    const px1 = Math.floor(maxX);\n\n    let peakCache = null;\n    let peakCacheBlockSize = 0;\n\n    if (cache && (cache.peakCaches.length > 0)) {\n\n      // Find a suitable peak cache if we have one.\n      \n      // \"step\" is the distance in samples from one pixel to the next.\n      // We want the largest cache whose block size is no larger than\n      // half this, so as to avoid situations where our step is always\n      // straddling cache block boundaries.\n      const step = pixelToSample(px0 + 1) - pixelToSample(px0);\n\n      for (var i = 0; i < cache.peakCaches.length; ++i) {\n        const blockSize = cache.peakCaches[i].blockSize;\n        if (blockSize > peakCacheBlockSize && blockSize <= step/2) {\n          peakCache = cache.peakCaches[i];\n          peakCacheBlockSize = peakCache.blockSize;\n        }\n      }\n    }\n\n    const sampleRate = this.params.sampleRate;\n    let minMax = [];\n\n    for (let px = px0; px < px1; px++) {\n\n      const startSample = pixelToSample(px);\n      if (startSample < 0) continue;\n      if (startSample >= samples.length) break;\n\n      let endSample = pixelToSample(px + 1);\n      if (endSample >= samples.length) endSample = samples.length;\n      if (endSample < 0) continue;\n\n      let min = samples[startSample];\n      let max = min;\n      \n      let ix = startSample;\n\n      if (peakCache && (peakCacheBlockSize > 0)) {\n      \n        while (ix < endSample && (ix % peakCacheBlockSize) !== 0) {\n          let sample = samples[ix];\n          if (sample < min) { min = sample; }\n          if (sample > max) { max = sample; }\n          ++ix;\n        }\n\n        let cacheIx = ix / peakCacheBlockSize;\n        const cacheMax = peakCache.max;\n        const cacheMin = peakCache.min;\n      \n        while (ix + peakCacheBlockSize <= endSample) {\n          if (cacheMax[cacheIx] > max) max = cacheMax[cacheIx];\n          if (cacheMin[cacheIx] < min) min = cacheMin[cacheIx];\n          ++cacheIx;\n          ix = ix + peakCacheBlockSize;\n        }\n      }\n\n      while (ix < endSample) {\n        let sample = samples[ix];\n        if (sample < min) { min = sample; }\n        if (sample > max) { max = sample; }\n        ++ix;\n      }\n\n      minMax.push([px, min, max]);\n    }\n\n    const after = performance.now();\n    console.log(\"waveform summarisation time = \" + Math.round(after - before));\n    \n    return minMax;\n  }\n\n  _updateSummarising(renderingContext, cache, pixelToSample) {\n\n    console.log(\"waveform updateSummarising\");\n    \n    const minX = renderingContext.minX;\n    const maxX = renderingContext.maxX;\n    \n    // get min/max values per pixel\n    const minMax = this.summarise(cache, minX, maxX, pixelToSample);\n    if (!minMax.length) { return; }\n\n    let instructions = minMax.map(datum => {\n      const [ x, min, max ] = datum;\n      const y1 = Math.round(renderingContext.valueToPixel(min));\n      const y2 = Math.round(renderingContext.valueToPixel(max));\n      return `${x},${y1}L${x},${y2}`;\n    });\n\n    const d = 'M' + instructions.join('L');\n    this.$el.setAttributeNS(null, 'shape-rendering', 'crispEdges');\n    this.$el.setAttributeNS(null, 'stroke-width', 1.0);\n    this.$el.setAttributeNS(null, 'd', d);\n  }\n\n  _updateInterpolating(renderingContext, cache, pixelToSample, sampleToPixel) {\n\n    console.log(\"waveform updateInterpolating\");\n    \n    const minX = renderingContext.minX;\n    const maxX = renderingContext.maxX;\n\n    const s0 = pixelToSample(minX);\n    const s1 = pixelToSample(maxX) + 1;\n\n    const samples = cache.samples;\n    const n = samples.length;\n\n    console.log(\"minX = \" + minX + \", maxX = \" + maxX + \", s0 = \" + s0 + \", s1 = \" + s1);\n\n    let instructions = [];\n\n    // Pixel coordinates in this function are *not* rounded, we want\n    // to preserve the proper shape as far as possible\n\n    // Add a little square for each sample location\n    \n    for (let i = s0; i < s1 && i < n; ++i) {\n      if (i < 0) continue;\n      const x = sampleToPixel(i);\n      const y = renderingContext.valueToPixel(samples[i]);\n      instructions.push(`M${x-1},${y-1}h2v2h-2v-2`);\n    }\n\n    // Now fill in the gaps between the squares\n\n    const factor = this.factor;\n    const oversampled = this.oversampler.oversample(samples, s0, s1 - s0);\n\n    for (let i = 0; i < oversampled.length; ++i) {\n      const x = sampleToPixel(s0 + i/factor); // sampleToPixel accepts non-integers\n      const y = renderingContext.valueToPixel(oversampled[i]);\n      if (i === 0) {\n        instructions.push(`M${x},${y}`);\n      } else {\n        instructions.push(`L${x},${y}`);\n      }\n    }\n    \n    const d = instructions.join('');\n    this.$el.setAttributeNS(null, 'shape-rendering', 'geometricPrecision');\n    this.$el.setAttributeNS(null, 'stroke-width', 0.6);\n    this.$el.setAttributeNS(null, 'd', d);\n  }\n  \n  update(renderingContext, cache) {\n\n    console.log(\"waveform update called\");\n    \n    const before = performance.now();\n\n    const sampleRate = this.params.sampleRate;\n    const minX = renderingContext.minX;\n    \n    const step = sampleRate * (renderingContext.timeToPixel.invert(minX + 1) -\n\t\t\t       renderingContext.timeToPixel.invert(minX));\n\n    const snapToCacheBoundaries = (step >= this.params.peakCacheBlockSize * 2);\n    \n    console.log(\"waveform update: pixel step = \" + step + \" samples, snapToCacheBoundaries = \" + snapToCacheBoundaries);\n\n    const pixelToSampleSnapped = (pixel => {\n      return this.params.peakCacheBlockSize *\n\tMath.floor ((sampleRate * renderingContext.timeToPixel.invert(pixel)) /\n\t\t    this.params.peakCacheBlockSize);\n    });\n    const pixelToSampleUnsnapped = (pixel => {\n      return Math.floor (sampleRate * renderingContext.timeToPixel.invert(pixel));\n    });\n    const pixelToSample = (snapToCacheBoundaries ?\n\t\t\t   pixelToSampleSnapped :\n\t\t\t   pixelToSampleUnsnapped);\n    \n    const sampleToPixel = (sample => {\n      // neither snapped nor even rounded to integer pixel\n      return renderingContext.timeToPixel(sample / sampleRate);\n    });\n\n    if (step > 1.0) {\n      this._updateSummarising(renderingContext, cache,\n\t\t\t      pixelToSample);\n    } else {\n      this._updateInterpolating(renderingContext, cache,\n\t\t\t\tpixelToSample, sampleToPixel);\n    }\n\n    const after = performance.now();\n    console.log(\"waveform update time = \" + Math.round(after - before));\n  }\n}\n",
    "static": true,
    "longname": "src/shapes/waveform.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 558,
    "kind": "variable",
    "name": "xhtmlNS",
    "memberof": "src/shapes/waveform.js",
    "static": true,
    "longname": "src/shapes/waveform.js~xhtmlNS",
    "access": null,
    "export": false,
    "importPath": "waves-ui-piper/src/shapes/waveform.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 559,
    "kind": "class",
    "name": "Waveform",
    "memberof": "src/shapes/waveform.js",
    "static": true,
    "longname": "src/shapes/waveform.js~Waveform",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/shapes/waveform.js",
    "importStyle": "Waveform",
    "description": "A shape to display a waveform. (for entity data)\n\n[example usage](./examples/layer-waveform.html)",
    "lineNumber": 13,
    "todo": [
      "- fix problems with canvas strategy."
    ],
    "interface": false,
    "extends": [
      "src/shapes/base-shape.js~BaseShape"
    ]
  },
  {
    "__docId__": 560,
    "kind": "method",
    "name": "getClassName",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#getClassName",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 561,
    "kind": "method",
    "name": "_getAccessorList",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#_getAccessorList",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 562,
    "kind": "method",
    "name": "_getDefaults",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#_getDefaults",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"sampleRate\": number, \"color\": string, \"opacity\": number, \"peakCacheBlockSize\": number}"
      ]
    }
  },
  {
    "__docId__": 563,
    "kind": "method",
    "name": "render",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#render",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 564,
    "kind": "member",
    "name": "$el",
    "memberof": "src/shapes/waveform.js~Waveform",
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#$el",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 565,
    "kind": "member",
    "name": "factor",
    "memberof": "src/shapes/waveform.js~Waveform",
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#factor",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 566,
    "kind": "member",
    "name": "oversampler",
    "memberof": "src/shapes/waveform.js~Waveform",
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#oversampler",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 567,
    "kind": "method",
    "name": "encache",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#encache",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "samples",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"samples\": *, \"peakCaches\": *}"
      ]
    }
  },
  {
    "__docId__": 568,
    "kind": "method",
    "name": "summarise",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#summarise",
    "access": null,
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "cache",
        "types": [
          "*"
        ]
      },
      {
        "name": "minX",
        "types": [
          "*"
        ]
      },
      {
        "name": "maxX",
        "types": [
          "*"
        ]
      },
      {
        "name": "pixelToSample",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 569,
    "kind": "method",
    "name": "_updateSummarising",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#_updateSummarising",
    "access": null,
    "description": null,
    "lineNumber": 203,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "cache",
        "types": [
          "*"
        ]
      },
      {
        "name": "pixelToSample",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 570,
    "kind": "method",
    "name": "_updateInterpolating",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#_updateInterpolating",
    "access": null,
    "description": null,
    "lineNumber": 227,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "cache",
        "types": [
          "*"
        ]
      },
      {
        "name": "pixelToSample",
        "types": [
          "*"
        ]
      },
      {
        "name": "sampleToPixel",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 571,
    "kind": "method",
    "name": "update",
    "memberof": "src/shapes/waveform.js~Waveform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/shapes/waveform.js~Waveform#update",
    "access": null,
    "description": null,
    "lineNumber": 277,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "renderingContext",
        "types": [
          "*"
        ]
      },
      {
        "name": "cache",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 572,
    "kind": "file",
    "name": "src/states/base-state.js",
    "content": "/**\n * `State` instances are used to define the application logic by precising\n * specific user interaction cases, and how they impact the overal temporal\n * representation. The abstractions extending this base class should be\n * considered as the main interface between the visualization and the\n * application logic. All provided states should be seen as simple examples for\n * rapid prototyping,\n *\n * States manage interactions like zooming, browsing, or editing the timeline.\n * Customized states should extend this BaseState.\n */\nexport default class BaseState {\n  /**\n   * Returns timeline tracks collection.\n   *\n   * @type {TrackCollection}\n   */\n  constructor(timeline) {\n    /**\n     * A reference to the timeline on which the state should be installed.\n     * @type {Timeline}\n     */\n    this.timeline = timeline;\n  }\n\n  /**\n   * Returns timeline tracks collection.\n   *\n   * @type {TrackCollection<Track>}\n   */\n  get tracks() {\n    return this.timeline.tracks;\n  }\n\n  /**\n   * Returns all registered layers.\n   *\n   * @type {Array<Layer>}\n   */\n  get layers() {\n    return this.timeline.tracks.layers;\n  }\n\n  /**\n   * Called when the timeline is entering the state.\n   */\n  enter() {}\n\n  /**\n   * Called when the timeline is leaving the state.\n   */\n  exit() {}\n\n  /**\n   * Main interface method to override when creating a new `State`. Handle event\n   * from mouse or keyboard, should define behavior according to the event\n   * (aka. mousedown, mouseup, ...).\n   *\n   * @param {WaveEvent} e - the event to process.\n   * @param {Array} hitLayers - the layers hit by the mouse event (if surface\n   * event).\n   */\n  handleEvent(e, hitLayers) {}\n}\n",
    "static": true,
    "longname": "src/states/base-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 573,
    "kind": "class",
    "name": "BaseState",
    "memberof": "src/states/base-state.js",
    "static": true,
    "longname": "src/states/base-state.js~BaseState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/base-state.js",
    "importStyle": "BaseState",
    "description": "`State` instances are used to define the application logic by precising\nspecific user interaction cases, and how they impact the overal temporal\nrepresentation. The abstractions extending this base class should be\nconsidered as the main interface between the visualization and the\napplication logic. All provided states should be seen as simple examples for\nrapid prototyping,\n\nStates manage interactions like zooming, browsing, or editing the timeline.\nCustomized states should extend this BaseState.",
    "lineNumber": 12,
    "interface": false
  },
  {
    "__docId__": 574,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/base-state.js~BaseState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/base-state.js~BaseState#constructor",
    "access": null,
    "description": "Returns timeline tracks collection.",
    "lineNumber": 18,
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "TrackCollection"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 575,
    "kind": "member",
    "name": "timeline",
    "memberof": "src/states/base-state.js~BaseState",
    "static": false,
    "longname": "src/states/base-state.js~BaseState#timeline",
    "access": null,
    "description": "A reference to the timeline on which the state should be installed.",
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "Timeline"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 576,
    "kind": "get",
    "name": "tracks",
    "memberof": "src/states/base-state.js~BaseState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/base-state.js~BaseState#tracks",
    "access": null,
    "description": "Returns timeline tracks collection.",
    "lineNumber": 31,
    "type": {
      "nullable": null,
      "types": [
        "TrackCollection<Track>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 577,
    "kind": "get",
    "name": "layers",
    "memberof": "src/states/base-state.js~BaseState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/base-state.js~BaseState#layers",
    "access": null,
    "description": "Returns all registered layers.",
    "lineNumber": 40,
    "type": {
      "nullable": null,
      "types": [
        "Array<Layer>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 578,
    "kind": "method",
    "name": "enter",
    "memberof": "src/states/base-state.js~BaseState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/base-state.js~BaseState#enter",
    "access": null,
    "description": "Called when the timeline is entering the state.",
    "lineNumber": 47,
    "params": []
  },
  {
    "__docId__": 579,
    "kind": "method",
    "name": "exit",
    "memberof": "src/states/base-state.js~BaseState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/base-state.js~BaseState#exit",
    "access": null,
    "description": "Called when the timeline is leaving the state.",
    "lineNumber": 52,
    "params": []
  },
  {
    "__docId__": 580,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/base-state.js~BaseState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/base-state.js~BaseState#handleEvent",
    "access": null,
    "description": "Main interface method to override when creating a new `State`. Handle event\nfrom mouse or keyboard, should define behavior according to the event\n(aka. mousedown, mouseup, ...).",
    "lineNumber": 63,
    "params": [
      {
        "nullable": null,
        "types": [
          "WaveEvent"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "the event to process."
      },
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "hitLayers",
        "description": "the layers hit by the mouse event (if surface\nevent)."
      }
    ]
  },
  {
    "__docId__": 581,
    "kind": "file",
    "name": "src/states/breakpoint-state.js",
    "content": "import BaseState from './base-state';\n\n\n/**\n * A state to interact with a breakpoint function, mimicing Max/MSP's\n * breakpoint function interactions.\n *\n * [example usage](./examples/layer-breakpint.html)\n */\nexport default class BreakpointState extends BaseState {\n  constructor(timeline, datumGenerator) {\n    super(timeline);\n\n    this.datumGenerator = datumGenerator;\n    this.currentEditedLayer = null;\n    this.currentTarget = null;\n  }\n\n  enter() {}\n  exit() {}\n\n  handleEvent(e, hitLayers) {\n    switch (e.type) {\n      case 'mousedown':\n        this.onMouseDown(e, hitLayers);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e, hitLayers);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e, hitLayers);\n        break;\n    }\n  }\n\n  onMouseDown(e, hitLayers) {\n    this.mouseDown = true;\n    // keep target consistent with mouse down\n    this.currentTarget = e.target;\n    let updatedLayer = null;\n\n    const layers = hitLayers;\n\n    layers.forEach((layer) => {\n      layer.unselect();\n      const item = layer.getItemFromDOMElement(e.target);\n\n      if (item === null) {\n        // create an item\n        const time = layer.timeToPixel.invert(e.x) - this.timeline.offset;\n        const value = layer.valueToPixel.invert(layer.params.height - e.y);\n        const datum = this.datumGenerator(time, value);\n\n        layer.data.push(datum);\n        updatedLayer = layer;\n      } else {\n        // if shift is pressed, remove the item\n        if (e.originalEvent.shiftKey) {\n          const data = layer.data;\n          const datum = layer.getDatumFromItem(item);\n          data.splice(data.indexOf(datum), 1);\n\n          updatedLayer = layer;\n        } else {\n          this.currentEditedLayer = layer;\n          layer.select(item);\n        }\n      }\n    });\n\n    if (updatedLayer) {\n      this.timeline.tracks.render(updatedLayer);\n      this.timeline.tracks.update(updatedLayer);\n    }\n  }\n\n  onMouseMove(e) {\n    if (!this.mouseDown || !this.currentEditedLayer) { return; }\n\n    const layer = this.currentEditedLayer;\n    const items = layer.selectedItems;\n    // the loop should be in layer to match select / unselect API\n    items.forEach((item) => {\n      layer.edit(item, e.dx, e.dy, this.currentTarget);\n    });\n\n    layer.update(items);\n  }\n\n  onMouseUp(e) {\n    this.currentEditedLayer = null;\n    this.mouseDown = false;\n  }\n}\n",
    "static": true,
    "longname": "src/states/breakpoint-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 582,
    "kind": "class",
    "name": "BreakpointState",
    "memberof": "src/states/breakpoint-state.js",
    "static": true,
    "longname": "src/states/breakpoint-state.js~BreakpointState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/breakpoint-state.js",
    "importStyle": "BreakpointState",
    "description": "A state to interact with a breakpoint function, mimicing Max/MSP's\nbreakpoint function interactions.\n\n[example usage](./examples/layer-breakpint.html)",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 583,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      },
      {
        "name": "datumGenerator",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 584,
    "kind": "member",
    "name": "datumGenerator",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#datumGenerator",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 585,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 586,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 587,
    "kind": "method",
    "name": "enter",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#enter",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 588,
    "kind": "method",
    "name": "exit",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#exit",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 589,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "hitLayers",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 590,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "hitLayers",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 591,
    "kind": "member",
    "name": "mouseDown",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#mouseDown",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 592,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 593,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 65,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 594,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 595,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 90,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 596,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 91,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 597,
    "kind": "member",
    "name": "mouseDown",
    "memberof": "src/states/breakpoint-state.js~BreakpointState",
    "static": false,
    "longname": "src/states/breakpoint-state.js~BreakpointState#mouseDown",
    "access": null,
    "description": null,
    "lineNumber": 92,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 598,
    "kind": "file",
    "name": "src/states/brush-zoom-state.js",
    "content": "import ns from '../core/namespace';\nimport BaseState from './base-state';\n\n\n/**\n * Protools like zoom with zone selection. Press space bar to reset zoom.\n *\n * [example usage](./examples/states-zoom.html)\n *\n * @todo - could also handle `g` and `h` keys to zoom-in, zoom-out.\n */\nexport default class BrushZoomState extends BaseState {\n  constructor(timeline) {\n    super(timeline);\n  }\n\n  handleEvent(e) {\n    switch(e.type) {\n      case 'mousedown':\n        this.onMouseDown(e);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e);\n        break;\n      case 'keydown':\n        this.onKeyDown(e);\n        break;\n    }\n  }\n\n  onMouseDown(e) {\n    this.brushes = [];\n    this.startX = e.x;\n    // create brush in each containers\n    this.tracks.forEach((track) => {\n      const interactions = track.$interactions;\n\n      const brush = document.createElementNS(ns, 'rect');\n      brush.setAttributeNS(null, 'height', track.height);\n      brush.setAttributeNS(null, 'y', 0);\n      brush.style.fill = '#787878';\n      brush.style.opacity = 0.2;\n\n      interactions.appendChild(brush);\n\n      this.brushes.push(brush);\n    });\n  }\n\n  onMouseMove(e) {\n    // update brush\n    const width = Math.abs(e.x - this.startX);\n    const x = Math.min(e.x, this.startX);\n\n    this.brushes.forEach((brush) => {\n      brush.setAttributeNS(null, 'width', width);\n      brush.setAttributeNS(null, 'x', x);\n    });\n  }\n\n  onMouseUp(e) {\n    // remove brush\n    this.brushes.forEach((brush) => {\n      brush.parentNode.removeChild(brush);\n    });\n\n    // update timeContext\n    const startX = this.startX;\n    const endX = e.x;\n    // return if no drag\n    if (Math.abs(startX - endX) < 1) { return; }\n\n    const leftX = Math.max(0, Math.min(startX, endX));\n    const rightX = Math.max(startX, endX);\n\n    let minTime = this.timeline.timeToPixel.invert(leftX);\n    let maxTime = this.timeline.timeToPixel.invert(rightX);\n\n    const deltaDuration = maxTime - minTime;\n    const zoom = this.timeline.visibleDuration / deltaDuration;\n\n    this.timeline.offset -= minTime;\n    this.timeline.zoom *= zoom;\n\n    this.tracks.update();\n  }\n\n  onKeyDown(e) {\n    // reset on space bar\n    if (e.originalEvent.keyCode === 32) {\n      this.timeline.offset = 0;\n      this.timeline.zoom = 1;\n      this.tracks.update();\n    }\n  }\n}\n",
    "static": true,
    "longname": "src/states/brush-zoom-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 599,
    "kind": "class",
    "name": "BrushZoomState",
    "memberof": "src/states/brush-zoom-state.js",
    "static": true,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/brush-zoom-state.js",
    "importStyle": "BrushZoomState",
    "description": "Protools like zoom with zone selection. Press space bar to reset zoom.\n\n[example usage](./examples/states-zoom.html)",
    "lineNumber": 12,
    "todo": [
      "- could also handle `g` and `h` keys to zoom-in, zoom-out."
    ],
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 600,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 601,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 602,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 603,
    "kind": "member",
    "name": "brushes",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#brushes",
    "access": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 604,
    "kind": "member",
    "name": "startX",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#startX",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 605,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 606,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 607,
    "kind": "method",
    "name": "onKeyDown",
    "memberof": "src/states/brush-zoom-state.js~BrushZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/brush-zoom-state.js~BrushZoomState#onKeyDown",
    "access": null,
    "description": null,
    "lineNumber": 91,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 608,
    "kind": "file",
    "name": "src/states/centered-zoom-state.js",
    "content": "import scales from '../utils/scales';\nimport BaseState from './base-state';\n\n\n/**\n * `CenteredZoomState` is a timeline state mimicing the `Live` zoom interaction. It allows the user to browse the timeline by clicking on a track, and then\n * - moving down to zoom in\n * - moving up to zoom out\n * - moving left to move in time, after\n * - moving right to move in time, before\n *\n * [example usage](./examples/states-zoom.html)\n */\nexport default class CenteredZoomState extends BaseState {\n  constructor(timeline) {\n    super(timeline);\n    this.currentLayer = null;\n    // Set max/min zoom\n    // maxZoom: 1px per sample\n    // minZoom: 10 000 px per 1 hour\n    // with a default to 44.1kHz sample rate\n    this.maxZoom = 44100 * 16 / this.timeline.timeContext.pixelsPerSecond;\n    this.minZoom = 10000 / 3600 / this.timeline.timeContext.pixelsPerSecond;\n  }\n\n  handleEvent(e) {\n    switch(e.type) {\n      case 'mousedown':\n        this.onMouseDown(e);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e);\n        break;\n    }\n  }\n\n  onMouseDown(e) {\n\n    this.initialX = e.x;\n    this.initialOffset = this.timeline.timeContext.offset;\n    this.initialCenterTime =\n      this.timeline.timeContext.timeToPixel.invert(e.x) - this.initialOffset;\n    \n    this.initialY = e.y;\n    this.initialZoom = this.timeline.timeContext.zoom;\n\n    this.dragMode = 'unresolved';\n\n    this._pixelToExponent = scales.linear()\n      .domain([0, 100]) // 100px => factor 2\n      .range([0, 1]);\n  }\n\n  updateDragMode(e) {\n\n    if (this.dragMode === 'free') {\n      return;\n    }\n    \n    const dx = Math.abs(e.x - this.initialX);\n    const dy = Math.abs(e.y - this.initialY);\n\n    const smallThreshold = 10, bigThreshold = 50;\n\n    if (this.dragMode === 'unresolved') {\n      if (dy > smallThreshold && dy > dx * 2) {\n        this.dragMode = 'vertical';\n      } else if (dx > smallThreshold && dx > dy * 2) {\n        this.dragMode = 'horizontal';\n      } else if (dx > smallThreshold && dy > smallThreshold) {\n        this.dragMode = 'free';\n      }\n    }\n\n    if (this.dragMode === 'vertical' && dx > bigThreshold) {\n      this.dragMode = 'free';\n    }\n    if (this.dragMode === 'horizontal' && dy > bigThreshold) {\n      this.dragMode = 'free';\n    }\n  }\n\n  onMouseMove(e) {\n    // prevent annoying text selection when dragging\n    e.originalEvent.preventDefault();\n\n    this.updateDragMode(e);\n    \n    const timeContext = this.timeline.timeContext;\n\n    let changed = false;\n    \n    if (this.dragMode === 'vertical' ||\n        this.dragMode === 'free') {\n      \n      const exponent = this._pixelToExponent(e.y - this.initialY);\n\n      // -1...1 -> 1/2...2 :\n      const targetZoom = this.initialZoom * Math.pow(2, exponent);\n\n      const clampedZoom = Math.min(Math.max(targetZoom, this.minZoom),\n                                   this.maxZoom);\n\n      if (timeContext.zoom !== clampedZoom) {\n        timeContext.zoom = clampedZoom;\n        changed = true;\n      }\n    }\n\n    // We want to keep the same time under the mouse as we originally\n    // had (this.initialCenterTime). We actually need to do this\n    // regardless of drag mode -- even if we're only intending to drag\n    // vertically (i.e. zooming), we still want to ensure the point\n    // under the mouse doesn't wander off\n    const timeMovedTo =\n          timeContext.timeToPixel(this.initialCenterTime +\n                                  timeContext.offset);\n    \n    const delta = e.x - timeMovedTo;\n    const deltaTime = timeContext.timeToPixel.invert(delta);\n\n    if (deltaTime !== 0) {\n      timeContext.offset += deltaTime;\n      changed = true;\n    }\n\n    console.log(\"mouse move: time context offset is now \" + timeContext.offset);\n    \n    // Other possible experiments with centered-zoom-state\n    //\n    // Example 1: Prevent timeline.offset to be negative\n    // timeContext.offset = Math.min(timeContext.offset, 0);\n    //\n    // Example 2: Keep in container when zoomed out\n    // if (timeContext.stretchRatio < 1) {\n    //   const minOffset = timeContext.timeToPixel.invert(0);\n    //   const maxOffset = timeContext.timeToPixel.invert(view.width - timeContext.timeToPixel(timeContext.duration));\n    //   timeContext.offset = Math.max(timeContext.offset, minOffset);\n    //   timeContext.offset = Math.min(timeContext.offset, maxOffset);\n    // }\n\n    if (changed) {\n      this.timeline.tracks.update();\n    }\n  }\n\n  onMouseUp(e) {\n    this.dragMode = 'unresolved';\n  }\n}\n",
    "static": true,
    "longname": "src/states/centered-zoom-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 609,
    "kind": "class",
    "name": "CenteredZoomState",
    "memberof": "src/states/centered-zoom-state.js",
    "static": true,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/centered-zoom-state.js",
    "importStyle": "CenteredZoomState",
    "description": "`CenteredZoomState` is a timeline state mimicing the `Live` zoom interaction. It allows the user to browse the timeline by clicking on a track, and then\n- moving down to zoom in\n- moving up to zoom out\n- moving left to move in time, after\n- moving right to move in time, before\n\n[example usage](./examples/states-zoom.html)",
    "lineNumber": 14,
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 610,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 611,
    "kind": "member",
    "name": "currentLayer",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#currentLayer",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 612,
    "kind": "member",
    "name": "maxZoom",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#maxZoom",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 613,
    "kind": "member",
    "name": "minZoom",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#minZoom",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 614,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 615,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 616,
    "kind": "member",
    "name": "initialX",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#initialX",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 617,
    "kind": "member",
    "name": "initialOffset",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#initialOffset",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 618,
    "kind": "member",
    "name": "initialCenterTime",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#initialCenterTime",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 619,
    "kind": "member",
    "name": "initialY",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#initialY",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 620,
    "kind": "member",
    "name": "initialZoom",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#initialZoom",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 621,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 622,
    "kind": "member",
    "name": "_pixelToExponent",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#_pixelToExponent",
    "access": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 623,
    "kind": "method",
    "name": "updateDragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#updateDragMode",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 624,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 625,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 626,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 627,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 79,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 628,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 82,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 629,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 630,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 150,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 631,
    "kind": "member",
    "name": "dragMode",
    "memberof": "src/states/centered-zoom-state.js~CenteredZoomState",
    "static": false,
    "longname": "src/states/centered-zoom-state.js~CenteredZoomState#dragMode",
    "access": null,
    "description": null,
    "lineNumber": 151,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 632,
    "kind": "file",
    "name": "src/states/context-edition-state.js",
    "content": "import BaseState from './base-state';\nimport TimeContextBehavior from '../behaviors/time-context-behavior';\n\n\n/**\n * A state to interact directly with layers time contexts.\n *\n * [example usage, see. advanced usage](./examples/layer-waveform.html)\n */\nexport default class ContextEditionState extends BaseState {\n  constructor(timeline) {\n    super(timeline);\n  }\n\n  handleEvent(e) {\n    switch(e.type) {\n      case 'mousedown':\n        this.onMouseDown(e);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e);\n        break;\n    }\n  }\n\n  onMouseDown(e) {\n    this.mouseDown = true;\n    this.currentTarget = e.target;\n\n    for (let i = 0, l = this.layers.length; i < l; i++) {\n      const layer = this.layers[i];\n      if (layer.hasElement(e.target)) {\n        this.currentLayer = layer;\n        break;\n      }\n    }\n  }\n\n  onMouseMove(e) {\n    if (!this.mouseDown || !this.currentLayer) { return; }\n\n    const layer = this.currentLayer;\n    const target = this.currentTarget;\n\n    // in this example the context is stretched when shift is pressed\n    if (!e.originalEvent.shiftKey) {\n      layer.editContext(e.dx, e.dy, target);\n    } else {\n      layer.stretchContext(e.dx, e.dy, target);\n    }\n\n    this.timeline.tracks.update(layer);\n  }\n\n  onMouseUp(e) {\n    this.mouseDown = false;\n    this.currentTarget = null;\n    this.currentLayer = null;\n  }\n}\n",
    "static": true,
    "longname": "src/states/context-edition-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 633,
    "kind": "class",
    "name": "ContextEditionState",
    "memberof": "src/states/context-edition-state.js",
    "static": true,
    "longname": "src/states/context-edition-state.js~ContextEditionState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/context-edition-state.js",
    "importStyle": "ContextEditionState",
    "description": "A state to interact directly with layers time contexts.\n\n[example usage, see. advanced usage](./examples/layer-waveform.html)",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 634,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 635,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 636,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 637,
    "kind": "member",
    "name": "mouseDown",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#mouseDown",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 638,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 639,
    "kind": "member",
    "name": "currentLayer",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#currentLayer",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 640,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 641,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 58,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 642,
    "kind": "member",
    "name": "mouseDown",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#mouseDown",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 643,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 644,
    "kind": "member",
    "name": "currentLayer",
    "memberof": "src/states/context-edition-state.js~ContextEditionState",
    "static": false,
    "longname": "src/states/context-edition-state.js~ContextEditionState#currentLayer",
    "access": null,
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 645,
    "kind": "file",
    "name": "src/states/edition-state.js",
    "content": "import BaseState from './base-state';\n\n\n/**\n * A state to edit shapes in the more general way. Interact only with selected shapes.\n */\nexport default class EditionState extends BaseState {\n  constructor(timeline) {\n    super(timeline);\n\n    this.currentEditedLayer = null;\n    this.currentTarget = null;\n  }\n\n  enter() {}\n  exit() {}\n\n  handleEvent(e) {\n    switch (e.type) {\n      case 'mousedown':\n        this.onMouseDown(e);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e);\n        break;\n    }\n  }\n\n  onMouseDown(e) {\n    this.currentTarget = e.target;\n  }\n\n  onMouseMove(e) {\n    this.layers.forEach((layer) => {\n      const items = layer.selectedItems;\n\n      layer.edit(items, e.dx, e.dy, this.currentTarget);\n      layer.update(items);\n    });\n  }\n\n  onMouseUp(e) {\n    this.currentEditedLayer = null;\n    this.mouseDown = false;\n  }\n}\n",
    "static": true,
    "longname": "src/states/edition-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 646,
    "kind": "class",
    "name": "EditionState",
    "memberof": "src/states/edition-state.js",
    "static": true,
    "longname": "src/states/edition-state.js~EditionState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/edition-state.js",
    "importStyle": "EditionState",
    "description": "A state to edit shapes in the more general way. Interact only with selected shapes.",
    "lineNumber": 7,
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 647,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 648,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/edition-state.js~EditionState",
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 649,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/edition-state.js~EditionState",
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 650,
    "kind": "method",
    "name": "enter",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#enter",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 651,
    "kind": "method",
    "name": "exit",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#exit",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 652,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 653,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 654,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/edition-state.js~EditionState",
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 655,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 656,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/edition-state.js~EditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 657,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/edition-state.js~EditionState",
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 658,
    "kind": "member",
    "name": "mouseDown",
    "memberof": "src/states/edition-state.js~EditionState",
    "static": false,
    "longname": "src/states/edition-state.js~EditionState#mouseDown",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 659,
    "kind": "file",
    "name": "src/states/selection-state.js",
    "content": "import BaseState from './base-state';\nimport ns from '../core/namespace';\n\n\n/**\n * A state to select shapes.\n */\nexport default class SelectionState extends BaseState {\n  constructor(timeline /*, options = {} */) {\n    super(timeline /*, options */);\n\n    this.currentLayer = null;\n    // need a cached\n    this.selectedItems = null;\n    this.mouseDown = false;\n    this.shiftKey = false;\n\n    this._layerSelectedItemsMap = new Map();\n  }\n\n  enter() {\n\n  }\n\n  exit() {\n    const containers = this.timeline.containers;\n\n    for (let id in containers) {\n      this._removeBrush(containers[id]);\n    }\n  }\n\n  handleEvent(e) {\n    switch (e.type) {\n      case 'mousedown':\n        this.onMouseDown(e);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e);\n        break;\n      case 'click':\n        this.onClick(e);\n        break;\n      case 'keydown':\n        this.onKey(e);\n        break;\n      case 'keyup':\n        this.onKey(e);\n        break;\n    }\n  }\n\n  _addBrush(track) {\n    if (track.$brush) { return; }\n\n    const brush = document.createElementNS(ns, 'rect');\n    brush.style.fill = '#686868';\n    brush.style.opacity = 0.2;\n\n    track.$interactions.appendChild(brush);\n    track.$brush = brush;\n  }\n\n  _removeBrush(track) {\n    if (track.$brush === null) { return; }\n\n    this._resetBrush(track);\n    track.$interactions.removeChild(track.$brush);\n    delete track.$brush;\n  }\n\n  _resetBrush(track) {\n    const $brush = track.$brush;\n    // reset brush element\n    $brush.setAttributeNS(null, 'transform', 'translate(0, 0)');\n    $brush.setAttributeNS(null, 'width', 0);\n    $brush.setAttributeNS(null, 'height', 0);\n  }\n\n  _updateBrush(e, track) {\n    const $brush = track.$brush;\n    const translate = `translate(${e.area.left}, ${e.area.top})`;\n\n    $brush.setAttributeNS(null, 'transform', translate);\n    $brush.setAttributeNS(null, 'width', e.area.width);\n    $brush.setAttributeNS(null, 'height', e.area.height);\n  }\n\n  onKey(e) {\n    this.shiftKey = e.shiftKey;\n  }\n\n  onMouseDown(e) {\n    this._currentTrack = this.timeline.getTrackFromDOMElement(e.target);\n    if (!this._currentTrack) { return; }\n\n    this._addBrush(this._currentTrack);\n\n    // recreate the map\n    this._layerSelectedItemsMap = new Map();\n    this._currentTrack.layers.forEach((layer) => {\n      this._layerSelectedItemsMap.set(layer, layer.selectedItems.slice(0));\n    });\n  }\n\n  onMouseMove(e) {\n    this._updateBrush(e, this._currentTrack);\n\n    this._currentTrack.layers.forEach((layer) => {\n      const currentSelection = layer.selectedItems;\n      const currentItems = layer.getItemsInArea(e.area);\n\n      // if is not pressed\n      if (!e.originalEvent.shiftKey) {\n        layer.unselect(currentSelection);\n        layer.select(currentItems);\n      } else {\n        const toSelect = [];\n        const toUnselect = [];\n        // use the selection from the previous drag\n        const previousSelection = this._layerSelectedItemsMap.get(layer);\n        // toUnselect = toUnselect.concat(previousSelectedItems);\n\n        currentItems.forEach((item) => {\n          if (previousSelection.indexOf(item) === -1) {\n            toSelect.push(item);\n          } else {\n            toUnselect.push(item);\n          }\n        });\n\n        currentSelection.forEach((item) => {\n          if (\n            currentItems.indexOf(item) === -1 &&\n            previousSelection.indexOf(item) === -1\n          ) {\n            toUnselect.push(item);\n          }\n        });\n\n        layer.unselect(toUnselect);\n        layer.select(toSelect);\n      }\n    });\n  }\n\n  onMouseUp(e) {\n    this._removeBrush(this._currentTrack);\n  }\n\n  onClick(e) {\n    if (!this._currentTrack) { return; }\n\n    this._currentTrack.layers.forEach((layer) => {\n      let item = layer.getItemFromDOMElement(e.target);\n\n      if (!e.originalEvent.shiftKey) {\n        layer.unselect();\n      }\n\n      if (item) {\n        layer.toggleSelection(item);\n      }\n    });\n  }\n}\n",
    "static": true,
    "longname": "src/states/selection-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 660,
    "kind": "class",
    "name": "SelectionState",
    "memberof": "src/states/selection-state.js",
    "static": true,
    "longname": "src/states/selection-state.js~SelectionState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/selection-state.js",
    "importStyle": "SelectionState",
    "description": "A state to select shapes.",
    "lineNumber": 8,
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 661,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 662,
    "kind": "member",
    "name": "currentLayer",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#currentLayer",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 663,
    "kind": "member",
    "name": "selectedItems",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#selectedItems",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 664,
    "kind": "member",
    "name": "mouseDown",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#mouseDown",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 665,
    "kind": "member",
    "name": "shiftKey",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#shiftKey",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 666,
    "kind": "member",
    "name": "_layerSelectedItemsMap",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_layerSelectedItemsMap",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 667,
    "kind": "method",
    "name": "enter",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#enter",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 668,
    "kind": "method",
    "name": "exit",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#exit",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 669,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 670,
    "kind": "method",
    "name": "_addBrush",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_addBrush",
    "access": null,
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "track",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 671,
    "kind": "method",
    "name": "_removeBrush",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_removeBrush",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "track",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 672,
    "kind": "method",
    "name": "_resetBrush",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_resetBrush",
    "access": null,
    "description": null,
    "lineNumber": 75,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "track",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 673,
    "kind": "method",
    "name": "_updateBrush",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_updateBrush",
    "access": null,
    "description": null,
    "lineNumber": 83,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      },
      {
        "name": "track",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 674,
    "kind": "method",
    "name": "onKey",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#onKey",
    "access": null,
    "description": null,
    "lineNumber": 92,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 675,
    "kind": "member",
    "name": "shiftKey",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#shiftKey",
    "access": null,
    "description": null,
    "lineNumber": 93,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 676,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 96,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 677,
    "kind": "member",
    "name": "_currentTrack",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_currentTrack",
    "access": null,
    "description": null,
    "lineNumber": 97,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 678,
    "kind": "member",
    "name": "_layerSelectedItemsMap",
    "memberof": "src/states/selection-state.js~SelectionState",
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#_layerSelectedItemsMap",
    "access": null,
    "description": null,
    "lineNumber": 103,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 679,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 109,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 680,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 150,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 681,
    "kind": "method",
    "name": "onClick",
    "memberof": "src/states/selection-state.js~SelectionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/selection-state.js~SelectionState#onClick",
    "access": null,
    "description": null,
    "lineNumber": 154,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 682,
    "kind": "file",
    "name": "src/states/simple-edition-state.js",
    "content": "import BaseState from './base-state';\n\n\n/**\n * A state to select and edit shapes in a simple way. (kind of plug n play state)\n */\nexport default class SimpleEditionState extends BaseState {\n  constructor(timeline) {\n    super(timeline);\n\n    this.currentEditedLayer = null;\n    this.currentTarget = null;\n  }\n\n  enter() {}\n  exit() {}\n\n  handleEvent(e) {\n    switch (e.type) {\n      case 'mousedown':\n        this.onMouseDown(e);\n        break;\n      case 'mousemove':\n        this.onMouseMove(e);\n        break;\n      case 'mouseup':\n        this.onMouseUp(e);\n        break;\n    }\n  }\n\n  onMouseDown(e) {\n    // keep target consistent with mouse down\n    this.currentTarget = e.target;\n\n    this.layers.forEach((layer) => {\n      if (!layer.hasElement(this.currentTarget)) { return; }\n\n      if (!e.originalEvent.shiftKey) {\n        layer.unselect();\n      }\n\n      const item = layer.getItemFromDOMElement(this.currentTarget);\n\n      if (item === null) { return; }\n\n      this.currentEditedLayer = layer;\n      requestAnimationFrame(function() { layer.select(item); });\n    });\n  }\n\n  onMouseMove(e) {\n    if (!this.currentEditedLayer) { return; }\n\n    const layer = this.currentEditedLayer;\n    const items = layer.selectedItems;\n\n    layer.edit(items, e.dx, e.dy, this.currentTarget);\n    requestAnimationFrame(function() { layer.update(items); });\n  }\n\n  onMouseUp(e) {\n    this.currentEditedLayer = null;\n  }\n}\n",
    "static": true,
    "longname": "src/states/simple-edition-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 683,
    "kind": "class",
    "name": "SimpleEditionState",
    "memberof": "src/states/simple-edition-state.js",
    "static": true,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/states/simple-edition-state.js",
    "importStyle": "SimpleEditionState",
    "description": "A state to select and edit shapes in a simple way. (kind of plug n play state)",
    "lineNumber": 7,
    "interface": false,
    "extends": [
      "src/states/base-state.js~BaseState"
    ]
  },
  {
    "__docId__": 684,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "timeline",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 685,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 686,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 687,
    "kind": "method",
    "name": "enter",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#enter",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 688,
    "kind": "method",
    "name": "exit",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#exit",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 689,
    "kind": "method",
    "name": "handleEvent",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#handleEvent",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 690,
    "kind": "method",
    "name": "onMouseDown",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#onMouseDown",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 691,
    "kind": "member",
    "name": "currentTarget",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#currentTarget",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 692,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 693,
    "kind": "method",
    "name": "onMouseMove",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#onMouseMove",
    "access": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 694,
    "kind": "method",
    "name": "onMouseUp",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#onMouseUp",
    "access": null,
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "e",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 695,
    "kind": "member",
    "name": "currentEditedLayer",
    "memberof": "src/states/simple-edition-state.js~SimpleEditionState",
    "static": false,
    "longname": "src/states/simple-edition-state.js~SimpleEditionState#currentEditedLayer",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 696,
    "kind": "file",
    "name": "src/utils/format.js",
    "content": "/**\n * Formatting helpers functions.\n */\nexport default {\n  /**\n   * Add a `sign` to the left of a given `input` to match `length`\n   *\n   * @param {String} input - The string to format.\n   * @param {String} sign - The character to add to the left.\n   * @param {Number} length - The length of the output string.\n   */\n  padLeft(input, sign, length) {\n    input += '';\n    while (input.length < length) {\n      input = sign + input;\n    }\n    return input;\n  }\n};\n",
    "static": true,
    "longname": "src/utils/format.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 697,
    "kind": "file",
    "name": "src/utils/matrix-entity.js",
    "content": "\nexport default class MatrixEntity {\n\n  getColumnCount() {\n    // Return here the total number of columns in the matrix.\n    return 0;\n  }\n\n  getColumnHeight() {\n    // Return here the height of a column in the matrix. All columns\n    // are expected to be of equal height.\n    return 0;\n  }\n\n  getColumn(n) {\n    // Return here a single column (of index n) as an array or\n    // Float32Array.\n    return [];\n  }\n\n  getStepDuration() {\n    // Return the time interval in seconds between consecutive\n    // columns. Columns are expected to be equally spaced in time.  If\n    // this returns 0, the matrix is considered to span the entire\n    // duration of any associated timeline.\n    return 0;\n  }\n\n  getStartTime() {\n    // Return the location in time of the first column in seconds.\n    return 0;\n  }\n\n  dispose() {\n    // Called when this object is no longer going to be used.\n  }\n}\n\n",
    "static": true,
    "longname": "src/utils/matrix-entity.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 698,
    "kind": "class",
    "name": "MatrixEntity",
    "memberof": "src/utils/matrix-entity.js",
    "static": true,
    "longname": "src/utils/matrix-entity.js~MatrixEntity",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/utils/matrix-entity.js",
    "importStyle": "MatrixEntity",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false
  },
  {
    "__docId__": 699,
    "kind": "method",
    "name": "getColumnCount",
    "memberof": "src/utils/matrix-entity.js~MatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/matrix-entity.js~MatrixEntity#getColumnCount",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 700,
    "kind": "method",
    "name": "getColumnHeight",
    "memberof": "src/utils/matrix-entity.js~MatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/matrix-entity.js~MatrixEntity#getColumnHeight",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 701,
    "kind": "method",
    "name": "getColumn",
    "memberof": "src/utils/matrix-entity.js~MatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/matrix-entity.js~MatrixEntity#getColumn",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "n",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 702,
    "kind": "method",
    "name": "getStepDuration",
    "memberof": "src/utils/matrix-entity.js~MatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/matrix-entity.js~MatrixEntity#getStepDuration",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 703,
    "kind": "method",
    "name": "getStartTime",
    "memberof": "src/utils/matrix-entity.js~MatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/matrix-entity.js~MatrixEntity#getStartTime",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 704,
    "kind": "method",
    "name": "dispose",
    "memberof": "src/utils/matrix-entity.js~MatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/matrix-entity.js~MatrixEntity#dispose",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 705,
    "kind": "file",
    "name": "src/utils/orthogonal-data.js",
    "content": "/**\n * OrthogonalData transforms an object of arrays `{foo: [1, 2], bar: [3, 4]}`\n * to or from an array of objects `[{foo: 1, bar: 3}, {foo: 2, bar: 4}]`\n */\nexport default class OrthogonalData {\n  constructor() {\n    this._cols = null; // Object of arrays\n    this._rows = null; // Array of objects\n  }\n\n  /**\n   * Check the consistency of the data.\n   */\n  _checkConsistency() {\n    let size = null;\n\n    for (let key in this._cols) {\n      const col = this._cols[key];\n      const colLength = col.length;\n\n      if (size !== null && size !== colLength) {\n        throw new Error(`${this.prototype.constructor.name}: inconsistent data`);\n      } else if (size === null) {\n        size = colLength;\n      }\n    }\n  }\n\n  /**\n   * Updates array of objects from object of arrays.\n   */\n  updateFromCols() {\n    let keys = Object.keys(this._cols);\n\n    keys.forEach((key, i) => {\n      const col = this._cols[key];\n\n      col.forEach((value, index) => {\n        if (this._rows[index] === undefined) this._rows[index] = {};\n        this._rows[index][key] = value;\n      });\n    });\n\n    this._checkConsistency();\n  }\n\n  /**\n   * Updates object of arrays from array of objects.\n   */\n  updateFromRows() {\n    this._rows.forEach((obj, index) => {\n      for (let key in obj) {\n        if (index === 0) this._cols[key] = [];\n        this._cols[key].push(obj[key]);\n      }\n    });\n\n    this._checkConsistency();\n  }\n\n  /**\n   * Sets an object of arrays.\n   *\n   * @type {Object<String, Array>}\n   */\n  set cols(obj) {\n    this._cols = obj;\n    this._rows = [];\n\n    this.updateFromCols();\n  }\n\n  /**\n   * Returns an object of arrays.\n   *\n   * @type {Object<String, Array>}\n   */\n  get cols() {\n    return this._cols;\n  }\n\n  /**\n   * Sets an array of objects.\n   *\n   * @type {Array<Object>}\n   */\n  set rows(arr) {\n    this._rows = arr;\n    this._cols = {};\n\n    this.updateFromRows();\n  }\n\n  /**\n   * Returns an array of objects.\n   *\n   * @type {Array<Object>}\n   */\n  get rows() {\n    return this._rows;\n  }\n}\n",
    "static": true,
    "longname": "src/utils/orthogonal-data.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 706,
    "kind": "class",
    "name": "OrthogonalData",
    "memberof": "src/utils/orthogonal-data.js",
    "static": true,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/utils/orthogonal-data.js",
    "importStyle": "OrthogonalData",
    "description": "OrthogonalData transforms an object of arrays `{foo: [1, 2], bar: [3, 4]}`\nto or from an array of objects `[{foo: 1, bar: 3}, {foo: 2, bar: 4}]`",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 707,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 708,
    "kind": "member",
    "name": "_cols",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_cols",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 709,
    "kind": "member",
    "name": "_rows",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_rows",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 710,
    "kind": "method",
    "name": "_checkConsistency",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_checkConsistency",
    "access": null,
    "description": "Check the consistency of the data.",
    "lineNumber": 14,
    "params": []
  },
  {
    "__docId__": 711,
    "kind": "method",
    "name": "updateFromCols",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#updateFromCols",
    "access": null,
    "description": "Updates array of objects from object of arrays.",
    "lineNumber": 32,
    "params": []
  },
  {
    "__docId__": 712,
    "kind": "method",
    "name": "updateFromRows",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#updateFromRows",
    "access": null,
    "description": "Updates object of arrays from array of objects.",
    "lineNumber": 50,
    "params": []
  },
  {
    "__docId__": 713,
    "kind": "set",
    "name": "cols",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#cols",
    "access": null,
    "description": "Sets an object of arrays.",
    "lineNumber": 66,
    "type": {
      "nullable": null,
      "types": [
        "Object<String, Array>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 714,
    "kind": "member",
    "name": "_cols",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_cols",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 715,
    "kind": "member",
    "name": "_rows",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_rows",
    "access": null,
    "description": null,
    "lineNumber": 68,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 716,
    "kind": "get",
    "name": "cols",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#cols",
    "access": null,
    "description": "Returns an object of arrays.",
    "lineNumber": 78,
    "type": {
      "nullable": null,
      "types": [
        "Object<String, Array>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 717,
    "kind": "set",
    "name": "rows",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#rows",
    "access": null,
    "description": "Sets an array of objects.",
    "lineNumber": 87,
    "type": {
      "nullable": null,
      "types": [
        "Array<Object>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 718,
    "kind": "member",
    "name": "_rows",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_rows",
    "access": null,
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 719,
    "kind": "member",
    "name": "_cols",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#_cols",
    "access": null,
    "description": null,
    "lineNumber": 89,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 720,
    "kind": "get",
    "name": "rows",
    "memberof": "src/utils/orthogonal-data.js~OrthogonalData",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/orthogonal-data.js~OrthogonalData#rows",
    "access": null,
    "description": "Returns an array of objects.",
    "lineNumber": 99,
    "type": {
      "nullable": null,
      "types": [
        "Array<Object>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 721,
    "kind": "file",
    "name": "src/utils/oversample.js",
    "content": "\n/**\n * Oversample (part of) an array of samples by a fixed factor, using a\n * lengthy windowed sinc filter. Very crude.\n*/\nexport default class Oversampler {\n\n  oversample(inbuf, instart, inlen) {\n\n    const before = performance.now();\n    \n    const outlen = inlen * this.factor;\n    const flen = this.filter.length; // known to be odd\n    const tail = Math.round((flen-1)/2); // so filter is tail + 1.0 + tail\n    const outbuf = new Float32Array(outlen);\n\n    let i0 = instart - Math.floor(tail / this.factor);\n    if (i0 < 0) i0 = 0;\n    let i1 = instart + inlen + Math.floor(tail / this.factor);\n    if (i1 > inbuf.length) i1 = inbuf.length;\n\n    for (let i = i0; i < i1; ++i) {\n      const x = inbuf[i];\n      const outoff = (i - instart) * this.factor - tail;\n      for (let j = 0; j < flen; ++j) {\n        const outix = outoff + j;\n        if (outix < 0 || outix >= outlen) continue;\n        outbuf[outix] += x * this.filter[j];\n      }\n    }\n\n    console.log(\"oversample: \" + (i1-i0) + \" samples in, \" + outlen + \" out in \" +\n                (performance.now() - before) + \" ms\");\n    \n    return outbuf;\n  }\n  \n  constructor(factor) {\n\n    if (factor !== 8) {\n      throw \"Only oversampling factor currently supported is 8\";\n    }\n\n    this.factor = factor;\n    this.filter = [2.0171043153063023E-4,2.887198196326776E-4,3.410439309101285E-4,3.4267123819805857E-4,2.843462511901066E-4,1.6636986363946504E-4,-4.5940658605786285E-18,-1.9299665002484582E-4,-3.8279951732549946E-4,-5.357990649609105E-4,-6.201170748425957E-4,-6.11531555444137E-4,-4.987822892899791E-4,-2.872272251922189E-4,-7.822991648518709E-19,3.2382854144162815E-4,6.341027017666046E-4,8.769331519465396E-4,0.001003535186382615,9.791732608026272E-4,7.906678783612421E-4,4.5101220009813206E-4,-3.039648514978356E-18,-4.996532051508215E-4,-9.704877518513666E-4,-0.0013318083550190923,-0.0015128911871247466,-0.0014658111457301016,-0.0011756800671747431,-6.663214707558645E-4,1.0713650598357415E-17,7.292959363289514E-4,0.0014084768982220279,0.0019222969998680237,0.0021721723797956524,0.0020938999751673173,0.0016712330766289326,9.427050283841188E-4,-5.656965938821965E-18,-0.0010225643654040554,-0.001966437013513757,-0.002672722670880038,-0.00300806671037164,-0.00288843624179131,-0.0022967244980623574,-0.0012908081494665458,-5.1499690577098E-18,0.0013904094522721,0.0026648961861419334,0.0036103002009868065,0.004050469159316014,0.0038774554290217484,0.0030739396559265075,0.001722603817632299,-9.130030250503607E-18,-0.0018451873718735516,-0.0035270571169279162,-0.004765847116110058,-0.0053332982334767624,-0.005092831604550132,-0.00402770012894082,-0.0022517645624319594,3.2752446397299053E-17,0.0024010765839506923,0.004579613038976446,0.006174912111845945,0.00689578873526276,0.006571541332393174,0.005186887306036285,0.002894248521447605,-1.336645565990815E-17,-0.0030747336558684963,-0.0058540294958507235,-0.007879546416595632,-0.008784519668338507,-0.008357645279493864,-0.006586046547485615,-0.003669217725935383,-1.9348975378752276E-17,0.0038863208094135626,0.007388553022623823,0.009931080628244226,0.011056594746806033,0.010505398026651453,0.008267906564613223,0.00460048159140493,-1.816145184081109E-17,-0.004861124757802925,-0.009231379891669668,-0.012394511669674028,-0.01378467517229709,-0.013084177592430083,-0.010287380585427207,-0.00571879407588959,7.520535431851951E-17,0.006032144534828161,0.011445734103106982,0.015355551390625357,0.017065088242935025,0.016186450815185452,0.012718051439340603,0.0070655888687995785,-2.3209664144996714E-17,-0.007444328311482942,-0.01411821163125819,-0.018932253281654043,-0.02103125585328301,-0.019941019333653123,-0.015663002335303704,-0.008699245445932525,2.5712475624993567E-17,0.009161748270723635,0.0173729814451255,0.023294901939595228,0.02587678878709242,0.02453592568963366,0.01927365323131565,0.010706050935569809,-2.8133472199037193E-17,-0.011280308241551094,-0.02139710071477064,-0.02870170641615764,-0.031897218249350504,-0.030260140480986304,-0.023784294156618507,-0.013220449772289724,3.042099156841831E-17,0.013951594368737923,0.0264884258371512,0.03556693609945249,0.03957036852169639,0.0375845888664677,0.029579845398822833,0.016465167405787955,-3.2524514488155654E-17,-0.017431115375410273,-0.03315356952091943,-0.04460179422099746,-0.0497244634100025,-0.04733366619358394,-0.037341081614037944,-0.020838316594689998,3.439626695384943E-17,0.022185914535618936,0.04232958202159685,0.05713801867687856,0.06393033000280622,0.06109191933191721,0.04839482380906132,0.027127167584840003,-3.5992766927138734E-17,-0.029168755716052385,-0.055960213335110184,-0.07598693477350407,-0.08556575102599769,-0.08233350786406181,-0.06571046000158454,-0.03713224848702707,3.727625511036616E-17,0.04066438975848791,0.07882920057770397,0.10826166115536123,0.12343378955977465,0.12040455825217859,0.09755344650130694,0.056053367635801106,-3.8215953158245473E-17,-0.0638435745677513,-0.12667849902789644,-0.17861887575594584,-0.20985333136704623,-0.21188193950868073,-0.17867464086818077,-0.10760048593620072,3.8789099095340224E-17,0.13868670259490817,0.29927055936918734,0.46961864377510765,0.6358321371992203,0.7836674214332147,0.9000377382311825,0.9744199685311685,1.0000000000000004,0.9744199685311685,0.9000377382311825,0.7836674214332147,0.6358321371992203,0.46961864377510765,0.29927055936918734,0.13868670259490817,3.8789099095340224E-17,-0.10760048593620072,-0.17867464086818077,-0.21188193950868073,-0.20985333136704623,-0.17861887575594584,-0.12667849902789644,-0.0638435745677513,-3.8215953158245473E-17,0.056053367635801106,0.09755344650130694,0.12040455825217859,0.12343378955977465,0.10826166115536123,0.07882920057770397,0.04066438975848791,3.727625511036616E-17,-0.03713224848702707,-0.06571046000158454,-0.08233350786406181,-0.08556575102599769,-0.07598693477350407,-0.055960213335110184,-0.029168755716052385,-3.5992766927138734E-17,0.027127167584840003,0.04839482380906132,0.06109191933191721,0.06393033000280622,0.05713801867687856,0.04232958202159685,0.022185914535618936,3.439626695384943E-17,-0.020838316594689998,-0.037341081614037944,-0.04733366619358394,-0.0497244634100025,-0.04460179422099746,-0.03315356952091943,-0.017431115375410273,-3.2524514488155654E-17,0.016465167405787955,0.029579845398822833,0.0375845888664677,0.03957036852169639,0.03556693609945249,0.0264884258371512,0.013951594368737923,3.042099156841831E-17,-0.013220449772289724,-0.023784294156618507,-0.030260140480986304,-0.031897218249350504,-0.02870170641615764,-0.02139710071477064,-0.011280308241551094,-2.8133472199037193E-17,0.010706050935569809,0.01927365323131565,0.02453592568963366,0.02587678878709242,0.023294901939595228,0.0173729814451255,0.009161748270723635,2.5712475624993567E-17,-0.008699245445932525,-0.015663002335303704,-0.019941019333653123,-0.02103125585328301,-0.018932253281654043,-0.01411821163125819,-0.007444328311482942,-2.3209664144996714E-17,0.0070655888687995785,0.012718051439340603,0.016186450815185452,0.017065088242935025,0.015355551390625357,0.011445734103106982,0.006032144534828161,7.520535431851951E-17,-0.00571879407588959,-0.010287380585427207,-0.013084177592430083,-0.01378467517229709,-0.012394511669674028,-0.009231379891669668,-0.004861124757802925,-1.816145184081109E-17,0.00460048159140493,0.008267906564613223,0.010505398026651453,0.011056594746806033,0.009931080628244226,0.007388553022623823,0.0038863208094135626,-1.9348975378752276E-17,-0.003669217725935383,-0.006586046547485615,-0.008357645279493864,-0.008784519668338507,-0.007879546416595632,-0.0058540294958507235,-0.0030747336558684963,-1.336645565990815E-17,0.002894248521447605,0.005186887306036285,0.006571541332393174,0.00689578873526276,0.006174912111845945,0.004579613038976446,0.0024010765839506923,3.2752446397299053E-17,-0.0022517645624319594,-0.00402770012894082,-0.005092831604550132,-0.0053332982334767624,-0.004765847116110058,-0.0035270571169279162,-0.0018451873718735516,-9.130030250503607E-18,0.001722603817632299,0.0030739396559265075,0.0038774554290217484,0.004050469159316014,0.0036103002009868065,0.0026648961861419334,0.0013904094522721,-5.1499690577098E-18,-0.0012908081494665458,-0.0022967244980623574,-0.00288843624179131,-0.00300806671037164,-0.002672722670880038,-0.001966437013513757,-0.0010225643654040554,-5.656965938821965E-18,9.427050283841188E-4,0.0016712330766289326,0.0020938999751673173,0.0021721723797956524,0.0019222969998680237,0.0014084768982220279,7.292959363289514E-4,1.0713650598357415E-17,-6.663214707558645E-4,-0.0011756800671747431,-0.0014658111457301016,-0.0015128911871247466,-0.0013318083550190923,-9.704877518513666E-4,-4.996532051508215E-4,-3.039648514978356E-18,4.5101220009813206E-4,7.906678783612421E-4,9.791732608026272E-4,0.001003535186382615,8.769331519465396E-4,6.341027017666046E-4,3.2382854144162815E-4,-7.822991648518709E-19,-2.872272251922189E-4,-4.987822892899791E-4,-6.11531555444137E-4,-6.201170748425957E-4,-5.357990649609105E-4,-3.8279951732549946E-4,-1.9299665002484582E-4,-4.5940658605786285E-18,1.6636986363946504E-4,2.843462511901066E-4,3.4267123819805857E-4,3.410439309101285E-4,2.887198196326776E-4,2.0171043153063023E-4];\n  }\n}\n\n",
    "static": true,
    "longname": "src/utils/oversample.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 722,
    "kind": "class",
    "name": "Oversampler",
    "memberof": "src/utils/oversample.js",
    "static": true,
    "longname": "src/utils/oversample.js~Oversampler",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/utils/oversample.js",
    "importStyle": "Oversampler",
    "description": "Oversample (part of) an array of samples by a fixed factor, using a\nlengthy windowed sinc filter. Very crude.",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 723,
    "kind": "method",
    "name": "oversample",
    "memberof": "src/utils/oversample.js~Oversampler",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/oversample.js~Oversampler#oversample",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "inbuf",
        "types": [
          "*"
        ]
      },
      {
        "name": "instart",
        "types": [
          "*"
        ]
      },
      {
        "name": "inlen",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 724,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/oversample.js~Oversampler",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/oversample.js~Oversampler#constructor",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "factor",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 725,
    "kind": "member",
    "name": "factor",
    "memberof": "src/utils/oversample.js~Oversampler",
    "static": false,
    "longname": "src/utils/oversample.js~Oversampler#factor",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 726,
    "kind": "member",
    "name": "filter",
    "memberof": "src/utils/oversample.js~Oversampler",
    "static": false,
    "longname": "src/utils/oversample.js~Oversampler#filter",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number[]"
      ]
    }
  },
  {
    "__docId__": 727,
    "kind": "file",
    "name": "src/utils/png.js",
    "content": "/**\n* @author Robert Eisele <robert@xarg.org>\n* @copyright Copyright (c) 2010, Robert Eisele\n* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/\n* @license http://www.opensource.org/licenses/bsd-license.php BSD License\n*/\nexport default class PNGEncoder {\n\n  constructor(width, height, depth) {\n\n    this.width   = width;\n    this.height  = height;\n    this.depth   = depth;\n\n    // pixel data and row filter identifier size\n    this.pix_size = height * (width + 1);\n\n    // deflate header, pix_size, block headers, adler32 checksum\n    this.data_size = 2 + this.pix_size + 5 * Math.floor((0xfffe + this.pix_size) / 0xffff) + 4;\n\n    // offsets and sizes of Png chunks\n    this.ihdr_offs = 0;                                   // IHDR offset and size\n    this.ihdr_size = 4 + 4 + 13 + 4;\n    this.plte_offs = this.ihdr_offs + this.ihdr_size;\t// PLTE offset and size\n    this.plte_size = 4 + 4 + 3 * depth + 4;\n    this.trns_offs = this.plte_offs + this.plte_size;\t// tRNS offset and size\n    this.trns_size = 4 + 4 + depth + 4;\n    this.idat_offs = this.trns_offs + this.trns_size;\t// IDAT offset and size\n    this.idat_size = 4 + 4 + this.data_size + 4;\n    this.iend_offs = this.idat_offs + this.idat_size;\t// IEND offset and size\n    this.iend_size = 4 + 4 + 4;\n    this.buffer_size  = this.iend_offs + this.iend_size;\t// total PNG size\n\n    this.buffer  = [];\n    this.palette = {};\n    this.pindex  = 0;\n\n    var _crc32 = [];\n\n    var i;\n    \n    // initialize buffer with zero bytes\n    for (i = 0; i < this.buffer_size; i++) {\n      this.buffer[i] = \"\\x00\";\n    }\n\n    // initialize non-zero elements\n    PNGEncoder._write(this.buffer, this.ihdr_offs, PNGEncoder._byte4(this.ihdr_size - 12), 'IHDR', PNGEncoder._byte4(width), PNGEncoder._byte4(height), \"\\x08\\x03\");\n    PNGEncoder._write(this.buffer, this.plte_offs, PNGEncoder._byte4(this.plte_size - 12), 'PLTE');\n    PNGEncoder._write(this.buffer, this.trns_offs, PNGEncoder._byte4(this.trns_size - 12), 'tRNS');\n    PNGEncoder._write(this.buffer, this.idat_offs, PNGEncoder._byte4(this.idat_size - 12), 'IDAT');\n    PNGEncoder._write(this.buffer, this.iend_offs, PNGEncoder._byte4(this.iend_size - 12), 'IEND');\n\n    // initialize deflate header\n    var header = ((8 + (7 << 4)) << 8) | (3 << 6);\n    header+= 31 - (header % 31);\n\n    PNGEncoder._write(this.buffer, this.idat_offs + 8, PNGEncoder._byte2(header));\n\n    // initialize deflate block headers\n    for (i = 0; (i << 16) - 1 < this.pix_size; i++) {\n      var size, bits;\n      if (i + 0xffff < this.pix_size) {\n\tsize = 0xffff;\n\tbits = \"\\x00\";\n      } else {\n\tsize = this.pix_size - (i << 16) - i;\n\tbits = \"\\x01\";\n      }\n      PNGEncoder._write(this.buffer, this.idat_offs + 8 + 2 + (i << 16) + (i << 2), bits, PNGEncoder._byte2lsb(size), PNGEncoder._byte2lsb(~size));\n    }\n\n    /* Create crc32 lookup table */\n    for (i = 0; i < 256; i++) {\n      var c = i;\n      for (var j = 0; j < 8; j++) {\n\tif (c & 1) {\n\t  c = -306674912 ^ ((c >> 1) & 0x7fffffff);\n\t} else {\n\t  c = (c >> 1) & 0x7fffffff;\n\t}\n      }\n      _crc32[i] = c;\n    }\n\n    this._crc32 = _crc32;\n  }\n  \n  static _write(buffer, offs) {\n    for (var i = 2; i < arguments.length; i++) {\n      for (var j = 0; j < arguments[i].length; j++) {\n\tbuffer[offs++] = arguments[i].charAt(j);\n      }\n    }\n  }\n\n  static _byte2(w) {\n    return String.fromCharCode((w >> 8) & 255, w & 255);\n  }\n\n  static _byte4(w) {\n    return String.fromCharCode((w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w & 255);\n  }\n  \n  static _byte2lsb(w) {\n    return String.fromCharCode(w & 255, (w >> 8) & 255);\n  }\n\n  // compute the index into a png for a given pixel\n  index(x,y) {\n    var i = y * (this.width + 1) + x + 1;\n    var j = this.idat_offs + 8 + 2 + 5 * Math.floor((i / 0xffff) + 1) + i;\n    return j;\n  }\n\n  // convert a color and build up the palette\n  color(red, green, blue, alpha) {\n      \n    alpha = alpha >= 0 ? alpha : 255;\n    var color = (((((alpha << 8) | red) << 8) | green) << 8) | blue;\n      \n    if (typeof this.palette[color] == \"undefined\") {\n      if (this.pindex == this.depth) return \"\\x00\";\n      \n      var ndx = this.plte_offs + 8 + 3 * this.pindex;\n      \n      this.buffer[ndx + 0] = String.fromCharCode(red);\n      this.buffer[ndx + 1] = String.fromCharCode(green);\n      this.buffer[ndx + 2] = String.fromCharCode(blue);\n      this.buffer[this.trns_offs+8+this.pindex] = String.fromCharCode(alpha);\n      \n      this.palette[color] = String.fromCharCode(this.pindex++);\n\n//      console.log(\"Added colour [\" + red + \",\" + green + \",\" + blue +\n//                  \"], palette now has \" + this.pindex + \" colour(s)\");\n    }\n    return this.palette[color];\n  }\n\n  // output a PNG string, Base64 encoded\n  getBase64() {\n      \n    var s = this.getDump();\n      \n    // If the current browser supports the Base64 encoding\n    // function, then offload the that to the browser as it\n    // will be done in native code.\n    if ((typeof window.btoa !== 'undefined') && (window.btoa !== null)) {\n      return window.btoa(s);\n    }\n    \n    var ch = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var c1, c2, c3, e1, e2, e3, e4;\n    var l = s.length;\n    var i = 0;\n    var r = \"\";\n    \n    do {\n      c1 = s.charCodeAt(i);\n      e1 = c1 >> 2;\n      c2 = s.charCodeAt(i+1);\n      e2 = ((c1 & 3) << 4) | (c2 >> 4);\n      c3 = s.charCodeAt(i+2);\n      if (l < i+2) { e3 = 64; } else { e3 = ((c2 & 0xf) << 2) | (c3 >> 6); }\n      if (l < i+3) { e4 = 64; } else { e4 = c3 & 0x3f; }\n      r+= ch.charAt(e1) + ch.charAt(e2) + ch.charAt(e3) + ch.charAt(e4);\n    } while ((i+= 3) < l);\n    return r;\n  }\n\n  // output a PNG string\n  getDump() {\n\n    // compute adler32 of output pixels + row filter bytes\n    var BASE = 65521; /* largest prime smaller than 65536 */\n    var NMAX = 5552;  /* NMAX is the largest n such that 255n(n+1)/2 + (n+1)(BASE-1) <= 2^32-1 */\n    var s1 = 1;\n    var s2 = 0;\n    var n = NMAX;\n\n    for (var y = 0; y < this.height; y++) {\n      for (var x = -1; x < this.width; x++) {\n\ts1+= this.buffer[this.index(x, y)].charCodeAt(0);\n\ts2+= s1;\n\tif ((n-= 1) === 0) {\n\t  s1%= BASE;\n\t  s2%= BASE;\n\t  n = NMAX;\n\t}\n      }\n    }\n    s1%= BASE;\n    s2%= BASE;\n    PNGEncoder._write(this.buffer, this.idat_offs + this.idat_size - 8, PNGEncoder._byte4((s2 << 16) | s1));\n    \n    // compute crc32 of the PNG chunks\n    function crc32(png, offs, size, crctable) {\n      var crc = -1;\n      for (var i = 4; i < size-4; i += 1) {\n\tcrc = crctable[(crc ^ png[offs+i].charCodeAt(0)) & 0xff] ^ ((crc >> 8) & 0x00ffffff);\n      }\n      PNGEncoder._write(png, offs+size-4, PNGEncoder._byte4(crc ^ -1));\n    }\n    \n    crc32(this.buffer, this.ihdr_offs, this.ihdr_size, this._crc32);\n    crc32(this.buffer, this.plte_offs, this.plte_size, this._crc32);\n    crc32(this.buffer, this.trns_offs, this.trns_size, this._crc32);\n    crc32(this.buffer, this.idat_offs, this.idat_size, this._crc32);\n    crc32(this.buffer, this.iend_offs, this.iend_size, this._crc32);\n    \n    // convert PNG to string\n    return \"\\x89PNG\\r\\n\\x1a\\n\"+this.buffer.join('');\n  }\n  \n}\n\n\n\n",
    "static": true,
    "longname": "src/utils/png.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 728,
    "kind": "class",
    "name": "PNGEncoder",
    "memberof": "src/utils/png.js",
    "static": true,
    "longname": "src/utils/png.js~PNGEncoder",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/utils/png.js",
    "importStyle": "PNGEncoder",
    "description": "",
    "lineNumber": 7,
    "unknown": [
      {
        "tagName": "@author",
        "tagValue": "Robert Eisele <robert@xarg.org>"
      },
      {
        "tagName": "@copyright",
        "tagValue": "Copyright (c) 2010, Robert Eisele"
      },
      {
        "tagName": "@link",
        "tagValue": "http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/"
      },
      {
        "tagName": "@license",
        "tagValue": "http://www.opensource.org/licenses/bsd-license.php BSD License"
      }
    ],
    "interface": false
  },
  {
    "__docId__": 729,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#constructor",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "width",
        "types": [
          "*"
        ]
      },
      {
        "name": "height",
        "types": [
          "*"
        ]
      },
      {
        "name": "depth",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 730,
    "kind": "member",
    "name": "width",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#width",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 731,
    "kind": "member",
    "name": "height",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#height",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 732,
    "kind": "member",
    "name": "depth",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#depth",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 733,
    "kind": "member",
    "name": "pix_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#pix_size",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 734,
    "kind": "member",
    "name": "data_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#data_size",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 735,
    "kind": "member",
    "name": "ihdr_offs",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#ihdr_offs",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 736,
    "kind": "member",
    "name": "ihdr_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#ihdr_size",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 737,
    "kind": "member",
    "name": "plte_offs",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#plte_offs",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 738,
    "kind": "member",
    "name": "plte_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#plte_size",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 739,
    "kind": "member",
    "name": "trns_offs",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#trns_offs",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 740,
    "kind": "member",
    "name": "trns_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#trns_size",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 741,
    "kind": "member",
    "name": "idat_offs",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#idat_offs",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 742,
    "kind": "member",
    "name": "idat_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#idat_size",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 743,
    "kind": "member",
    "name": "iend_offs",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#iend_offs",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 744,
    "kind": "member",
    "name": "iend_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#iend_size",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 745,
    "kind": "member",
    "name": "buffer_size",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#buffer_size",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 746,
    "kind": "member",
    "name": "buffer",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#buffer",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 747,
    "kind": "member",
    "name": "palette",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#palette",
    "access": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 748,
    "kind": "member",
    "name": "pindex",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#pindex",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 749,
    "kind": "member",
    "name": "_crc32",
    "memberof": "src/utils/png.js~PNGEncoder",
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#_crc32",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 750,
    "kind": "method",
    "name": "_write",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/png.js~PNGEncoder._write",
    "access": null,
    "description": null,
    "lineNumber": 89,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "buffer",
        "types": [
          "*"
        ]
      },
      {
        "name": "offs",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 751,
    "kind": "method",
    "name": "_byte2",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/png.js~PNGEncoder._byte2",
    "access": null,
    "description": null,
    "lineNumber": 97,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "w",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 752,
    "kind": "method",
    "name": "_byte4",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/png.js~PNGEncoder._byte4",
    "access": null,
    "description": null,
    "lineNumber": 101,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "w",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 753,
    "kind": "method",
    "name": "_byte2lsb",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/png.js~PNGEncoder._byte2lsb",
    "access": null,
    "description": null,
    "lineNumber": 105,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "w",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 754,
    "kind": "method",
    "name": "index",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#index",
    "access": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "x",
        "types": [
          "*"
        ]
      },
      {
        "name": "y",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 755,
    "kind": "method",
    "name": "color",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#color",
    "access": null,
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "red",
        "types": [
          "*"
        ]
      },
      {
        "name": "green",
        "types": [
          "*"
        ]
      },
      {
        "name": "blue",
        "types": [
          "*"
        ]
      },
      {
        "name": "alpha",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 756,
    "kind": "method",
    "name": "getBase64",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#getBase64",
    "access": null,
    "description": null,
    "lineNumber": 141,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 757,
    "kind": "method",
    "name": "getDump",
    "memberof": "src/utils/png.js~PNGEncoder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/png.js~PNGEncoder#getDump",
    "access": null,
    "description": null,
    "lineNumber": 172,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 758,
    "kind": "file",
    "name": "src/utils/prefilled-matrix-entity.js",
    "content": "import MatrixEntity from './matrix-entity.js';\n\nexport default class PrefilledMatrixEntity extends MatrixEntity {\n\n  constructor(data, startTime, stepDuration) {\n    super();\n    \n    // data should be Float32Array[] or number[][]\n    this.data = data;\n\n    this.stepDuration = 0;\n    this.startTime = 0;\n\n    if (typeof(startTime) !== \"undefined\") {\n      this.startTime = startTime;\n    }\n    if (typeof(stepDuration) !== \"undefined\") {\n      this.stepDuration = stepDuration;\n    }\n  }\n  \n  getColumnCount() {\n    return this.data.length;\n  }\n\n  getColumnHeight() {\n    if (this.data.length > 0) {\n      return this.data[0].length;\n    } else {\n      return 0;\n    }\n  }\n\n  getColumn(n) {\n    return this.data[n];\n  }\n\n  getStepDuration() {\n    return this.stepDuration;\n  }\n\n  getStartTime() {\n    return this.startTime;\n  }\n\n  dispose() {\n    this.data = [];\n  }\n}\n\n",
    "static": true,
    "longname": "src/utils/prefilled-matrix-entity.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 759,
    "kind": "class",
    "name": "PrefilledMatrixEntity",
    "memberof": "src/utils/prefilled-matrix-entity.js",
    "static": true,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/utils/prefilled-matrix-entity.js",
    "importStyle": "PrefilledMatrixEntity",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false,
    "extends": [
      "src/utils/matrix-entity.js~MatrixEntity"
    ]
  },
  {
    "__docId__": 760,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      },
      {
        "name": "startTime",
        "types": [
          "*"
        ]
      },
      {
        "name": "stepDuration",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 761,
    "kind": "member",
    "name": "data",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#data",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 762,
    "kind": "member",
    "name": "stepDuration",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#stepDuration",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 763,
    "kind": "member",
    "name": "startTime",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#startTime",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 764,
    "kind": "member",
    "name": "startTime",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#startTime",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 765,
    "kind": "member",
    "name": "stepDuration",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#stepDuration",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 766,
    "kind": "method",
    "name": "getColumnCount",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#getColumnCount",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 767,
    "kind": "method",
    "name": "getColumnHeight",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#getColumnHeight",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 768,
    "kind": "method",
    "name": "getColumn",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#getColumn",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "n",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 769,
    "kind": "method",
    "name": "getStepDuration",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#getStepDuration",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 770,
    "kind": "method",
    "name": "getStartTime",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#getStartTime",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 771,
    "kind": "method",
    "name": "dispose",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#dispose",
    "access": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 772,
    "kind": "member",
    "name": "data",
    "memberof": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity",
    "static": false,
    "longname": "src/utils/prefilled-matrix-entity.js~PrefilledMatrixEntity#data",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 773,
    "kind": "file",
    "name": "src/utils/scale-tick-intervals.js",
    "content": "\n/**\n * Code to calculate which values to label in a scale between two\n * endpoints, and how they should be labelled. Based on\n * ScaleTickIntervals from Sonic Visualiser, relicensed for this\n * library. Copyright 2017 QMUL.\n */\n\nexport default class ScaleTickIntervals {\n\n  constructor() { }\n  \n  /**\n   * Return an array of objects describing tick locations and labels,\n   * each object having \"value\" (number) and \"label\" (string)\n   * properties. All ticks will be within the range [min, max] and\n   * there will be approximately n+1 of them, dividing the range up\n   * into n divisions, although this number may vary based on which\n   * tick values seem best suited to labelling.\n   */\n  linear(min, max, n) {\n    let instruction = this._linearInstruction(min, max, n);\n    return this._explode(instruction);\n  }\n\n  _linearInstruction(min, max, n) {\n    let display = \"auto\";\n    if (max < min) {\n      return this._linearInstruction(max, min, n);\n    }\n    if (n < 1 || max === min) {\n      return {\n\tinitial: min, limit: min, spacing: 1.0,\n\troundTo: min, display, precision: 1, logUnmap: false\n      };\n    }\n    if (min !== min || max !== max) {\n      // NaNs must be involved\n      console.log(\"ScaleTickIntervals: WARNING: min = \" + min + \", max = \" + max);\n      return [];\n    }\n\n    let inc = (max - min) / n;\n\n    const digInc = Math.log10(inc);\n    const digMax = Math.log10(Math.abs(max));\n    const digMin = Math.log10(Math.abs(min));\n    \n    const precInc = Math.floor(digInc);\n    const roundTo = Math.pow(10.0, precInc);\n\n    if (precInc > -4 && precInc < 4) {\n      display = \"fixed\";\n    } else if ((digMax >= -2.0 && digMax <= 3.0) &&\n               (digMin >= -3.0 && digMin <= 3.0)) {\n      display = \"fixed\";\n    } else {\n      display = \"scientific\";\n    }\n        \n    const precRange = Math.ceil(digMax - digInc);\n\n    let prec = 1;\n        \n    if (display === \"fixed\") {\n      if (digInc < 0) {\n        prec = -precInc;\n      } else {\n        prec = 0;\n      }\n    } else {\n      prec = precRange;\n    }\n\n    let minTick = min;\n        \n    if (roundTo !== 0.0) {\n      inc = Math.round(inc / roundTo) * roundTo;\n      if (inc < roundTo) inc = roundTo;\n      minTick = Math.ceil(minTick / roundTo) * roundTo;\n      if (minTick > max) minTick = max;\n    }\n\n    if (display === \"scientific\" && minTick !== 0.0) {\n      const digNewMin = Math.log10(Math.abs(minTick));\n      if (digNewMin < digInc) {\n        prec = Math.ceil(digMax - digNewMin);\n      }\n    }\n\n    return {\n      initial: minTick, limit: max, spacing: inc,\n      roundTo, display, precision: prec, logUnmap: false\n    };\n  }\n\n  _makeTick(display, precision, value) {\n    if (display === \"scientific\") {\n      return { value, label: value.toExponential(precision) };\n    } else if (display === \"fixed\") {\n      return { value, label: value.toFixed(precision) };\n    } else {\n      return { value, label: value.toPrecision(precision) };\n    }\n  }\n\n  _explode(instruction) {\n\n    if (instruction.spacing === 0.0) {\n      return [];\n    }\n\n    let eps = 1e-7;\n    if (instruction.spacing < eps * 10.0) {\n      eps = instruction.spacing / 10.0;\n    }\n\n    const max = instruction.limit;\n    let n = 0;\n\n    let ticks = [];\n        \n    while (true) {\n      let value = instruction.initial + n * instruction.spacing;\n      if (value >= max + eps) {\n        break;\n      }\n      if (instruction.logUnmap) {\n        value = Math.pow(10.0, value);\n      }\n      if (instruction.roundTo !== 0.0) {\n        value = instruction.roundTo * Math.round(value / instruction.roundTo);\n      }\n      ticks.push(this._makeTick(instruction.display,\n                                instruction.precision,\n                                value));\n      ++n;\n    }\n\n    return ticks;\n  }\n}\n",
    "static": true,
    "longname": "src/utils/scale-tick-intervals.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 774,
    "kind": "class",
    "name": "ScaleTickIntervals",
    "memberof": "src/utils/scale-tick-intervals.js",
    "static": true,
    "longname": "src/utils/scale-tick-intervals.js~ScaleTickIntervals",
    "access": null,
    "export": true,
    "importPath": "waves-ui-piper/src/utils/scale-tick-intervals.js",
    "importStyle": "ScaleTickIntervals",
    "description": "Code to calculate which values to label in a scale between two\nendpoints, and how they should be labelled. Based on\nScaleTickIntervals from Sonic Visualiser, relicensed for this\nlibrary. Copyright 2017 QMUL.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 775,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/scale-tick-intervals.js~ScaleTickIntervals",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/scale-tick-intervals.js~ScaleTickIntervals#constructor",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 776,
    "kind": "method",
    "name": "linear",
    "memberof": "src/utils/scale-tick-intervals.js~ScaleTickIntervals",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/scale-tick-intervals.js~ScaleTickIntervals#linear",
    "access": null,
    "description": "Return an array of objects describing tick locations and labels,\neach object having \"value\" (number) and \"label\" (string)\nproperties. All ticks will be within the range [min, max] and\nthere will be approximately n+1 of them, dividing the range up\ninto n divisions, although this number may vary based on which\ntick values seem best suited to labelling.",
    "lineNumber": 21,
    "params": [
      {
        "name": "min",
        "types": [
          "*"
        ]
      },
      {
        "name": "max",
        "types": [
          "*"
        ]
      },
      {
        "name": "n",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 777,
    "kind": "method",
    "name": "_linearInstruction",
    "memberof": "src/utils/scale-tick-intervals.js~ScaleTickIntervals",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/scale-tick-intervals.js~ScaleTickIntervals#_linearInstruction",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "min",
        "types": [
          "*"
        ]
      },
      {
        "name": "max",
        "types": [
          "*"
        ]
      },
      {
        "name": "n",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"initial\": *, \"limit\": *, \"spacing\": *, \"roundTo\": *, \"display\": *, \"precision\": *, \"logUnmap\": *}"
      ]
    }
  },
  {
    "__docId__": 778,
    "kind": "method",
    "name": "_makeTick",
    "memberof": "src/utils/scale-tick-intervals.js~ScaleTickIntervals",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/scale-tick-intervals.js~ScaleTickIntervals#_makeTick",
    "access": null,
    "description": null,
    "lineNumber": 97,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "display",
        "types": [
          "*"
        ]
      },
      {
        "name": "precision",
        "types": [
          "*"
        ]
      },
      {
        "name": "value",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"value\": *, \"label\": *}"
      ]
    }
  },
  {
    "__docId__": 779,
    "kind": "method",
    "name": "_explode",
    "memberof": "src/utils/scale-tick-intervals.js~ScaleTickIntervals",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/scale-tick-intervals.js~ScaleTickIntervals#_explode",
    "access": null,
    "description": null,
    "lineNumber": 107,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "instruction",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 780,
    "kind": "file",
    "name": "src/utils/scales.js",
    "content": "/**\n * Lightweight scales mimicing the `d3.js` functionnal API.\n */\nexport default {\n  /**\n   * A linear scale interpolating values between a `domain` and a `range`.\n   * @return {Function}\n   */\n  linear() {\n    let _domain = [0, 1];\n    let _range = [0, 1];\n\n    let _slope = 1;\n    let _intercept = 0;\n\n    function _updateCoefs() {\n      _slope = (_range[1] - _range[0]) / (_domain[1] - _domain[0]);\n      _intercept = _range[0] - (_slope * _domain[0]);\n    }\n\n    function scale (value) {\n      return (_slope * value) + _intercept;\n    }\n\n    scale.invert = function(value) {\n      return (value - _intercept) / _slope;\n    };\n\n    scale.domain = function(arr = null) {\n      if (arr === null) { return _domain; }\n\n      _domain = arr;\n      _updateCoefs();\n\n      return scale;\n    };\n\n    scale.range = function(arr = null) {\n      if (arr === null) { return _range; }\n\n      _range = arr;\n      _updateCoefs();\n\n      return scale;\n    };\n\n    return scale;\n  }\n};\n",
    "static": true,
    "longname": "src/utils/scales.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 781,
    "kind": "file",
    "name": "src/waves-ui.js",
    "content": "// core\nimport LayerTimeContext from './core/layer-time-context';\nimport Layer from './core/layer';\nimport namespace from './core/namespace';\nimport TimelineTimeContext from './core/timeline-time-context';\nimport Timeline from './core/timeline';\nimport TrackCollection from './core/track-collection';\nimport Track from './core/track';\n\n// shapes\nimport AnnotatedMarker from './shapes/annotated-marker';\nimport AnnotatedSegment from './shapes/annotated-segment';\nimport BaseShape from './shapes/base-shape';\nimport Crosshairs from './shapes/crosshairs';\nimport Cursor from './shapes/cursor';\nimport Dot from './shapes/dot';\nimport Line from './shapes/line';\nimport Marker from './shapes/marker';\nimport Matrix from './shapes/matrix';\nimport Scale from './shapes/scale';\nimport Segment from './shapes/segment';\nimport Ticks from './shapes/ticks';\nimport TracePath from './shapes/trace-path';\nimport TraceDots from './shapes/trace-dots';\nimport Waveform from './shapes/waveform';\n\n// behaviors\nimport BaseBehavior from './behaviors/base-behavior';\nimport BreakpointBehavior from './behaviors/breakpoint-behavior';\nimport MarkerBehavior from './behaviors/marker-behavior';\nimport SegmentBehavior from './behaviors/segment-behavior';\nimport TimeContextBehavior from './behaviors/time-context-behavior';\nimport TraceBehavior from './behaviors/trace-behavior';\n\n// interactions\nimport EventSource from './interactions/event-source';\nimport Keyboard from './interactions/keyboard';\nimport Surface from './interactions/surface';\nimport WaveEvent from './interactions/wave-event';\n\n// states\nimport BaseState from './states/base-state';\nimport BreakpointState from './states/breakpoint-state';\nimport BrushZoomState from './states/brush-zoom-state';\nimport CenteredZoomState from './states/centered-zoom-state';\nimport ContextEditionState from './states/context-edition-state';\nimport EditionState from './states/edition-state';\nimport SelectionState from './states/selection-state';\nimport SimpleEditionState from './states/simple-edition-state';\n\n// helpers\nimport AnnotatedMarkerLayer from './helpers/annotated-marker-layer';\nimport AnnotatedSegmentLayer from './helpers/annotated-segment-layer';\nimport BreakpointLayer from './helpers/breakpoint-layer';\nimport CursorLayer from './helpers/cursor-layer';\nimport GridAxisLayer from './helpers/grid-axis-layer';\nimport HighlightLayer from './helpers/highlight-layer';\nimport LineLayer from './helpers/line-layer';\nimport MarkerLayer from './helpers/marker-layer';\nimport MatrixLayer from './helpers/matrix-layer';\nimport PianoRollLayer from './helpers/pianoroll-layer';\nimport ScaleLayer from './helpers/scale-layer';\nimport SegmentLayer from './helpers/segment-layer';\nimport TickLayer from './helpers/tick-layer';\nimport TimeAxisLayer from './helpers/time-axis-layer';\nimport TraceLayer from './helpers/trace-layer';\nimport WaveformLayer from './helpers/waveform-layer';\n\n// axis\nimport AxisLayer from './axis/axis-layer';\nimport timeAxisGenerator from './axis/time-axis-generator';\nimport gridAxisGenerator from './axis/grid-axis-generator';\n\n// utils\nimport format from './utils/format';\nimport MatrixEntity from './utils/matrix-entity';\nimport OrthogonalData from './utils/orthogonal-data';\nimport PrefilledMatrixEntity from './utils/prefilled-matrix-entity';\nimport scales from './utils/scales';\n\nexport default {\n  core: {\n    LayerTimeContext, Layer, namespace,\n    TimelineTimeContext, Timeline, TrackCollection, Track\n  },\n  shapes: {\n    AnnotatedMarker, AnnotatedSegment, BaseShape, Crosshairs, Cursor,\n    Dot, Line, Marker, Matrix, Scale, Segment, Ticks, TracePath, TraceDots, Waveform\n  },\n  behaviors: {\n    BaseBehavior, BreakpointBehavior, MarkerBehavior, SegmentBehavior,\n    TimeContextBehavior, TraceBehavior\n  },\n  interactions: { EventSource, Keyboard, Surface, WaveEvent },\n  states: {\n    BaseState, BreakpointState, BrushZoomState, CenteredZoomState,\n    ContextEditionState, EditionState, SelectionState, SimpleEditionState\n  },\n  helpers: {\n    AnnotatedMarkerLayer, AnnotatedSegmentLayer, BreakpointLayer,\n    CursorLayer, GridAxisLayer, HighlightLayer, LineLayer, MarkerLayer, MatrixLayer, PianoRollLayer,\n    ScaleLayer, SegmentLayer, TickLayer, TimeAxisLayer, TraceLayer, WaveformLayer\n  },\n  axis: {\n    AxisLayer, timeAxisGenerator, gridAxisGenerator\n  },\n  utils: {\n    format, MatrixEntity, OrthogonalData, PrefilledMatrixEntity, scales\n  }\n};\n",
    "static": true,
    "longname": "src/waves-ui.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 783,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 784,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 785,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 786,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 787,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 788,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 789,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 790,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 791,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 792,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 793,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 794,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 795,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 796,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 797,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 798,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 799,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 800,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 801,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 802,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 803,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 804,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 805,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 806,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 807,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 808,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 809,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 810,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 811,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 812,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 813,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 814,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 815,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 816,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 817,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 818,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 819,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 820,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 821,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 822,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 823,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 824,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 825,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 826,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 827,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 828,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 829,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "lineNumber": 193,
    "builtinExternal": true
  },
  {
    "__docId__": 831,
    "kind": "external",
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 832,
    "kind": "external",
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 833,
    "kind": "external",
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 834,
    "kind": "external",
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 835,
    "kind": "external",
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 836,
    "kind": "external",
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 837,
    "kind": "external",
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 838,
    "kind": "external",
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "lineNumber": 34,
    "builtinExternal": true
  }
]